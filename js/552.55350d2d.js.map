{"version":3,"file":"js/552.55350d2d.js","mappings":"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","sources":["webpack://confluence-helper/./node_modules/core-js/internals/add-to-unscopables.js","webpack://confluence-helper/./node_modules/core-js/internals/array-buffer-native.js","webpack://confluence-helper/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://confluence-helper/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://confluence-helper/./node_modules/core-js/internals/html.js","webpack://confluence-helper/./node_modules/core-js/internals/object-create.js","webpack://confluence-helper/./node_modules/core-js/internals/object-define-properties.js","webpack://confluence-helper/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://confluence-helper/./node_modules/core-js/internals/object-keys.js","webpack://confluence-helper/./node_modules/core-js/internals/to-offset.js","webpack://confluence-helper/./node_modules/core-js/internals/to-positive-integer.js","webpack://confluence-helper/./node_modules/core-js/modules/es.array.at.js","webpack://confluence-helper/./node_modules/core-js/modules/es.string.at-alternative.js","webpack://confluence-helper/./node_modules/core-js/modules/es.typed-array.at.js","webpack://confluence-helper/./node_modules/core-js/modules/es.typed-array.set.js","webpack://confluence-helper/./node_modules/linkify-it/index.js","webpack://confluence-helper/./node_modules/linkify-it/lib/re.js","webpack://confluence-helper/./node_modules/markdown-it/index.js","webpack://confluence-helper/./node_modules/markdown-it/lib/common/entities.js","webpack://confluence-helper/./node_modules/markdown-it/lib/common/html_blocks.js","webpack://confluence-helper/./node_modules/markdown-it/lib/common/html_re.js","webpack://confluence-helper/./node_modules/markdown-it/lib/common/utils.js","webpack://confluence-helper/./node_modules/markdown-it/lib/helpers/index.js","webpack://confluence-helper/./node_modules/markdown-it/lib/helpers/parse_link_destination.js","webpack://confluence-helper/./node_modules/markdown-it/lib/helpers/parse_link_label.js","webpack://confluence-helper/./node_modules/markdown-it/lib/helpers/parse_link_title.js","webpack://confluence-helper/./node_modules/markdown-it/lib/index.js","webpack://confluence-helper/./node_modules/markdown-it/lib/parser_block.js","webpack://confluence-helper/./node_modules/markdown-it/lib/parser_core.js","webpack://confluence-helper/./node_modules/markdown-it/lib/parser_inline.js","webpack://confluence-helper/./node_modules/markdown-it/lib/presets/commonmark.js","webpack://confluence-helper/./node_modules/markdown-it/lib/presets/default.js","webpack://confluence-helper/./node_modules/markdown-it/lib/presets/zero.js","webpack://confluence-helper/./node_modules/markdown-it/lib/renderer.js","webpack://confluence-helper/./node_modules/markdown-it/lib/ruler.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/blockquote.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/code.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/fence.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/heading.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/hr.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/html_block.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/lheading.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/list.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/paragraph.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/reference.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/state_block.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_block/table.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/block.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/inline.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/linkify.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/normalize.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/replacements.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/smartquotes.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/state_core.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_core/text_join.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/autolink.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/backticks.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/balance_pairs.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/emphasis.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/entity.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/escape.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/fragments_join.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/html_inline.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/image.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/link.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/linkify.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/newline.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/state_inline.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/strikethrough.js","webpack://confluence-helper/./node_modules/markdown-it/lib/rules_inline/text.js","webpack://confluence-helper/./node_modules/markdown-it/lib/token.js","webpack://confluence-helper/./node_modules/mdurl/decode.js","webpack://confluence-helper/./node_modules/mdurl/encode.js","webpack://confluence-helper/./node_modules/mdurl/format.js","webpack://confluence-helper/./node_modules/mdurl/index.js","webpack://confluence-helper/./node_modules/mdurl/parse.js","webpack://confluence-helper/./node_modules/punycode/punycode.es6.js","webpack://confluence-helper/./node_modules/uc.micro/categories/Cc/regex.js","webpack://confluence-helper/./node_modules/uc.micro/categories/Cf/regex.js","webpack://confluence-helper/./node_modules/uc.micro/categories/P/regex.js","webpack://confluence-helper/./node_modules/uc.micro/categories/Z/regex.js","webpack://confluence-helper/./node_modules/uc.micro/index.js","webpack://confluence-helper/./node_modules/uc.micro/properties/Any/regex.js","webpack://confluence-helper/./node_modules/vscode-oniguruma/release/main.js","webpack://confluence-helper/vscodetextmate/webpack/universalModuleDefinition","webpack://confluence-helper/vscodetextmate/webpack/bootstrap","webpack://confluence-helper/vscodetextmate/./out/grammar.js","webpack://confluence-helper/vscodetextmate/./out/utils.js","webpack://confluence-helper/vscodetextmate/./out/debug.js","webpack://confluence-helper/vscodetextmate/./out/main.js","webpack://confluence-helper/vscodetextmate/./out/registry.js","webpack://confluence-helper/vscodetextmate/./out/rule.js","webpack://confluence-helper/vscodetextmate/./out/matcher.js","webpack://confluence-helper/vscodetextmate/./node_modules/process/browser.js","webpack://confluence-helper/vscodetextmate/./out/grammarReader.js","webpack://confluence-helper/vscodetextmate/./out/plist.js","webpack://confluence-helper/vscodetextmate/./out/json.js","webpack://confluence-helper/vscodetextmate/./out/theme.js","webpack://confluence-helper/./node_modules/shiki/dist/index.esm.js","webpack://confluence-helper/./src/components/BarLoading.vue","webpack://confluence-helper/./src/components/BarLoading.vue?1cfd","webpack://confluence-helper/./src/views/MarkdownToHtml.vue","webpack://confluence-helper/./src/views/MarkdownToHtml.vue?8b48"],"sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","// eslint-disable-next-line es-x/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = uid('TYPED_ARRAY_CONSTRUCTOR');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_CONSTRUCTOR: TYPED_ARRAY_CONSTRUCTOR,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es-x/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar Object = global.Object;\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof Object ? ObjectPrototype : null;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var global = require('../internals/global');\nvar toPositiveInteger = require('../internals/to-positive-integer');\n\nvar RangeError = global.RangeError;\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var global = require('../internals/global');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar RangeError = global.RangeError;\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'Array', proto: true }, {\n  at: function at(index) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : O[k];\n  }\n});\n\naddToUnscopables('at');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\n\nvar charAt = uncurryThis(''.charAt);\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es-x/no-array-string-prototype-at -- safe\n  return '𠮷'.at(-2) !== '\\uD842';\n});\n\n// `String.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'String', proto: true, forced: FORCED }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : charAt(S, k);\n  }\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\nexportTypedArrayMethod('at', function at(index) {\n  var O = aTypedArray(this);\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n  return (k < 0 || k >= len) ? undefined : O[k];\n});\n","'use strict';\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toOffset = require('../internals/to-offset');\nvar toIndexedObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar $set = Int8ArrayPrototype && Int8ArrayPrototype.set;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS = !fails(function () {\n  // eslint-disable-next-line es-x/no-typed-arrays -- required for testing\n  var array = new Uint8ClampedArray(2);\n  call($set, array, { length: 1, 0: 3 }, 1);\n  return array[1] !== 3;\n});\n\n// https://bugs.chromium.org/p/v8/issues/detail?id=11294 and other\nvar TO_OBJECT_BUG = WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS && ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS && fails(function () {\n  var array = new Int8Array(2);\n  array.set(1);\n  array.set('2', 1);\n  return array[0] !== 0 || array[1] !== 2;\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var src = toIndexedObject(arrayLike);\n  if (WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS) return call($set, this, src, offset);\n  var length = this.length;\n  var len = lengthOfArrayLike(src);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, !WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS || TO_OBJECT_BUG);\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test     = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n  self.re.schema_at_start = RegExp('^' + self.re.schema_search.source, 'i');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/**\n * LinkifyIt#matchAtStart(text) -> Match|null\n *\n * Returns fully-formed (not fuzzy) link if it starts at the beginning\n * of the string, and null otherwise.\n **/\nLinkifyIt.prototype.matchAtStart = function matchAtStart(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) return null;\n\n  var m = this.re.schema_at_start.exec(text);\n  if (!m) return null;\n\n  var len = this.testSchemaAt(text, m[2], m[0].length);\n  if (len) {\n    this.__schema__     = m[2];\n    this.__index__      = m.index + m[1].length;\n    this.__last_index__ = m.index + m[0].length + len;\n  }\n\n  return createMatch(this, 0);\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n  opts = opts || {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')' +\n    '(?!' + (opts['---'] ? '-(?!--)|' : '-|') + '_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-;]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-])|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,}[a-zA-Z0-9%/&]|' + // google has many dots in \"google search\" links (#66, #81).\n                                     // github has ... in commit range links,\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // - params separator\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]|$)|' +\n          (opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          ',(?!' + re.src_ZCc + '|$)|' +       // allow `,,,` in paths\n          ';(?!' + re.src_ZCc + '|$)|' +       // allow `;` if not followed by space-like char\n          '\\\\!+(?!' + re.src_ZCc + '|[!]|$)|' +  // allow `!!!` in paths, but not at the end\n          '\\\\?(?!' + re.src_ZCc + '|[?]|$)' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","'use strict';\n\n\nmodule.exports = require('./lib/');\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?][\\\\s\\\\S]*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 'ẞ'.toLowerCase() === 'Ṿ', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if ('ẞ'.toLowerCase() === 'Ṿ') {\n    str = str.replace(/ẞ/g, 'ß');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // İ, ϴ, ẞ, Ω, K, Å - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (Θ), U+03f4 (ϴ) and lowercase U+03b8 (θ), U+03d1 (ϑ)\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change ϑ (it's already lowercase),\n  // and .toUpperCase() doesn't change ϴ (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, pos, max) {\n  var code, level,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3C /* < */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      if (str.charCodeAt(pos + 1) === 0x20) { break; }\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 32) { return result; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.lines = lines;\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, pos, max) {\n  var code,\n      marker,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x28 /* ( */ && marker === 0x29 /* ) */) {\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  default: require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  // add '%' to exclude list because of https://github.com/markdown-it/markdown-it/issues/720\n  return mdurl.decode(mdurl.format(parsed), mdurl.decode.defaultChars + '%');\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - `“”‘’`, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `'«»„“'` for Russian, `'„“‚‘'` for German, and\n *   `['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(str, { language: lang, ignoreIllegals: true }).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you will - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and return list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ],\n  // `text_join` finds `text_special` tokens (for escape sequences)\n  // and joins them with the rest of the text\n  [ 'text_join',      require('./rules_core/text_join')      ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'linkify',         require('./rules_inline/linkify') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\n// `rule2` ruleset was created specifically for emphasis/strikethrough\n// post-processing and may be changed in the future.\n//\n// Don't use this for anything except pairs (plugins working with `balance_pairs`).\n//\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  // rules for pairs separate '**' into its own text tokens, which may be left unused,\n  // rule below merges unused segments back with the rest of the text\n  [ 'fragments_join',  require('./rules_inline/fragments_join') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'fragments_join'\n      ]\n    }\n  }\n};\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'fragments_join'\n      ]\n    }\n  }\n};\n","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(tokens[idx].content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      langAttrs = '',\n      highlighted, i, arr, tmpAttrs, tmpToken;\n\n  if (info) {\n    arr = info.split(/(\\s+)/g);\n    langName = arr[0];\n    langAttrs = arr.slice(2).join('');\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName, langAttrs) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .deepClone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i] = tmpAttrs[i].slice();\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    } else if (tokens[i].type === 'softbreak') {\n      result += '\\n';\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[tokens[i].type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      isOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // set offset past spaces and \">\"\n  initial = offset = state.sCount[startLine] + 1;\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    isOutdented = state.sCount[nextLine] < state.blkIndent;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !isOutdented) {\n      // This line is inside the blockquote.\n\n      // set offset past spaces and \">\"\n      initial = offset = state.sCount[nextLine] + 1;\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, false) + '\\n';\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style|textarea)(?=(\\s|>|$))/i, /<\\/(script|pre|style|textarea)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[startLine] - state.listIndent >= 4 &&\n      state.sCount[startLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.sCount[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.slice(start, posAfterMarker - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n    if (isOrdered) {\n      token.info = state.src.slice(start, posAfterMarker - 1);\n    }\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[startLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","// GFM table, https://github.github.com/gfm/#tables-extension-\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  return state.src.slice(pos, max);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      isEscaped = false,\n      lastPos = 0,\n      current = '';\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x7c/* | */) {\n      if (!isEscaped) {\n        // pipe separating cells, '|'\n        result.push(current + str.substring(lastPos, pos));\n        current = '';\n        lastPos = pos + 1;\n      } else {\n        // escaped pipe, '\\|'\n        current += str.substring(lastPos, pos - 1);\n        lastPos = pos;\n      }\n    }\n\n    isEscaped = (ch === 0x5c/* \\ */);\n    pos++;\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(current + str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, l, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines, oldParentType, terminate,\n      terminatorRules, firstCh, secondCh;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  firstCh = state.src.charCodeAt(pos++);\n  if (firstCh !== 0x7C/* | */ && firstCh !== 0x2D/* - */ && firstCh !== 0x3A/* : */) { return false; }\n\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  secondCh = state.src.charCodeAt(pos++);\n  if (secondCh !== 0x7C/* | */ && secondCh !== 0x2D/* - */ && secondCh !== 0x3A/* : */ && !isSpace(secondCh)) {\n    return false;\n  }\n\n  // if first character is '-', then second character must not be a space\n  // (due to parsing ambiguity with list)\n  if (firstCh === 0x2D/* - */ && isSpace(secondCh)) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText);\n  if (columns.length && columns[0] === '') columns.shift();\n  if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n  // header row will define an amount of columns in the entire table,\n  // and align row should be exactly the same (the rest of the rows can differ)\n  columnCount = columns.length;\n  if (columnCount === 0 || columnCount !== aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'table';\n\n  // use 'blockquote' lists for termination because it's\n  // the most similar to tables\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) { break; }\n    lineText = getLine(state, nextLine).trim();\n    if (!lineText) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText);\n    if (columns.length && columns[0] === '') columns.shift();\n    if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n    if (nextLine === startLine + 2) {\n      token     = state.push('tbody_open', 'tbody', 1);\n      token.map = tbodyLines = [ startLine + 2, 0 ];\n    }\n\n    token     = state.push('tr_open', 'tr', 1);\n    token.map = [ nextLine, nextLine + 1 ];\n\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n\n  if (tbodyLines) {\n    token = state.push('tbody_close', 'tbody', -1);\n    tbodyLines[1] = nextLine;\n  }\n\n  token = state.push('table_close', 'table', -1);\n  tableLines[1] = nextLine;\n\n  state.parentType = oldParentType;\n  state.line = nextLine;\n  return true;\n};\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        // forbid escape sequence at the start of the string,\n        // this avoids http\\://example.com/ from being linkified as\n        // http:<a href=\"//example.com/\">//example.com/</a>\n        if (links.length > 0 &&\n            links[0].index === 0 &&\n            i > 0 &&\n            tokens[i - 1].type === 'text_special') {\n          links = links.slice(1);\n        }\n\n        for (ln = 0; ln < links.length; ln++) {\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","// Simple typographic replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - multiplications 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  tm: '™'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '±')\n          // .., ..., ....... -> …\n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---(?=[^-]|$)/mg, '$1\\u2014')\n          // en-dash\n          .replace(/(^|\\s)--(?=\\s|$)/mg, '$1\\u2013')\n          .replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg, '$1\\u2013');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /* ’ */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.slice(0, index) + ch + str.slice(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // Replace quotes in the middle of punctuation sequence, but not\n        // in the middle of the words, i.e.:\n        //\n        // 1. foo \" bar \" baz - not replaced\n        // 2. foo-\"-bar-\"-baz - replaced\n        // 3. foo\"bar\"baz     - not replaced\n        //\n        canOpen = isLastPunctChar;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","// Join raw text tokens with the rest of the text\n//\n// This is set as a separate rule to provide an opportunity for plugins\n// to run text replacements after text join, but before escape join.\n//\n// For example, `\\:)` shouldn't be replaced with an emoji.\n//\n'use strict';\n\n\nmodule.exports = function text_join(state) {\n  var j, l, tokens, curr, max, last,\n      blockTokens = state.tokens;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') continue;\n\n    tokens = blockTokens[j].children;\n    max = tokens.length;\n\n    for (curr = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text_special') {\n        tokens[curr].type = 'text';\n      }\n    }\n\n    for (curr = last = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text' &&\n          curr + 1 < max &&\n          tokens[curr + 1].type === 'text') {\n\n        // collapse two adjacent text nodes\n        tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n      } else {\n        if (curr !== last) { tokens[last] = tokens[curr]; }\n\n        last++;\n      }\n    }\n\n    if (curr !== last) {\n      tokens.length = last;\n    }\n  }\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/;\nvar AUTOLINK_RE = /^([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)$/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var url, fullUrl, token, ch, start, max,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  start = state.pos;\n  max = state.posMax;\n\n  for (;;) {\n    if (++pos >= max) return false;\n\n    ch = state.src.charCodeAt(pos);\n\n    if (ch === 0x3C /* < */) return false;\n    if (ch === 0x3E /* > */) break;\n  }\n\n  url = state.src.slice(start + 1, pos);\n\n  if (AUTOLINK_RE.test(url)) {\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  if (EMAIL_RE.test(url)) {\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  return false;\n};\n","// Parse backticks\n\n'use strict';\n\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, token, matchStart, matchEnd, openerLength, closerLength,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  // scan marker length\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n  openerLength = marker.length;\n\n  if (state.backticksScanned && (state.backticks[openerLength] || 0) <= start) {\n    if (!silent) state.pending += marker;\n    state.pos += openerLength;\n    return true;\n  }\n\n  matchStart = matchEnd = pos;\n\n  // Nothing found in the cache, scan until the end of the line (or until marker is found)\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    // scan marker length\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    closerLength = matchEnd - matchStart;\n\n    if (closerLength === openerLength) {\n      // Found matching closer length.\n      if (!silent) {\n        token     = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n\n    // Some different length found, put it in cache as upper limit of where closer can be found\n    state.backticks[closerLength] = matchStart;\n  }\n\n  // Scanned through the end, didn't find anything\n  state.backticksScanned = true;\n\n  if (!silent) state.pending += marker;\n  state.pos += openerLength;\n  return true;\n};\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(state, delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  if (!max) return;\n\n  // headerIdx is the first delimiter of the current (where closer is) delimiter run\n  var headerIdx = 0;\n  var lastTokenIdx = -2; // needs any value lower than -1\n  var jumps = [];\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    jumps.push(0);\n\n    // markers belong to same delimiter run if:\n    //  - they have adjacent tokens\n    //  - AND markers are the same\n    //\n    if (delimiters[headerIdx].marker !== closer.marker || lastTokenIdx !== closer.token - 1) {\n      headerIdx = closerIdx;\n    }\n\n    lastTokenIdx = closer.token;\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker, each delimiter length modulo 3,\n    // and for whether this closer can be an opener;\n    // https://github.com/commonmark/cmark/commit/34250e12ccebdc6372b8b49c44fab57c72443460\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1, -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][(closer.open ? 3 : 0) + (closer.length % 3)];\n\n    openerIdx = headerIdx - jumps[headerIdx] - 1;\n\n    newMinOpenerIdx = openerIdx;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= jumps[openerIdx] + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (opener.open && opener.end < 0) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            jumps[openerIdx - 1] + 1 :\n            0;\n\n          jumps[closerIdx] = closerIdx - openerIdx + lastJump;\n          jumps[openerIdx] = lastJump;\n\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          // treat next token as start of run,\n          // it optimizes skips in **<...>**a**<...>** pathological case\n          lastTokenIdx = -2;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.open ? 3 : 0) + ((closer.length || 0) % 3)] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               // check that first two markers match and adjacent\n               delimiters[i - 1].marker === startDelim.marker &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               // check that last two markers are adjacent (we can safely assume they match)\n               delimiters[startDelim.end + 1].token === endDelim.token + 1;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) return false;\n\n  if (pos + 1 >= max) return false;\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x23 /* # */) {\n    match = state.src.slice(pos).match(DIGITAL_RE);\n    if (match) {\n      if (!silent) {\n        code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n\n        token         = state.push('text_special', '', 0);\n        token.content = isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        token.markup  = match[0];\n        token.info    = 'entity';\n      }\n      state.pos += match[0].length;\n      return true;\n    }\n  } else {\n    match = state.src.slice(pos).match(NAMED_RE);\n    if (match) {\n      if (has(entities, match[1])) {\n        if (!silent) {\n          token         = state.push('text_special', '', 0);\n          token.content = entities[match[1]];\n          token.markup  = match[0];\n          token.info    = 'entity';\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch1, ch2, origStr, escapedStr, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) return false;\n  pos++;\n\n  // '\\' at the end of the inline block\n  if (pos >= max) return false;\n\n  ch1 = state.src.charCodeAt(pos);\n\n  if (ch1 === 0x0A) {\n    if (!silent) {\n      state.push('hardbreak', 'br', 0);\n    }\n\n    pos++;\n    // skip leading whitespaces from next line\n    while (pos < max) {\n      ch1 = state.src.charCodeAt(pos);\n      if (!isSpace(ch1)) break;\n      pos++;\n    }\n\n    state.pos = pos;\n    return true;\n  }\n\n  escapedStr = state.src[pos];\n\n  if (ch1 >= 0xD800 && ch1 <= 0xDBFF && pos + 1 < max) {\n    ch2 = state.src.charCodeAt(pos + 1);\n\n    if (ch2 >= 0xDC00 && ch2 <= 0xDFFF) {\n      escapedStr += state.src[pos + 1];\n      pos++;\n    }\n  }\n\n  origStr = '\\\\' + escapedStr;\n\n  if (!silent) {\n    token = state.push('text_special', '', 0);\n\n    if (ch1 < 256 && ESCAPED[ch1] !== 0) {\n      token.content = escapedStr;\n    } else {\n      token.content = origStr;\n    }\n\n    token.markup = origStr;\n    token.info   = 'escape';\n  }\n\n  state.pos = pos + 1;\n  return true;\n};\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function fragments_join(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n\n    if (isLinkOpen(token.content))  state.linkLevel++;\n    if (isLinkClose(token.content)) state.linkLevel--;\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      token,\n      href = '',\n      title = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                ^^ skipping these spaces\n      start = pos;\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                  ^^^^^^^ parsing link title\n      res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n      if (pos < max && start !== pos && res.ok) {\n        title = res.str;\n        pos = res.pos;\n\n        // [link](  <href>  \"title\"  )\n        //                         ^^ skipping these spaces\n        for (; pos < max; pos++) {\n          code = state.src.charCodeAt(pos);\n          if (!isSpace(code) && code !== 0x0A) { break; }\n        }\n      }\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.linkLevel++;\n    state.md.inline.tokenize(state);\n    state.linkLevel--;\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process links like https://example.org/\n\n'use strict';\n\n\n// RFC3986: scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\nvar SCHEME_RE = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;\n\n\nmodule.exports = function linkify(state, silent) {\n  var pos, max, match, proto, link, url, fullUrl, token;\n\n  if (!state.md.options.linkify) return false;\n  if (state.linkLevel > 0) return false;\n\n  pos = state.pos;\n  max = state.posMax;\n\n  if (pos + 3 > max) return false;\n  if (state.src.charCodeAt(pos) !== 0x3A/* : */) return false;\n  if (state.src.charCodeAt(pos + 1) !== 0x2F/* / */) return false;\n  if (state.src.charCodeAt(pos + 2) !== 0x2F/* / */) return false;\n\n  match = state.pending.match(SCHEME_RE);\n  if (!match) return false;\n\n  proto = match[1];\n\n  link = state.md.linkify.matchAtStart(state.src.slice(pos - proto.length));\n  if (!link) return false;\n\n  url = link.url;\n\n  // disallow '*' at the end of the link (conflicts with emphasis)\n  url = url.replace(/\\*+$/, '');\n\n  fullUrl = state.md.normalizeLink(url);\n  if (!state.md.validateLink(fullUrl)) return false;\n\n  if (!silent) {\n    state.pending = state.pending.slice(0, -proto.length);\n\n    token         = state.push('link_open', 'a', 1);\n    token.attrs   = [ [ 'href', fullUrl ] ];\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n\n    token         = state.push('text', '', 0);\n    token.content = state.md.normalizeLinkText(url);\n\n    token         = state.push('link_close', 'a', -1);\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n  }\n\n  state.pos += url.length - proto.length;\n  return true;\n};\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, ws, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Find whitespaces tail of pending chars.\n        ws = pmax - 1;\n        while (ws >= 1 && state.pending.charCodeAt(ws - 1) === 0x20) ws--;\n\n        state.pending = state.pending.slice(0, ws);\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n\n  // backtick length => last seen position\n  this.backticks = {};\n  this.backticksScanned = false;\n\n  // Counter used to disable inline linkify-it execution\n  // inside <a> and markdown links\n  this.linkLevel = 0;\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0,     // disable \"rule of 3\" length checks meant for emphasis\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * Additional information:\n   *\n   * - Info string for \"fence\" tokens\n   * - The value \"auto\" for autolink \"link_open\" and \"link_close\" tokens\n   * - The string value of the item marker for ordered-list \"list_item_open\" tokens\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n","'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport { ucs2decode, ucs2encode, decode, encode, toASCII, toUnicode };\nexport default punycode;\n","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.onig=n():t.onig=n()}(this,(function(){return t={770:function(t,n,e){\"use strict\";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,\"__esModule\",{value:!0}),n.setDefaultDebugCall=n.createOnigScanner=n.createOnigString=n.loadWASM=n.OnigScanner=n.OnigString=void 0;const i=r(e(418));let o=null,a=!1;class f{constructor(t){const n=t.length,e=f._utf8ByteLength(t),r=e!==n,i=r?new Uint32Array(n+1):null;r&&(i[n]=e);const o=r?new Uint32Array(e+1):null;r&&(o[e]=n);const a=new Uint8Array(e);let s=0;for(let e=0;e<n;e++){const f=t.charCodeAt(e);let u=f,c=!1;if(f>=55296&&f<=56319&&e+1<n){const n=t.charCodeAt(e+1);n>=56320&&n<=57343&&(u=65536+(f-55296<<10)|n-56320,c=!0)}r&&(i[e]=s,c&&(i[e+1]=s),u<=127?o[s+0]=e:u<=2047?(o[s+0]=e,o[s+1]=e):u<=65535?(o[s+0]=e,o[s+1]=e,o[s+2]=e):(o[s+0]=e,o[s+1]=e,o[s+2]=e,o[s+3]=e)),u<=127?a[s++]=u:u<=2047?(a[s++]=192|(1984&u)>>>6,a[s++]=128|(63&u)>>>0):u<=65535?(a[s++]=224|(61440&u)>>>12,a[s++]=128|(4032&u)>>>6,a[s++]=128|(63&u)>>>0):(a[s++]=240|(1835008&u)>>>18,a[s++]=128|(258048&u)>>>12,a[s++]=128|(4032&u)>>>6,a[s++]=128|(63&u)>>>0),c&&e++}this.utf16Length=n,this.utf8Length=e,this.utf16Value=t,this.utf8Value=a,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=o}static _utf8ByteLength(t){let n=0;for(let e=0,r=t.length;e<r;e++){const i=t.charCodeAt(e);let o=i,a=!1;if(i>=55296&&i<=56319&&e+1<r){const n=t.charCodeAt(e+1);n>=56320&&n<=57343&&(o=65536+(i-55296<<10)|n-56320,a=!0)}n+=o<=127?1:o<=2047?2:o<=65535?3:4,a&&e++}return n}createString(t){const n=t._omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,n),n}}class s{constructor(t){if(this.id=++s.LAST_ID,!o)throw new Error(\"Must invoke loadWASM first.\");this._onigBinding=o,this.content=t;const n=new f(t);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!s._sharedPtrInUse?(s._sharedPtr||(s._sharedPtr=o._omalloc(1e4)),s._sharedPtrInUse=!0,o.HEAPU8.set(n.utf8Value,s._sharedPtr),this.ptr=s._sharedPtr):this.ptr=n.createString(o)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===s._sharedPtr?s._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}n.OnigString=s,s.LAST_ID=0,s._sharedPtr=0,s._sharedPtrInUse=!1;class u{constructor(t){if(!o)throw new Error(\"Must invoke loadWASM first.\");const n=[],e=[];for(let r=0,i=t.length;r<i;r++){const i=new f(t[r]);n[r]=i.createString(o),e[r]=i.utf8Length}const r=o._omalloc(4*t.length);o.HEAPU32.set(n,r/4);const i=o._omalloc(4*t.length);o.HEAPU32.set(e,i/4);const a=o._createOnigScanner(r,i,t.length);for(let e=0,r=t.length;e<r;e++)o._ofree(n[e]);o._ofree(i),o._ofree(r),0===a&&function(t){throw new Error(t.UTF8ToString(t._getLastOnigError()))}(o),this._onigBinding=o,this._ptr=a}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(t,n,e){let r=a,i=0;if(\"number\"==typeof e?(8&e&&(r=!0),i=e):\"boolean\"==typeof e&&(r=e),\"string\"==typeof t){t=new s(t);const e=this._findNextMatchSync(t,n,r,i);return t.dispose(),e}return this._findNextMatchSync(t,n,r,i)}_findNextMatchSync(t,n,e,r){const i=this._onigBinding;let o;if(o=e?i._findNextOnigScannerMatchDbg(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(n),r):i._findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(n),r),0===o)return null;const a=i.HEAPU32;let f=o/4;const s=a[f++],u=a[f++];let c=[];for(let n=0;n<u;n++){const e=t.convertUtf8OffsetToUtf16(a[f++]),r=t.convertUtf8OffsetToUtf16(a[f++]);c[n]={start:e,end:r,length:r-e}}return{index:s,captureIndices:c}}}n.OnigScanner=u;let c=!1,l=null;n.loadWASM=function(t){if(c)return l;let n,e,r,a;if(c=!0,function(t){return\"function\"==typeof t.instantiator}(t))n=t.instantiator,e=t.print;else{let r;!function(t){return void 0!==t.data}(t)?r=t:(r=t.data,e=t.print),n=function(t){return\"undefined\"!=typeof Response&&t instanceof Response}(r)?\"function\"==typeof WebAssembly.instantiateStreaming?function(t){return n=>WebAssembly.instantiateStreaming(t,n)}(r):function(t){return async n=>{const e=await t.arrayBuffer();return WebAssembly.instantiate(e,n)}}(r):function(t){return n=>WebAssembly.instantiate(t,n)}(r)}return l=new Promise(((t,n)=>{r=t,a=n})),function(t,n,e,r){i.default({print:n,instantiateWasm:(n,e)=>{if(\"undefined\"==typeof performance){const t=()=>Date.now();n.env.emscripten_get_now=t,n.wasi_snapshot_preview1.emscripten_get_now=t}return t(n).then((t=>e(t.instance)),r),{}}}).then((t=>{o=t,e()}))}(n,e,r,a),l},n.createOnigString=function(t){return new s(t)},n.createOnigScanner=function(t){return new u(t)},n.setDefaultDebugCall=function(t){a=t}},418:t=>{var n=(\"undefined\"!=typeof document&&document.currentScript&&document.currentScript.src,function(t){var n,e,r=void 0!==(t=t||{})?t:{};r.ready=new Promise((function(t,r){n=t,e=r}));var i,o={};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);var a,f=[],s=!1,u=!1,c=!0,l=\"\";function p(t){return r.locateFile?r.locateFile(t,l):l+t}c&&(a=function(t){var n;return\"function\"==typeof readbuffer?new Uint8Array(readbuffer(t)):(v(\"object\"==typeof(n=read(t,\"binary\"))),n)},\"undefined\"!=typeof scriptArgs?f=scriptArgs:void 0!==arguments&&(f=arguments),\"undefined\"!=typeof onig_print&&(\"undefined\"==typeof console&&(console={}),console.log=onig_print,console.warn=console.error=\"undefined\"!=typeof printErr?printErr:onig_print));var h=r.print||console.log.bind(console),d=r.printErr||console.warn.bind(console);for(i in o)o.hasOwnProperty(i)&&(r[i]=o[i]);o=null,r.arguments&&(f=r.arguments),r.thisProgram&&r.thisProgram,r.quit&&r.quit;var g,_,m=function(t){};r.wasmBinary&&(g=r.wasmBinary),r.noExitRuntime,\"object\"!=typeof WebAssembly&&z(\"no native wasm support detected\");var y=!1;function v(t,n){t||z(\"Assertion failed: \"+n)}var w,S,A,b=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;function O(t,n,e){for(var r=n+e,i=n;t[i]&&!(i>=r);)++i;if(i-n>16&&t.subarray&&b)return b.decode(t.subarray(n,i));for(var o=\"\";n<i;){var a=t[n++];if(128&a){var f=63&t[n++];if(192!=(224&a)){var s=63&t[n++];if((a=224==(240&a)?(15&a)<<12|f<<6|s:(7&a)<<18|f<<12|s<<6|63&t[n++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|f)}else o+=String.fromCharCode(a)}return o}function U(t,n){return t?O(S,t,n):\"\"}function x(t,n){return t%n>0&&(t+=n-t%n),t}function P(t){w=t,r.HEAP8=new Int8Array(t),r.HEAP16=new Int16Array(t),r.HEAP32=A=new Int32Array(t),r.HEAPU8=S=new Uint8Array(t),r.HEAPU16=new Uint16Array(t),r.HEAPU32=new Uint32Array(t),r.HEAPF32=new Float32Array(t),r.HEAPF64=new Float64Array(t)}\"undefined\"!=typeof TextDecoder&&new TextDecoder(\"utf-16le\"),r.INITIAL_MEMORY;var T,R=[],E=[],M=[],L=[];function I(){if(r.preRun)for(\"function\"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)N(r.preRun.shift());$(R)}function D(){$(E)}function W(){$(M)}function C(){if(r.postRun)for(\"function\"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)k(r.postRun.shift());$(L)}function N(t){R.unshift(t)}function k(t){L.unshift(t)}E.push({func:function(){ut()}});var B=0,H=null,j=null;function F(t){B++,r.monitorRunDependencies&&r.monitorRunDependencies(B)}function V(t){if(B--,r.monitorRunDependencies&&r.monitorRunDependencies(B),0==B&&(null!==H&&(clearInterval(H),H=null),j)){var n=j;j=null,n()}}function z(t){r.onAbort&&r.onAbort(t),d(t+=\"\"),y=!0,t=\"abort(\"+t+\"). Build with -s ASSERTIONS=1 for more info.\";var n=new WebAssembly.RuntimeError(t);throw e(n),n}function q(t,n){return String.prototype.startsWith?t.startsWith(n):0===t.indexOf(n)}r.preloadedImages={},r.preloadedAudios={};var Y=\"data:application/octet-stream;base64,\";function G(t){return q(t,Y)}var J,K=\"onig.wasm\";function Q(t){try{if(t==K&&g)return new Uint8Array(g);if(a)return a(t);throw\"both async and sync fetching of the wasm failed\"}catch(t){z(t)}}function X(){return g||!s&&!u||\"function\"!=typeof fetch?Promise.resolve().then((function(){return Q(K)})):fetch(K,{credentials:\"same-origin\"}).then((function(t){if(!t.ok)throw\"failed to load wasm binary file at '\"+K+\"'\";return t.arrayBuffer()})).catch((function(){return Q(K)}))}function Z(){var t={env:st,wasi_snapshot_preview1:st};function n(t,n){var e=t.exports;r.asm=e,P((_=r.asm.memory).buffer),T=r.asm.__indirect_function_table,V()}function i(t){n(t.instance)}function o(n){return X().then((function(n){return WebAssembly.instantiate(n,t)})).then(n,(function(t){d(\"failed to asynchronously prepare wasm: \"+t),z(t)}))}if(F(),r.instantiateWasm)try{return r.instantiateWasm(t,n)}catch(t){return d(\"Module.instantiateWasm callback failed with error: \"+t),!1}return(g||\"function\"!=typeof WebAssembly.instantiateStreaming||G(K)||\"function\"!=typeof fetch?o(i):fetch(K,{credentials:\"same-origin\"}).then((function(n){return WebAssembly.instantiateStreaming(n,t).then(i,(function(t){return d(\"wasm streaming compile failed: \"+t),d(\"falling back to ArrayBuffer instantiation\"),o(i)}))}))).catch(e),{}}function $(t){for(;t.length>0;){var n=t.shift();if(\"function\"!=typeof n){var e=n.func;\"number\"==typeof e?void 0===n.arg?T.get(e)():T.get(e)(n.arg):e(void 0===n.arg?null:n.arg)}else n(r)}}function tt(t,n,e){S.copyWithin(t,n,n+e)}function nt(){return S.length}function et(t){try{return _.grow(t-w.byteLength+65535>>>16),P(_.buffer),1}catch(t){}}function rt(t){var n=nt(),e=2147483648;if(t>e)return!1;for(var r=1;r<=4;r*=2){var i=n*(1+.2/r);if(i=Math.min(i,t+100663296),et(Math.min(e,x(Math.max(t,i),65536))))return!0}return!1}G(K)||(K=p(K)),J=\"undefined\"!=typeof dateNow?dateNow:function(){return performance.now()};var it={mappings:{},buffers:[null,[],[]],printChar:function(t,n){var e=it.buffers[t];0===n||10===n?((1===t?h:d)(O(e,0)),e.length=0):e.push(n)},varargs:void 0,get:function(){return it.varargs+=4,A[it.varargs-4>>2]},getStr:function(t){return U(t)},get64:function(t,n){return t}};function ot(t,n,e,r){for(var i=0,o=0;o<e;o++){for(var a=A[n+8*o>>2],f=A[n+(8*o+4)>>2],s=0;s<f;s++)it.printChar(t,S[a+s]);i+=f}return A[r>>2]=i,0}function at(t){m(0|t)}var ft,st={emscripten_get_now:J,emscripten_memcpy_big:tt,emscripten_resize_heap:rt,fd_write:ot,setTempRet0:at},ut=(Z(),r.___wasm_call_ctors=function(){return(ut=r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)});function ct(t){function e(){ft||(ft=!0,r.calledRun=!0,y||(D(),W(),n(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),C()))}t=t||f,B>0||(I(),B>0||(r.setStatus?(r.setStatus(\"Running...\"),setTimeout((function(){setTimeout((function(){r.setStatus(\"\")}),1),e()}),1)):e()))}if(r.___errno_location=function(){return(r.___errno_location=r.asm.__errno_location).apply(null,arguments)},r._omalloc=function(){return(r._omalloc=r.asm.omalloc).apply(null,arguments)},r._ofree=function(){return(r._ofree=r.asm.ofree).apply(null,arguments)},r._getLastOnigError=function(){return(r._getLastOnigError=r.asm.getLastOnigError).apply(null,arguments)},r._createOnigScanner=function(){return(r._createOnigScanner=r.asm.createOnigScanner).apply(null,arguments)},r._freeOnigScanner=function(){return(r._freeOnigScanner=r.asm.freeOnigScanner).apply(null,arguments)},r._findNextOnigScannerMatch=function(){return(r._findNextOnigScannerMatch=r.asm.findNextOnigScannerMatch).apply(null,arguments)},r._findNextOnigScannerMatchDbg=function(){return(r._findNextOnigScannerMatchDbg=r.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},r.stackSave=function(){return(r.stackSave=r.asm.stackSave).apply(null,arguments)},r.stackRestore=function(){return(r.stackRestore=r.asm.stackRestore).apply(null,arguments)},r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.UTF8ToString=U,j=function t(){ft||ct(),ft||(j=t)},r.run=ct,r.preInit)for(\"function\"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return ct(),t.ready});t.exports=n}},n={},function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}(770);var t,n}));","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vscodetextmate\"] = factory();\n\telse\n\t\troot[\"vscodetextmate\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar rule_1 = require(\"./rule\");\nvar matcher_1 = require(\"./matcher\");\nvar debug_1 = require(\"./debug\");\nvar performanceNow = (function () {\n    if (typeof performance === 'undefined') {\n        // performance.now() is not available in this environment, so use Date.now()\n        return function () { return Date.now(); };\n    }\n    else {\n        return function () { return performance.now(); };\n    }\n})();\nfunction createGrammar(grammar, initialLanguage, embeddedLanguages, tokenTypes, grammarRepository, onigLib) {\n    return new Grammar(grammar, initialLanguage, embeddedLanguages, tokenTypes, grammarRepository, onigLib); //TODO\n}\nexports.createGrammar = createGrammar;\nvar FullScopeDependency = /** @class */ (function () {\n    function FullScopeDependency(scopeName) {\n        this.scopeName = scopeName;\n    }\n    return FullScopeDependency;\n}());\nexports.FullScopeDependency = FullScopeDependency;\nvar PartialScopeDependency = /** @class */ (function () {\n    function PartialScopeDependency(scopeName, include) {\n        this.scopeName = scopeName;\n        this.include = include;\n    }\n    PartialScopeDependency.prototype.toKey = function () {\n        return this.scopeName + \"#\" + this.include;\n    };\n    return PartialScopeDependency;\n}());\nexports.PartialScopeDependency = PartialScopeDependency;\nvar ScopeDependencyCollector = /** @class */ (function () {\n    function ScopeDependencyCollector() {\n        this.full = [];\n        this.partial = [];\n        this.visitedRule = new Set();\n        this._seenFull = new Set();\n        this._seenPartial = new Set();\n    }\n    ScopeDependencyCollector.prototype.add = function (dep) {\n        if (dep instanceof FullScopeDependency) {\n            if (!this._seenFull.has(dep.scopeName)) {\n                this._seenFull.add(dep.scopeName);\n                this.full.push(dep);\n            }\n        }\n        else {\n            if (!this._seenPartial.has(dep.toKey())) {\n                this._seenPartial.add(dep.toKey());\n                this.partial.push(dep);\n            }\n        }\n    };\n    return ScopeDependencyCollector;\n}());\nexports.ScopeDependencyCollector = ScopeDependencyCollector;\n/**\n * Fill in `result` all external included scopes in `patterns`\n */\nfunction _extractIncludedScopesInPatterns(result, baseGrammar, selfGrammar, patterns, repository) {\n    for (var _i = 0, patterns_1 = patterns; _i < patterns_1.length; _i++) {\n        var pattern = patterns_1[_i];\n        if (result.visitedRule.has(pattern)) {\n            continue;\n        }\n        result.visitedRule.add(pattern);\n        var patternRepository = (pattern.repository ? utils_1.mergeObjects({}, repository, pattern.repository) : repository);\n        if (Array.isArray(pattern.patterns)) {\n            _extractIncludedScopesInPatterns(result, baseGrammar, selfGrammar, pattern.patterns, patternRepository);\n        }\n        var include = pattern.include;\n        if (!include) {\n            continue;\n        }\n        if (include === '$base' || include === baseGrammar.scopeName) {\n            collectDependencies(result, baseGrammar, baseGrammar);\n        }\n        else if (include === '$self' || include === selfGrammar.scopeName) {\n            collectDependencies(result, baseGrammar, selfGrammar);\n        }\n        else if (include.charAt(0) === '#') {\n            collectSpecificDependencies(result, baseGrammar, selfGrammar, include.substring(1), patternRepository);\n        }\n        else {\n            var sharpIndex = include.indexOf('#');\n            if (sharpIndex >= 0) {\n                var scopeName = include.substring(0, sharpIndex);\n                var includedName = include.substring(sharpIndex + 1);\n                if (scopeName === baseGrammar.scopeName) {\n                    collectSpecificDependencies(result, baseGrammar, baseGrammar, includedName, patternRepository);\n                }\n                else if (scopeName === selfGrammar.scopeName) {\n                    collectSpecificDependencies(result, baseGrammar, selfGrammar, includedName, patternRepository);\n                }\n                else {\n                    result.add(new PartialScopeDependency(scopeName, include.substring(sharpIndex + 1)));\n                }\n            }\n            else {\n                result.add(new FullScopeDependency(include));\n            }\n        }\n    }\n}\n/**\n * Collect a specific dependency from the grammar's repository\n */\nfunction collectSpecificDependencies(result, baseGrammar, selfGrammar, include, repository) {\n    if (repository === void 0) { repository = selfGrammar.repository; }\n    if (repository && repository[include]) {\n        var rule = repository[include];\n        _extractIncludedScopesInPatterns(result, baseGrammar, selfGrammar, [rule], repository);\n    }\n}\nexports.collectSpecificDependencies = collectSpecificDependencies;\n/**\n * Collects the list of all external included scopes in `grammar`.\n */\nfunction collectDependencies(result, baseGrammar, selfGrammar) {\n    if (selfGrammar.patterns && Array.isArray(selfGrammar.patterns)) {\n        _extractIncludedScopesInPatterns(result, baseGrammar, selfGrammar, selfGrammar.patterns, selfGrammar.repository);\n    }\n    if (selfGrammar.injections) {\n        var injections = [];\n        for (var injection in selfGrammar.injections) {\n            injections.push(selfGrammar.injections[injection]);\n        }\n        _extractIncludedScopesInPatterns(result, baseGrammar, selfGrammar, injections, selfGrammar.repository);\n    }\n}\nexports.collectDependencies = collectDependencies;\nfunction scopesAreMatching(thisScopeName, scopeName) {\n    if (!thisScopeName) {\n        return false;\n    }\n    if (thisScopeName === scopeName) {\n        return true;\n    }\n    var len = scopeName.length;\n    return thisScopeName.length > len && thisScopeName.substr(0, len) === scopeName && thisScopeName[len] === '.';\n}\nfunction nameMatcher(identifers, scopes) {\n    if (scopes.length < identifers.length) {\n        return false;\n    }\n    var lastIndex = 0;\n    return identifers.every(function (identifier) {\n        for (var i = lastIndex; i < scopes.length; i++) {\n            if (scopesAreMatching(scopes[i], identifier)) {\n                lastIndex = i + 1;\n                return true;\n            }\n        }\n        return false;\n    });\n}\nfunction collectInjections(result, selector, rule, ruleFactoryHelper, grammar) {\n    var matchers = matcher_1.createMatchers(selector, nameMatcher);\n    var ruleId = rule_1.RuleFactory.getCompiledRuleId(rule, ruleFactoryHelper, grammar.repository);\n    for (var _i = 0, matchers_1 = matchers; _i < matchers_1.length; _i++) {\n        var matcher = matchers_1[_i];\n        result.push({\n            matcher: matcher.matcher,\n            ruleId: ruleId,\n            grammar: grammar,\n            priority: matcher.priority\n        });\n    }\n}\nvar ScopeMetadata = /** @class */ (function () {\n    function ScopeMetadata(scopeName, languageId, tokenType, themeData) {\n        this.scopeName = scopeName;\n        this.languageId = languageId;\n        this.tokenType = tokenType;\n        this.themeData = themeData;\n    }\n    return ScopeMetadata;\n}());\nexports.ScopeMetadata = ScopeMetadata;\nvar ScopeMetadataProvider = /** @class */ (function () {\n    function ScopeMetadataProvider(initialLanguage, themeProvider, embeddedLanguages) {\n        this._initialLanguage = initialLanguage;\n        this._themeProvider = themeProvider;\n        this._cache = new Map();\n        this._defaultMetaData = new ScopeMetadata('', this._initialLanguage, 0 /* Other */, [this._themeProvider.getDefaults()]);\n        // embeddedLanguages handling\n        this._embeddedLanguages = Object.create(null);\n        if (embeddedLanguages) {\n            // If embeddedLanguages are configured, fill in `this._embeddedLanguages`\n            var scopes = Object.keys(embeddedLanguages);\n            for (var i = 0, len = scopes.length; i < len; i++) {\n                var scope = scopes[i];\n                var language = embeddedLanguages[scope];\n                if (typeof language !== 'number' || language === 0) {\n                    console.warn('Invalid embedded language found at scope ' + scope + ': <<' + language + '>>');\n                    // never hurts to be too careful\n                    continue;\n                }\n                this._embeddedLanguages[scope] = language;\n            }\n        }\n        // create the regex\n        var escapedScopes = Object.keys(this._embeddedLanguages).map(function (scopeName) { return ScopeMetadataProvider._escapeRegExpCharacters(scopeName); });\n        if (escapedScopes.length === 0) {\n            // no scopes registered\n            this._embeddedLanguagesRegex = null;\n        }\n        else {\n            escapedScopes.sort();\n            escapedScopes.reverse();\n            this._embeddedLanguagesRegex = new RegExp(\"^((\" + escapedScopes.join(')|(') + \"))($|\\\\.)\", '');\n        }\n    }\n    ScopeMetadataProvider.prototype.onDidChangeTheme = function () {\n        this._cache = new Map();\n        this._defaultMetaData = new ScopeMetadata('', this._initialLanguage, 0 /* Other */, [this._themeProvider.getDefaults()]);\n    };\n    ScopeMetadataProvider.prototype.getDefaultMetadata = function () {\n        return this._defaultMetaData;\n    };\n    /**\n     * Escapes regular expression characters in a given string\n     */\n    ScopeMetadataProvider._escapeRegExpCharacters = function (value) {\n        return value.replace(/[\\-\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&');\n    };\n    ScopeMetadataProvider.prototype.getMetadataForScope = function (scopeName) {\n        if (scopeName === null) {\n            return ScopeMetadataProvider._NULL_SCOPE_METADATA;\n        }\n        var value = this._cache.get(scopeName);\n        if (value) {\n            return value;\n        }\n        value = this._doGetMetadataForScope(scopeName);\n        this._cache.set(scopeName, value);\n        return value;\n    };\n    ScopeMetadataProvider.prototype._doGetMetadataForScope = function (scopeName) {\n        var languageId = this._scopeToLanguage(scopeName);\n        var standardTokenType = this._toStandardTokenType(scopeName);\n        var themeData = this._themeProvider.themeMatch(scopeName);\n        return new ScopeMetadata(scopeName, languageId, standardTokenType, themeData);\n    };\n    /**\n     * Given a produced TM scope, return the language that token describes or null if unknown.\n     * e.g. source.html => html, source.css.embedded.html => css, punctuation.definition.tag.html => null\n     */\n    ScopeMetadataProvider.prototype._scopeToLanguage = function (scope) {\n        if (!scope) {\n            return 0;\n        }\n        if (!this._embeddedLanguagesRegex) {\n            // no scopes registered\n            return 0;\n        }\n        var m = scope.match(this._embeddedLanguagesRegex);\n        if (!m) {\n            // no scopes matched\n            return 0;\n        }\n        var language = this._embeddedLanguages[m[1]] || 0;\n        if (!language) {\n            return 0;\n        }\n        return language;\n    };\n    ScopeMetadataProvider.prototype._toStandardTokenType = function (tokenType) {\n        var m = tokenType.match(ScopeMetadataProvider.STANDARD_TOKEN_TYPE_REGEXP);\n        if (!m) {\n            return 0 /* Other */;\n        }\n        switch (m[1]) {\n            case 'comment':\n                return 1 /* Comment */;\n            case 'string':\n                return 2 /* String */;\n            case 'regex':\n                return 4 /* RegEx */;\n            case 'meta.embedded':\n                return 8 /* MetaEmbedded */;\n        }\n        throw new Error('Unexpected match for standard token type!');\n    };\n    ScopeMetadataProvider._NULL_SCOPE_METADATA = new ScopeMetadata('', 0, 0, null);\n    ScopeMetadataProvider.STANDARD_TOKEN_TYPE_REGEXP = /\\b(comment|string|regex|meta\\.embedded)\\b/;\n    return ScopeMetadataProvider;\n}());\nvar Grammar = /** @class */ (function () {\n    function Grammar(grammar, initialLanguage, embeddedLanguages, tokenTypes, grammarRepository, onigLib) {\n        this._scopeMetadataProvider = new ScopeMetadataProvider(initialLanguage, grammarRepository, embeddedLanguages);\n        this._onigLib = onigLib;\n        this._rootId = -1;\n        this._lastRuleId = 0;\n        this._ruleId2desc = [null];\n        this._includedGrammars = {};\n        this._grammarRepository = grammarRepository;\n        this._grammar = initGrammar(grammar, null);\n        this._injections = null;\n        this._tokenTypeMatchers = [];\n        if (tokenTypes) {\n            for (var _i = 0, _a = Object.keys(tokenTypes); _i < _a.length; _i++) {\n                var selector = _a[_i];\n                var matchers = matcher_1.createMatchers(selector, nameMatcher);\n                for (var _b = 0, matchers_2 = matchers; _b < matchers_2.length; _b++) {\n                    var matcher = matchers_2[_b];\n                    this._tokenTypeMatchers.push({\n                        matcher: matcher.matcher,\n                        type: tokenTypes[selector]\n                    });\n                }\n            }\n        }\n    }\n    Grammar.prototype.dispose = function () {\n        for (var _i = 0, _a = this._ruleId2desc; _i < _a.length; _i++) {\n            var rule = _a[_i];\n            if (rule) {\n                rule.dispose();\n            }\n        }\n    };\n    Grammar.prototype.createOnigScanner = function (sources) {\n        return this._onigLib.createOnigScanner(sources);\n    };\n    Grammar.prototype.createOnigString = function (sources) {\n        return this._onigLib.createOnigString(sources);\n    };\n    Grammar.prototype.onDidChangeTheme = function () {\n        this._scopeMetadataProvider.onDidChangeTheme();\n    };\n    Grammar.prototype.getMetadataForScope = function (scope) {\n        return this._scopeMetadataProvider.getMetadataForScope(scope);\n    };\n    Grammar.prototype.getInjections = function () {\n        var _this = this;\n        if (this._injections === null) {\n            this._injections = [];\n            // add injections from the current grammar\n            var rawInjections = this._grammar.injections;\n            if (rawInjections) {\n                for (var expression in rawInjections) {\n                    collectInjections(this._injections, expression, rawInjections[expression], this, this._grammar);\n                }\n            }\n            // add injection grammars contributed for the current scope\n            if (this._grammarRepository) {\n                var injectionScopeNames = this._grammarRepository.injections(this._grammar.scopeName);\n                if (injectionScopeNames) {\n                    injectionScopeNames.forEach(function (injectionScopeName) {\n                        var injectionGrammar = _this.getExternalGrammar(injectionScopeName);\n                        if (injectionGrammar) {\n                            var selector = injectionGrammar.injectionSelector;\n                            if (selector) {\n                                collectInjections(_this._injections, selector, injectionGrammar, _this, injectionGrammar);\n                            }\n                        }\n                    });\n                }\n            }\n            this._injections.sort(function (i1, i2) { return i1.priority - i2.priority; }); // sort by priority\n        }\n        return this._injections;\n    };\n    Grammar.prototype.registerRule = function (factory) {\n        var id = (++this._lastRuleId);\n        var result = factory(id);\n        this._ruleId2desc[id] = result;\n        return result;\n    };\n    Grammar.prototype.getRule = function (patternId) {\n        return this._ruleId2desc[patternId];\n    };\n    Grammar.prototype.getExternalGrammar = function (scopeName, repository) {\n        if (this._includedGrammars[scopeName]) {\n            return this._includedGrammars[scopeName];\n        }\n        else if (this._grammarRepository) {\n            var rawIncludedGrammar = this._grammarRepository.lookup(scopeName);\n            if (rawIncludedGrammar) {\n                // console.log('LOADED GRAMMAR ' + pattern.include);\n                this._includedGrammars[scopeName] = initGrammar(rawIncludedGrammar, repository && repository.$base);\n                return this._includedGrammars[scopeName];\n            }\n        }\n        return null;\n    };\n    Grammar.prototype.tokenizeLine = function (lineText, prevState) {\n        var r = this._tokenize(lineText, prevState, false);\n        return {\n            tokens: r.lineTokens.getResult(r.ruleStack, r.lineLength),\n            ruleStack: r.ruleStack\n        };\n    };\n    Grammar.prototype.tokenizeLine2 = function (lineText, prevState) {\n        var r = this._tokenize(lineText, prevState, true);\n        return {\n            tokens: r.lineTokens.getBinaryResult(r.ruleStack, r.lineLength),\n            ruleStack: r.ruleStack\n        };\n    };\n    Grammar.prototype._tokenize = function (lineText, prevState, emitBinaryTokens) {\n        if (this._rootId === -1) {\n            this._rootId = rule_1.RuleFactory.getCompiledRuleId(this._grammar.repository.$self, this, this._grammar.repository);\n        }\n        var isFirstLine;\n        if (!prevState || prevState === StackElement.NULL) {\n            isFirstLine = true;\n            var rawDefaultMetadata = this._scopeMetadataProvider.getDefaultMetadata();\n            var defaultTheme = rawDefaultMetadata.themeData[0];\n            var defaultMetadata = StackElementMetadata.set(0, rawDefaultMetadata.languageId, rawDefaultMetadata.tokenType, defaultTheme.fontStyle, defaultTheme.foreground, defaultTheme.background);\n            var rootScopeName = this.getRule(this._rootId).getName(null, null);\n            var rawRootMetadata = this._scopeMetadataProvider.getMetadataForScope(rootScopeName);\n            var rootMetadata = ScopeListElement.mergeMetadata(defaultMetadata, null, rawRootMetadata);\n            var scopeList = new ScopeListElement(null, rootScopeName === null ? 'unknown' : rootScopeName, rootMetadata);\n            prevState = new StackElement(null, this._rootId, -1, -1, false, null, scopeList, scopeList);\n        }\n        else {\n            isFirstLine = false;\n            prevState.reset();\n        }\n        lineText = lineText + '\\n';\n        var onigLineText = this.createOnigString(lineText);\n        var lineLength = onigLineText.content.length;\n        var lineTokens = new LineTokens(emitBinaryTokens, lineText, this._tokenTypeMatchers);\n        var nextState = _tokenizeString(this, onigLineText, isFirstLine, 0, prevState, lineTokens, true);\n        disposeOnigString(onigLineText);\n        return {\n            lineLength: lineLength,\n            lineTokens: lineTokens,\n            ruleStack: nextState\n        };\n    };\n    return Grammar;\n}());\nexports.Grammar = Grammar;\nfunction disposeOnigString(str) {\n    if (typeof str.dispose === 'function') {\n        str.dispose();\n    }\n}\nfunction initGrammar(grammar, base) {\n    grammar = utils_1.clone(grammar);\n    grammar.repository = grammar.repository || {};\n    grammar.repository.$self = {\n        $vscodeTextmateLocation: grammar.$vscodeTextmateLocation,\n        patterns: grammar.patterns,\n        name: grammar.scopeName\n    };\n    grammar.repository.$base = base || grammar.repository.$self;\n    return grammar;\n}\nfunction handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, captures, captureIndices) {\n    if (captures.length === 0) {\n        return;\n    }\n    var lineTextContent = lineText.content;\n    var len = Math.min(captures.length, captureIndices.length);\n    var localStack = [];\n    var maxEnd = captureIndices[0].end;\n    for (var i = 0; i < len; i++) {\n        var captureRule = captures[i];\n        if (captureRule === null) {\n            // Not interested\n            continue;\n        }\n        var captureIndex = captureIndices[i];\n        if (captureIndex.length === 0) {\n            // Nothing really captured\n            continue;\n        }\n        if (captureIndex.start > maxEnd) {\n            // Capture going beyond consumed string\n            break;\n        }\n        // pop captures while needed\n        while (localStack.length > 0 && localStack[localStack.length - 1].endPos <= captureIndex.start) {\n            // pop!\n            lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, localStack[localStack.length - 1].endPos);\n            localStack.pop();\n        }\n        if (localStack.length > 0) {\n            lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, captureIndex.start);\n        }\n        else {\n            lineTokens.produce(stack, captureIndex.start);\n        }\n        if (captureRule.retokenizeCapturedWithRuleId) {\n            // the capture requires additional matching\n            var scopeName = captureRule.getName(lineTextContent, captureIndices);\n            var nameScopesList = stack.contentNameScopesList.push(grammar, scopeName);\n            var contentName = captureRule.getContentName(lineTextContent, captureIndices);\n            var contentNameScopesList = nameScopesList.push(grammar, contentName);\n            var stackClone = stack.push(captureRule.retokenizeCapturedWithRuleId, captureIndex.start, -1, false, null, nameScopesList, contentNameScopesList);\n            var onigSubStr = grammar.createOnigString(lineTextContent.substring(0, captureIndex.end));\n            _tokenizeString(grammar, onigSubStr, (isFirstLine && captureIndex.start === 0), captureIndex.start, stackClone, lineTokens, false);\n            disposeOnigString(onigSubStr);\n            continue;\n        }\n        var captureRuleScopeName = captureRule.getName(lineTextContent, captureIndices);\n        if (captureRuleScopeName !== null) {\n            // push\n            var base = localStack.length > 0 ? localStack[localStack.length - 1].scopes : stack.contentNameScopesList;\n            var captureRuleScopesList = base.push(grammar, captureRuleScopeName);\n            localStack.push(new LocalStackElement(captureRuleScopesList, captureIndex.end));\n        }\n    }\n    while (localStack.length > 0) {\n        // pop!\n        lineTokens.produceFromScopes(localStack[localStack.length - 1].scopes, localStack[localStack.length - 1].endPos);\n        localStack.pop();\n    }\n}\nfunction debugCompiledRuleToString(ruleScanner) {\n    var r = [];\n    for (var i = 0, len = ruleScanner.rules.length; i < len; i++) {\n        r.push('   - ' + ruleScanner.rules[i] + ': ' + ruleScanner.debugRegExps[i]);\n    }\n    return r.join('\\n');\n}\nfunction matchInjections(injections, grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n    // The lower the better\n    var bestMatchRating = Number.MAX_VALUE;\n    var bestMatchCaptureIndices = null;\n    var bestMatchRuleId;\n    var bestMatchResultPriority = 0;\n    var scopes = stack.contentNameScopesList.generateScopes();\n    for (var i = 0, len = injections.length; i < len; i++) {\n        var injection = injections[i];\n        if (!injection.matcher(scopes)) {\n            // injection selector doesn't match stack\n            continue;\n        }\n        var ruleScanner = grammar.getRule(injection.ruleId).compile(grammar, null, isFirstLine, linePos === anchorPosition);\n        var matchResult = ruleScanner.scanner.findNextMatchSync(lineText, linePos);\n        if (debug_1.DebugFlags.InDebugMode) {\n            console.log('  scanning for injections');\n            console.log(debugCompiledRuleToString(ruleScanner));\n        }\n        if (!matchResult) {\n            continue;\n        }\n        var matchRating = matchResult.captureIndices[0].start;\n        if (matchRating >= bestMatchRating) {\n            // Injections are sorted by priority, so the previous injection had a better or equal priority\n            continue;\n        }\n        bestMatchRating = matchRating;\n        bestMatchCaptureIndices = matchResult.captureIndices;\n        bestMatchRuleId = ruleScanner.rules[matchResult.index];\n        bestMatchResultPriority = injection.priority;\n        if (bestMatchRating === linePos) {\n            // No more need to look at the rest of the injections.\n            break;\n        }\n    }\n    if (bestMatchCaptureIndices) {\n        return {\n            priorityMatch: bestMatchResultPriority === -1,\n            captureIndices: bestMatchCaptureIndices,\n            matchedRuleId: bestMatchRuleId\n        };\n    }\n    return null;\n}\nfunction matchRule(grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n    var rule = stack.getRule(grammar);\n    var ruleScanner = rule.compile(grammar, stack.endRule, isFirstLine, linePos === anchorPosition);\n    var perfStart = 0;\n    if (debug_1.DebugFlags.InDebugMode) {\n        perfStart = performanceNow();\n    }\n    var r = ruleScanner.scanner.findNextMatchSync(lineText, linePos);\n    if (debug_1.DebugFlags.InDebugMode) {\n        var elapsedMillis = performanceNow() - perfStart;\n        if (elapsedMillis > 5) {\n            console.warn(\"Rule \" + rule.debugName + \" (\" + rule.id + \") matching took \" + elapsedMillis + \" against '\" + lineText + \"'\");\n        }\n        // console.log(`  scanning for (linePos: ${linePos}, anchorPosition: ${anchorPosition})`);\n        // console.log(debugCompiledRuleToString(ruleScanner));\n        if (r) {\n            console.log(\"matched rule id: \" + ruleScanner.rules[r.index] + \" from \" + r.captureIndices[0].start + \" to \" + r.captureIndices[0].end);\n        }\n    }\n    if (r) {\n        return {\n            captureIndices: r.captureIndices,\n            matchedRuleId: ruleScanner.rules[r.index]\n        };\n    }\n    return null;\n}\nfunction matchRuleOrInjections(grammar, lineText, isFirstLine, linePos, stack, anchorPosition) {\n    // Look for normal grammar rule\n    var matchResult = matchRule(grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n    // Look for injected rules\n    var injections = grammar.getInjections();\n    if (injections.length === 0) {\n        // No injections whatsoever => early return\n        return matchResult;\n    }\n    var injectionResult = matchInjections(injections, grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n    if (!injectionResult) {\n        // No injections matched => early return\n        return matchResult;\n    }\n    if (!matchResult) {\n        // Only injections matched => early return\n        return injectionResult;\n    }\n    // Decide if `matchResult` or `injectionResult` should win\n    var matchResultScore = matchResult.captureIndices[0].start;\n    var injectionResultScore = injectionResult.captureIndices[0].start;\n    if (injectionResultScore < matchResultScore || (injectionResult.priorityMatch && injectionResultScore === matchResultScore)) {\n        // injection won!\n        return injectionResult;\n    }\n    return matchResult;\n}\n/**\n * Walk the stack from bottom to top, and check each while condition in this order.\n * If any fails, cut off the entire stack above the failed while condition. While conditions\n * may also advance the linePosition.\n */\nfunction _checkWhileConditions(grammar, lineText, isFirstLine, linePos, stack, lineTokens) {\n    var anchorPosition = (stack.beginRuleCapturedEOL ? 0 : -1);\n    var whileRules = [];\n    for (var node = stack; node; node = node.pop()) {\n        var nodeRule = node.getRule(grammar);\n        if (nodeRule instanceof rule_1.BeginWhileRule) {\n            whileRules.push({\n                rule: nodeRule,\n                stack: node\n            });\n        }\n    }\n    for (var whileRule = whileRules.pop(); whileRule; whileRule = whileRules.pop()) {\n        var ruleScanner = whileRule.rule.compileWhile(grammar, whileRule.stack.endRule, isFirstLine, anchorPosition === linePos);\n        var r = ruleScanner.scanner.findNextMatchSync(lineText, linePos);\n        if (debug_1.DebugFlags.InDebugMode) {\n            console.log('  scanning for while rule');\n            console.log(debugCompiledRuleToString(ruleScanner));\n        }\n        if (r) {\n            var matchedRuleId = ruleScanner.rules[r.index];\n            if (matchedRuleId !== -2) {\n                // we shouldn't end up here\n                stack = whileRule.stack.pop();\n                break;\n            }\n            if (r.captureIndices && r.captureIndices.length) {\n                lineTokens.produce(whileRule.stack, r.captureIndices[0].start);\n                handleCaptures(grammar, lineText, isFirstLine, whileRule.stack, lineTokens, whileRule.rule.whileCaptures, r.captureIndices);\n                lineTokens.produce(whileRule.stack, r.captureIndices[0].end);\n                anchorPosition = r.captureIndices[0].end;\n                if (r.captureIndices[0].end > linePos) {\n                    linePos = r.captureIndices[0].end;\n                    isFirstLine = false;\n                }\n            }\n        }\n        else {\n            if (debug_1.DebugFlags.InDebugMode) {\n                console.log('  popping ' + whileRule.rule.debugName + ' - ' + whileRule.rule.debugWhileRegExp);\n            }\n            stack = whileRule.stack.pop();\n            break;\n        }\n    }\n    return { stack: stack, linePos: linePos, anchorPosition: anchorPosition, isFirstLine: isFirstLine };\n}\nfunction _tokenizeString(grammar, lineText, isFirstLine, linePos, stack, lineTokens, checkWhileConditions) {\n    var lineLength = lineText.content.length;\n    var STOP = false;\n    var anchorPosition = -1;\n    if (checkWhileConditions) {\n        var whileCheckResult = _checkWhileConditions(grammar, lineText, isFirstLine, linePos, stack, lineTokens);\n        stack = whileCheckResult.stack;\n        linePos = whileCheckResult.linePos;\n        isFirstLine = whileCheckResult.isFirstLine;\n        anchorPosition = whileCheckResult.anchorPosition;\n    }\n    while (!STOP) {\n        scanNext(); // potentially modifies linePos && anchorPosition\n    }\n    function scanNext() {\n        if (debug_1.DebugFlags.InDebugMode) {\n            console.log('');\n            console.log(\"@@scanNext \" + linePos + \": |\" + lineText.content.substr(linePos).replace(/\\n$/, '\\\\n') + \"|\");\n        }\n        var r = matchRuleOrInjections(grammar, lineText, isFirstLine, linePos, stack, anchorPosition);\n        if (!r) {\n            if (debug_1.DebugFlags.InDebugMode) {\n                console.log('  no more matches.');\n            }\n            // No match\n            lineTokens.produce(stack, lineLength);\n            STOP = true;\n            return;\n        }\n        var captureIndices = r.captureIndices;\n        var matchedRuleId = r.matchedRuleId;\n        var hasAdvanced = (captureIndices && captureIndices.length > 0) ? (captureIndices[0].end > linePos) : false;\n        if (matchedRuleId === -1) {\n            // We matched the `end` for this rule => pop it\n            var poppedRule = stack.getRule(grammar);\n            if (debug_1.DebugFlags.InDebugMode) {\n                console.log('  popping ' + poppedRule.debugName + ' - ' + poppedRule.debugEndRegExp);\n            }\n            lineTokens.produce(stack, captureIndices[0].start);\n            stack = stack.setContentNameScopesList(stack.nameScopesList);\n            handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, poppedRule.endCaptures, captureIndices);\n            lineTokens.produce(stack, captureIndices[0].end);\n            // pop\n            var popped = stack;\n            stack = stack.pop();\n            anchorPosition = popped.getAnchorPos();\n            if (!hasAdvanced && popped.getEnterPos() === linePos) {\n                // Grammar pushed & popped a rule without advancing\n                if (debug_1.DebugFlags.InDebugMode) {\n                    console.error('[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing');\n                }\n                // See https://github.com/Microsoft/vscode-textmate/issues/12\n                // Let's assume this was a mistake by the grammar author and the intent was to continue in this state\n                stack = popped;\n                lineTokens.produce(stack, lineLength);\n                STOP = true;\n                return;\n            }\n        }\n        else {\n            // We matched a rule!\n            var _rule = grammar.getRule(matchedRuleId);\n            lineTokens.produce(stack, captureIndices[0].start);\n            var beforePush = stack;\n            // push it on the stack rule\n            var scopeName = _rule.getName(lineText.content, captureIndices);\n            var nameScopesList = stack.contentNameScopesList.push(grammar, scopeName);\n            stack = stack.push(matchedRuleId, linePos, anchorPosition, captureIndices[0].end === lineLength, null, nameScopesList, nameScopesList);\n            if (_rule instanceof rule_1.BeginEndRule) {\n                var pushedRule = _rule;\n                if (debug_1.DebugFlags.InDebugMode) {\n                    console.log('  pushing ' + pushedRule.debugName + ' - ' + pushedRule.debugBeginRegExp);\n                }\n                handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, pushedRule.beginCaptures, captureIndices);\n                lineTokens.produce(stack, captureIndices[0].end);\n                anchorPosition = captureIndices[0].end;\n                var contentName = pushedRule.getContentName(lineText.content, captureIndices);\n                var contentNameScopesList = nameScopesList.push(grammar, contentName);\n                stack = stack.setContentNameScopesList(contentNameScopesList);\n                if (pushedRule.endHasBackReferences) {\n                    stack = stack.setEndRule(pushedRule.getEndWithResolvedBackReferences(lineText.content, captureIndices));\n                }\n                if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {\n                    // Grammar pushed the same rule without advancing\n                    if (debug_1.DebugFlags.InDebugMode) {\n                        console.error('[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing');\n                    }\n                    stack = stack.pop();\n                    lineTokens.produce(stack, lineLength);\n                    STOP = true;\n                    return;\n                }\n            }\n            else if (_rule instanceof rule_1.BeginWhileRule) {\n                var pushedRule = _rule;\n                if (debug_1.DebugFlags.InDebugMode) {\n                    console.log('  pushing ' + pushedRule.debugName);\n                }\n                handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, pushedRule.beginCaptures, captureIndices);\n                lineTokens.produce(stack, captureIndices[0].end);\n                anchorPosition = captureIndices[0].end;\n                var contentName = pushedRule.getContentName(lineText.content, captureIndices);\n                var contentNameScopesList = nameScopesList.push(grammar, contentName);\n                stack = stack.setContentNameScopesList(contentNameScopesList);\n                if (pushedRule.whileHasBackReferences) {\n                    stack = stack.setEndRule(pushedRule.getWhileWithResolvedBackReferences(lineText.content, captureIndices));\n                }\n                if (!hasAdvanced && beforePush.hasSameRuleAs(stack)) {\n                    // Grammar pushed the same rule without advancing\n                    if (debug_1.DebugFlags.InDebugMode) {\n                        console.error('[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing');\n                    }\n                    stack = stack.pop();\n                    lineTokens.produce(stack, lineLength);\n                    STOP = true;\n                    return;\n                }\n            }\n            else {\n                var matchingRule = _rule;\n                if (debug_1.DebugFlags.InDebugMode) {\n                    console.log('  matched ' + matchingRule.debugName + ' - ' + matchingRule.debugMatchRegExp);\n                }\n                handleCaptures(grammar, lineText, isFirstLine, stack, lineTokens, matchingRule.captures, captureIndices);\n                lineTokens.produce(stack, captureIndices[0].end);\n                // pop rule immediately since it is a MatchRule\n                stack = stack.pop();\n                if (!hasAdvanced) {\n                    // Grammar is not advancing, nor is it pushing/popping\n                    if (debug_1.DebugFlags.InDebugMode) {\n                        console.error('[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping');\n                    }\n                    stack = stack.safePop();\n                    lineTokens.produce(stack, lineLength);\n                    STOP = true;\n                    return;\n                }\n            }\n        }\n        if (captureIndices[0].end > linePos) {\n            // Advance stream\n            linePos = captureIndices[0].end;\n            isFirstLine = false;\n        }\n    }\n    return stack;\n}\nvar StackElementMetadata = /** @class */ (function () {\n    function StackElementMetadata() {\n    }\n    StackElementMetadata.toBinaryStr = function (metadata) {\n        var r = metadata.toString(2);\n        while (r.length < 32) {\n            r = '0' + r;\n        }\n        return r;\n    };\n    StackElementMetadata.printMetadata = function (metadata) {\n        var languageId = StackElementMetadata.getLanguageId(metadata);\n        var tokenType = StackElementMetadata.getTokenType(metadata);\n        var fontStyle = StackElementMetadata.getFontStyle(metadata);\n        var foreground = StackElementMetadata.getForeground(metadata);\n        var background = StackElementMetadata.getBackground(metadata);\n        console.log({\n            languageId: languageId,\n            tokenType: tokenType,\n            fontStyle: fontStyle,\n            foreground: foreground,\n            background: background,\n        });\n    };\n    StackElementMetadata.getLanguageId = function (metadata) {\n        return (metadata & 255 /* LANGUAGEID_MASK */) >>> 0 /* LANGUAGEID_OFFSET */;\n    };\n    StackElementMetadata.getTokenType = function (metadata) {\n        return (metadata & 1792 /* TOKEN_TYPE_MASK */) >>> 8 /* TOKEN_TYPE_OFFSET */;\n    };\n    StackElementMetadata.getFontStyle = function (metadata) {\n        return (metadata & 14336 /* FONT_STYLE_MASK */) >>> 11 /* FONT_STYLE_OFFSET */;\n    };\n    StackElementMetadata.getForeground = function (metadata) {\n        return (metadata & 8372224 /* FOREGROUND_MASK */) >>> 14 /* FOREGROUND_OFFSET */;\n    };\n    StackElementMetadata.getBackground = function (metadata) {\n        return (metadata & 4286578688 /* BACKGROUND_MASK */) >>> 23 /* BACKGROUND_OFFSET */;\n    };\n    StackElementMetadata.set = function (metadata, languageId, tokenType, fontStyle, foreground, background) {\n        var _languageId = StackElementMetadata.getLanguageId(metadata);\n        var _tokenType = StackElementMetadata.getTokenType(metadata);\n        var _fontStyle = StackElementMetadata.getFontStyle(metadata);\n        var _foreground = StackElementMetadata.getForeground(metadata);\n        var _background = StackElementMetadata.getBackground(metadata);\n        if (languageId !== 0) {\n            _languageId = languageId;\n        }\n        if (tokenType !== 0 /* Other */) {\n            _tokenType = tokenType === 8 /* MetaEmbedded */ ? 0 /* Other */ : tokenType;\n        }\n        if (fontStyle !== -1 /* NotSet */) {\n            _fontStyle = fontStyle;\n        }\n        if (foreground !== 0) {\n            _foreground = foreground;\n        }\n        if (background !== 0) {\n            _background = background;\n        }\n        return ((_languageId << 0 /* LANGUAGEID_OFFSET */)\n            | (_tokenType << 8 /* TOKEN_TYPE_OFFSET */)\n            | (_fontStyle << 11 /* FONT_STYLE_OFFSET */)\n            | (_foreground << 14 /* FOREGROUND_OFFSET */)\n            | (_background << 23 /* BACKGROUND_OFFSET */)) >>> 0;\n    };\n    return StackElementMetadata;\n}());\nexports.StackElementMetadata = StackElementMetadata;\nvar ScopeListElement = /** @class */ (function () {\n    function ScopeListElement(parent, scope, metadata) {\n        this.parent = parent;\n        this.scope = scope;\n        this.metadata = metadata;\n    }\n    ScopeListElement._equals = function (a, b) {\n        do {\n            if (a === b) {\n                return true;\n            }\n            if (!a && !b) {\n                // End of list reached for both\n                return true;\n            }\n            if (!a || !b) {\n                // End of list reached only for one\n                return false;\n            }\n            if (a.scope !== b.scope || a.metadata !== b.metadata) {\n                return false;\n            }\n            // Go to previous pair\n            a = a.parent;\n            b = b.parent;\n        } while (true);\n    };\n    ScopeListElement.prototype.equals = function (other) {\n        return ScopeListElement._equals(this, other);\n    };\n    ScopeListElement._matchesScope = function (scope, selector, selectorWithDot) {\n        return (selector === scope || scope.substring(0, selectorWithDot.length) === selectorWithDot);\n    };\n    ScopeListElement._matches = function (target, parentScopes) {\n        if (parentScopes === null) {\n            return true;\n        }\n        var len = parentScopes.length;\n        var index = 0;\n        var selector = parentScopes[index];\n        var selectorWithDot = selector + '.';\n        while (target) {\n            if (this._matchesScope(target.scope, selector, selectorWithDot)) {\n                index++;\n                if (index === len) {\n                    return true;\n                }\n                selector = parentScopes[index];\n                selectorWithDot = selector + '.';\n            }\n            target = target.parent;\n        }\n        return false;\n    };\n    ScopeListElement.mergeMetadata = function (metadata, scopesList, source) {\n        if (source === null) {\n            return metadata;\n        }\n        var fontStyle = -1 /* NotSet */;\n        var foreground = 0;\n        var background = 0;\n        if (source.themeData !== null) {\n            // Find the first themeData that matches\n            for (var i = 0, len = source.themeData.length; i < len; i++) {\n                var themeData = source.themeData[i];\n                if (this._matches(scopesList, themeData.parentScopes)) {\n                    fontStyle = themeData.fontStyle;\n                    foreground = themeData.foreground;\n                    background = themeData.background;\n                    break;\n                }\n            }\n        }\n        return StackElementMetadata.set(metadata, source.languageId, source.tokenType, fontStyle, foreground, background);\n    };\n    ScopeListElement._push = function (target, grammar, scopes) {\n        for (var i = 0, len = scopes.length; i < len; i++) {\n            var scope = scopes[i];\n            var rawMetadata = grammar.getMetadataForScope(scope);\n            var metadata = ScopeListElement.mergeMetadata(target.metadata, target, rawMetadata);\n            target = new ScopeListElement(target, scope, metadata);\n        }\n        return target;\n    };\n    ScopeListElement.prototype.push = function (grammar, scope) {\n        if (scope === null) {\n            return this;\n        }\n        if (scope.indexOf(' ') >= 0) {\n            // there are multiple scopes to push\n            return ScopeListElement._push(this, grammar, scope.split(/ /g));\n        }\n        // there is a single scope to push\n        return ScopeListElement._push(this, grammar, [scope]);\n    };\n    ScopeListElement._generateScopes = function (scopesList) {\n        var result = [];\n        var resultLen = 0;\n        while (scopesList) {\n            result[resultLen++] = scopesList.scope;\n            scopesList = scopesList.parent;\n        }\n        result.reverse();\n        return result;\n    };\n    ScopeListElement.prototype.generateScopes = function () {\n        return ScopeListElement._generateScopes(this);\n    };\n    return ScopeListElement;\n}());\nexports.ScopeListElement = ScopeListElement;\n/**\n * Represents a \"pushed\" state on the stack (as a linked list element).\n */\nvar StackElement = /** @class */ (function () {\n    function StackElement(parent, ruleId, enterPos, anchorPos, beginRuleCapturedEOL, endRule, nameScopesList, contentNameScopesList) {\n        this.parent = parent;\n        this.depth = (this.parent ? this.parent.depth + 1 : 1);\n        this.ruleId = ruleId;\n        this._enterPos = enterPos;\n        this._anchorPos = anchorPos;\n        this.beginRuleCapturedEOL = beginRuleCapturedEOL;\n        this.endRule = endRule;\n        this.nameScopesList = nameScopesList;\n        this.contentNameScopesList = contentNameScopesList;\n    }\n    /**\n     * A structural equals check. Does not take into account `scopes`.\n     */\n    StackElement._structuralEquals = function (a, b) {\n        do {\n            if (a === b) {\n                return true;\n            }\n            if (!a && !b) {\n                // End of list reached for both\n                return true;\n            }\n            if (!a || !b) {\n                // End of list reached only for one\n                return false;\n            }\n            if (a.depth !== b.depth || a.ruleId !== b.ruleId || a.endRule !== b.endRule) {\n                return false;\n            }\n            // Go to previous pair\n            a = a.parent;\n            b = b.parent;\n        } while (true);\n    };\n    StackElement._equals = function (a, b) {\n        if (a === b) {\n            return true;\n        }\n        if (!this._structuralEquals(a, b)) {\n            return false;\n        }\n        return a.contentNameScopesList.equals(b.contentNameScopesList);\n    };\n    StackElement.prototype.clone = function () {\n        return this;\n    };\n    StackElement.prototype.equals = function (other) {\n        if (other === null) {\n            return false;\n        }\n        return StackElement._equals(this, other);\n    };\n    StackElement._reset = function (el) {\n        while (el) {\n            el._enterPos = -1;\n            el._anchorPos = -1;\n            el = el.parent;\n        }\n    };\n    StackElement.prototype.reset = function () {\n        StackElement._reset(this);\n    };\n    StackElement.prototype.pop = function () {\n        return this.parent;\n    };\n    StackElement.prototype.safePop = function () {\n        if (this.parent) {\n            return this.parent;\n        }\n        return this;\n    };\n    StackElement.prototype.push = function (ruleId, enterPos, anchorPos, beginRuleCapturedEOL, endRule, nameScopesList, contentNameScopesList) {\n        return new StackElement(this, ruleId, enterPos, anchorPos, beginRuleCapturedEOL, endRule, nameScopesList, contentNameScopesList);\n    };\n    StackElement.prototype.getEnterPos = function () {\n        return this._enterPos;\n    };\n    StackElement.prototype.getAnchorPos = function () {\n        return this._anchorPos;\n    };\n    StackElement.prototype.getRule = function (grammar) {\n        return grammar.getRule(this.ruleId);\n    };\n    StackElement.prototype._writeString = function (res, outIndex) {\n        if (this.parent) {\n            outIndex = this.parent._writeString(res, outIndex);\n        }\n        res[outIndex++] = \"(\" + this.ruleId + \", TODO-\" + this.nameScopesList + \", TODO-\" + this.contentNameScopesList + \")\";\n        return outIndex;\n    };\n    StackElement.prototype.toString = function () {\n        var r = [];\n        this._writeString(r, 0);\n        return '[' + r.join(',') + ']';\n    };\n    StackElement.prototype.setContentNameScopesList = function (contentNameScopesList) {\n        if (this.contentNameScopesList === contentNameScopesList) {\n            return this;\n        }\n        return this.parent.push(this.ruleId, this._enterPos, this._anchorPos, this.beginRuleCapturedEOL, this.endRule, this.nameScopesList, contentNameScopesList);\n    };\n    StackElement.prototype.setEndRule = function (endRule) {\n        if (this.endRule === endRule) {\n            return this;\n        }\n        return new StackElement(this.parent, this.ruleId, this._enterPos, this._anchorPos, this.beginRuleCapturedEOL, endRule, this.nameScopesList, this.contentNameScopesList);\n    };\n    StackElement.prototype.hasSameRuleAs = function (other) {\n        return this.ruleId === other.ruleId;\n    };\n    StackElement.NULL = new StackElement(null, 0, 0, 0, false, null, null, null);\n    return StackElement;\n}());\nexports.StackElement = StackElement;\nvar LocalStackElement = /** @class */ (function () {\n    function LocalStackElement(scopes, endPos) {\n        this.scopes = scopes;\n        this.endPos = endPos;\n    }\n    return LocalStackElement;\n}());\nexports.LocalStackElement = LocalStackElement;\nvar LineTokens = /** @class */ (function () {\n    function LineTokens(emitBinaryTokens, lineText, tokenTypeOverrides) {\n        this._emitBinaryTokens = emitBinaryTokens;\n        this._tokenTypeOverrides = tokenTypeOverrides;\n        if (debug_1.DebugFlags.InDebugMode) {\n            this._lineText = lineText;\n        }\n        else {\n            this._lineText = null;\n        }\n        this._tokens = [];\n        this._binaryTokens = [];\n        this._lastTokenEndIndex = 0;\n    }\n    LineTokens.prototype.produce = function (stack, endIndex) {\n        this.produceFromScopes(stack.contentNameScopesList, endIndex);\n    };\n    LineTokens.prototype.produceFromScopes = function (scopesList, endIndex) {\n        if (this._lastTokenEndIndex >= endIndex) {\n            return;\n        }\n        if (this._emitBinaryTokens) {\n            var metadata = scopesList.metadata;\n            for (var _i = 0, _a = this._tokenTypeOverrides; _i < _a.length; _i++) {\n                var tokenType = _a[_i];\n                if (tokenType.matcher(scopesList.generateScopes())) {\n                    metadata = StackElementMetadata.set(metadata, 0, toTemporaryType(tokenType.type), -1 /* NotSet */, 0, 0);\n                }\n            }\n            if (this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 1] === metadata) {\n                // no need to push a token with the same metadata\n                this._lastTokenEndIndex = endIndex;\n                return;\n            }\n            this._binaryTokens.push(this._lastTokenEndIndex);\n            this._binaryTokens.push(metadata);\n            this._lastTokenEndIndex = endIndex;\n            return;\n        }\n        var scopes = scopesList.generateScopes();\n        if (debug_1.DebugFlags.InDebugMode) {\n            console.log('  token: |' + this._lineText.substring(this._lastTokenEndIndex, endIndex).replace(/\\n$/, '\\\\n') + '|');\n            for (var k = 0; k < scopes.length; k++) {\n                console.log('      * ' + scopes[k]);\n            }\n        }\n        this._tokens.push({\n            startIndex: this._lastTokenEndIndex,\n            endIndex: endIndex,\n            // value: lineText.substring(lastTokenEndIndex, endIndex),\n            scopes: scopes\n        });\n        this._lastTokenEndIndex = endIndex;\n    };\n    LineTokens.prototype.getResult = function (stack, lineLength) {\n        if (this._tokens.length > 0 && this._tokens[this._tokens.length - 1].startIndex === lineLength - 1) {\n            // pop produced token for newline\n            this._tokens.pop();\n        }\n        if (this._tokens.length === 0) {\n            this._lastTokenEndIndex = -1;\n            this.produce(stack, lineLength);\n            this._tokens[this._tokens.length - 1].startIndex = 0;\n        }\n        return this._tokens;\n    };\n    LineTokens.prototype.getBinaryResult = function (stack, lineLength) {\n        if (this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 2] === lineLength - 1) {\n            // pop produced token for newline\n            this._binaryTokens.pop();\n            this._binaryTokens.pop();\n        }\n        if (this._binaryTokens.length === 0) {\n            this._lastTokenEndIndex = -1;\n            this.produce(stack, lineLength);\n            this._binaryTokens[this._binaryTokens.length - 2] = 0;\n        }\n        var result = new Uint32Array(this._binaryTokens.length);\n        for (var i = 0, len = this._binaryTokens.length; i < len; i++) {\n            result[i] = this._binaryTokens[i];\n        }\n        return result;\n    };\n    return LineTokens;\n}());\nfunction toTemporaryType(standardType) {\n    switch (standardType) {\n        case 4 /* RegEx */:\n            return 4 /* RegEx */;\n        case 2 /* String */:\n            return 2 /* String */;\n        case 1 /* Comment */:\n            return 1 /* Comment */;\n        case 0 /* Other */:\n        default:\n            // `MetaEmbedded` is the same scope as `Other`\n            // but it overwrites existing token types in the stack.\n            return 8 /* MetaEmbedded */;\n    }\n}\n//# sourceMappingURL=grammar.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction clone(something) {\n    return doClone(something);\n}\nexports.clone = clone;\nfunction doClone(something) {\n    if (Array.isArray(something)) {\n        return cloneArray(something);\n    }\n    if (typeof something === 'object') {\n        return cloneObj(something);\n    }\n    return something;\n}\nfunction cloneArray(arr) {\n    var r = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n        r[i] = doClone(arr[i]);\n    }\n    return r;\n}\nfunction cloneObj(obj) {\n    var r = {};\n    for (var key in obj) {\n        r[key] = doClone(obj[key]);\n    }\n    return r;\n}\nfunction mergeObjects(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    sources.forEach(function (source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n    });\n    return target;\n}\nexports.mergeObjects = mergeObjects;\nfunction basename(path) {\n    var idx = ~path.lastIndexOf('/') || ~path.lastIndexOf('\\\\');\n    if (idx === 0) {\n        return path;\n    }\n    else if (~idx === path.length - 1) {\n        return basename(path.substring(0, path.length - 1));\n    }\n    else {\n        return path.substr(~idx + 1);\n    }\n}\nexports.basename = basename;\nvar CAPTURING_REGEX_SOURCE = /\\$(\\d+)|\\${(\\d+):\\/(downcase|upcase)}/;\nvar RegexSource = /** @class */ (function () {\n    function RegexSource() {\n    }\n    RegexSource.hasCaptures = function (regexSource) {\n        if (regexSource === null) {\n            return false;\n        }\n        return CAPTURING_REGEX_SOURCE.test(regexSource);\n    };\n    RegexSource.replaceCaptures = function (regexSource, captureSource, captureIndices) {\n        return regexSource.replace(CAPTURING_REGEX_SOURCE, function (match, index, commandIndex, command) {\n            var capture = captureIndices[parseInt(index || commandIndex, 10)];\n            if (capture) {\n                var result = captureSource.substring(capture.start, capture.end);\n                // Remove leading dots that would make the selector invalid\n                while (result[0] === '.') {\n                    result = result.substring(1);\n                }\n                switch (command) {\n                    case 'downcase':\n                        return result.toLowerCase();\n                    case 'upcase':\n                        return result.toUpperCase();\n                    default:\n                        return result;\n                }\n            }\n            else {\n                return match;\n            }\n        });\n    };\n    return RegexSource;\n}());\nexports.RegexSource = RegexSource;\n//# sourceMappingURL=utils.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebugFlags = {\n    InDebugMode: (typeof process !== 'undefined' && !!process.env['VSCODE_TEXTMATE_DEBUG'])\n};\n//# sourceMappingURL=debug.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar registry_1 = require(\"./registry\");\nvar grammarReader = require(\"./grammarReader\");\nvar theme_1 = require(\"./theme\");\nvar grammar_1 = require(\"./grammar\");\n/**\n * The registry that will hold all grammars.\n */\nvar Registry = /** @class */ (function () {\n    function Registry(options) {\n        this._options = options;\n        this._syncRegistry = new registry_1.SyncRegistry(theme_1.Theme.createFromRawTheme(options.theme, options.colorMap), options.onigLib);\n        this._ensureGrammarCache = new Map();\n    }\n    Registry.prototype.dispose = function () {\n        this._syncRegistry.dispose();\n    };\n    /**\n     * Change the theme. Once called, no previous `ruleStack` should be used anymore.\n     */\n    Registry.prototype.setTheme = function (theme, colorMap) {\n        this._syncRegistry.setTheme(theme_1.Theme.createFromRawTheme(theme, colorMap));\n    };\n    /**\n     * Returns a lookup array for color ids.\n     */\n    Registry.prototype.getColorMap = function () {\n        return this._syncRegistry.getColorMap();\n    };\n    /**\n     * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n     * Please do not use language id 0.\n     */\n    Registry.prototype.loadGrammarWithEmbeddedLanguages = function (initialScopeName, initialLanguage, embeddedLanguages) {\n        return this.loadGrammarWithConfiguration(initialScopeName, initialLanguage, { embeddedLanguages: embeddedLanguages });\n    };\n    /**\n     * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n     * Please do not use language id 0.\n     */\n    Registry.prototype.loadGrammarWithConfiguration = function (initialScopeName, initialLanguage, configuration) {\n        return this._loadGrammar(initialScopeName, initialLanguage, configuration.embeddedLanguages, configuration.tokenTypes);\n    };\n    /**\n     * Load the grammar for `scopeName` and all referenced included grammars asynchronously.\n     */\n    Registry.prototype.loadGrammar = function (initialScopeName) {\n        return this._loadGrammar(initialScopeName, 0, null, null);\n    };\n    Registry.prototype._doLoadSingleGrammar = function (scopeName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var grammar, injections;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._options.loadGrammar(scopeName)];\n                    case 1:\n                        grammar = _a.sent();\n                        if (grammar) {\n                            injections = (typeof this._options.getInjections === 'function' ? this._options.getInjections(scopeName) : undefined);\n                            this._syncRegistry.addGrammar(grammar, injections);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Registry.prototype._loadSingleGrammar = function (scopeName) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (!this._ensureGrammarCache.has(scopeName)) {\n                    this._ensureGrammarCache.set(scopeName, this._doLoadSingleGrammar(scopeName));\n                }\n                return [2 /*return*/, this._ensureGrammarCache.get(scopeName)];\n            });\n        });\n    };\n    Registry.prototype._collectDependenciesForDep = function (initialScopeName, result, dep) {\n        var grammar = this._syncRegistry.lookup(dep.scopeName);\n        if (!grammar) {\n            if (dep.scopeName === initialScopeName) {\n                throw new Error(\"No grammar provided for <\" + initialScopeName + \">\");\n            }\n            return;\n        }\n        if (dep instanceof grammar_1.FullScopeDependency) {\n            grammar_1.collectDependencies(result, this._syncRegistry.lookup(initialScopeName), grammar);\n        }\n        else {\n            grammar_1.collectSpecificDependencies(result, this._syncRegistry.lookup(initialScopeName), grammar, dep.include);\n        }\n        var injections = this._syncRegistry.injections(dep.scopeName);\n        if (injections) {\n            for (var _i = 0, injections_1 = injections; _i < injections_1.length; _i++) {\n                var injection = injections_1[_i];\n                result.add(new grammar_1.FullScopeDependency(injection));\n            }\n        }\n    };\n    Registry.prototype._loadGrammar = function (initialScopeName, initialLanguage, embeddedLanguages, tokenTypes) {\n        return __awaiter(this, void 0, void 0, function () {\n            var seenFullScopeRequests, seenPartialScopeRequests, Q, q, deps, _i, q_1, dep, _a, _b, dep, _c, _d, dep;\n            var _this = this;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        seenFullScopeRequests = new Set();\n                        seenPartialScopeRequests = new Set();\n                        seenFullScopeRequests.add(initialScopeName);\n                        Q = [new grammar_1.FullScopeDependency(initialScopeName)];\n                        _e.label = 1;\n                    case 1:\n                        if (!(Q.length > 0)) return [3 /*break*/, 3];\n                        q = Q;\n                        Q = [];\n                        return [4 /*yield*/, Promise.all(q.map(function (request) { return _this._loadSingleGrammar(request.scopeName); }))];\n                    case 2:\n                        _e.sent();\n                        deps = new grammar_1.ScopeDependencyCollector();\n                        for (_i = 0, q_1 = q; _i < q_1.length; _i++) {\n                            dep = q_1[_i];\n                            this._collectDependenciesForDep(initialScopeName, deps, dep);\n                        }\n                        for (_a = 0, _b = deps.full; _a < _b.length; _a++) {\n                            dep = _b[_a];\n                            if (seenFullScopeRequests.has(dep.scopeName)) {\n                                // already processed\n                                continue;\n                            }\n                            seenFullScopeRequests.add(dep.scopeName);\n                            Q.push(dep);\n                        }\n                        for (_c = 0, _d = deps.partial; _c < _d.length; _c++) {\n                            dep = _d[_c];\n                            if (seenFullScopeRequests.has(dep.scopeName)) {\n                                // already processed in full\n                                continue;\n                            }\n                            if (seenPartialScopeRequests.has(dep.toKey())) {\n                                // already processed\n                                continue;\n                            }\n                            seenPartialScopeRequests.add(dep.toKey());\n                            Q.push(dep);\n                        }\n                        return [3 /*break*/, 1];\n                    case 3: return [2 /*return*/, this.grammarForScopeName(initialScopeName, initialLanguage, embeddedLanguages, tokenTypes)];\n                }\n            });\n        });\n    };\n    /**\n     * Adds a rawGrammar.\n     */\n    Registry.prototype.addGrammar = function (rawGrammar, injections, initialLanguage, embeddedLanguages) {\n        if (injections === void 0) { injections = []; }\n        if (initialLanguage === void 0) { initialLanguage = 0; }\n        if (embeddedLanguages === void 0) { embeddedLanguages = null; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this._syncRegistry.addGrammar(rawGrammar, injections);\n                        return [4 /*yield*/, this.grammarForScopeName(rawGrammar.scopeName, initialLanguage, embeddedLanguages)];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    /**\n     * Get the grammar for `scopeName`. The grammar must first be created via `loadGrammar` or `addGrammar`.\n     */\n    Registry.prototype.grammarForScopeName = function (scopeName, initialLanguage, embeddedLanguages, tokenTypes) {\n        if (initialLanguage === void 0) { initialLanguage = 0; }\n        if (embeddedLanguages === void 0) { embeddedLanguages = null; }\n        if (tokenTypes === void 0) { tokenTypes = null; }\n        return this._syncRegistry.grammarForScopeName(scopeName, initialLanguage, embeddedLanguages, tokenTypes);\n    };\n    return Registry;\n}());\nexports.Registry = Registry;\nexports.INITIAL = grammar_1.StackElement.NULL;\nexports.parseRawGrammar = grammarReader.parseRawGrammar;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar grammar_1 = require(\"./grammar\");\nvar SyncRegistry = /** @class */ (function () {\n    function SyncRegistry(theme, onigLibPromise) {\n        this._theme = theme;\n        this._grammars = {};\n        this._rawGrammars = {};\n        this._injectionGrammars = {};\n        this._onigLibPromise = onigLibPromise;\n    }\n    SyncRegistry.prototype.dispose = function () {\n        for (var scopeName in this._grammars) {\n            if (this._grammars.hasOwnProperty(scopeName)) {\n                this._grammars[scopeName].dispose();\n            }\n        }\n    };\n    SyncRegistry.prototype.setTheme = function (theme) {\n        var _this = this;\n        this._theme = theme;\n        Object.keys(this._grammars).forEach(function (scopeName) {\n            var grammar = _this._grammars[scopeName];\n            grammar.onDidChangeTheme();\n        });\n    };\n    SyncRegistry.prototype.getColorMap = function () {\n        return this._theme.getColorMap();\n    };\n    /**\n     * Add `grammar` to registry and return a list of referenced scope names\n     */\n    SyncRegistry.prototype.addGrammar = function (grammar, injectionScopeNames) {\n        this._rawGrammars[grammar.scopeName] = grammar;\n        if (injectionScopeNames) {\n            this._injectionGrammars[grammar.scopeName] = injectionScopeNames;\n        }\n    };\n    /**\n     * Lookup a raw grammar.\n     */\n    SyncRegistry.prototype.lookup = function (scopeName) {\n        return this._rawGrammars[scopeName];\n    };\n    /**\n     * Returns the injections for the given grammar\n     */\n    SyncRegistry.prototype.injections = function (targetScope) {\n        return this._injectionGrammars[targetScope];\n    };\n    /**\n     * Get the default theme settings\n     */\n    SyncRegistry.prototype.getDefaults = function () {\n        return this._theme.getDefaults();\n    };\n    /**\n     * Match a scope in the theme.\n     */\n    SyncRegistry.prototype.themeMatch = function (scopeName) {\n        return this._theme.match(scopeName);\n    };\n    /**\n     * Lookup a grammar.\n     */\n    SyncRegistry.prototype.grammarForScopeName = function (scopeName, initialLanguage, embeddedLanguages, tokenTypes) {\n        return __awaiter(this, void 0, void 0, function () {\n            var rawGrammar, _a, _b, _c, _d;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!!this._grammars[scopeName]) return [3 /*break*/, 2];\n                        rawGrammar = this._rawGrammars[scopeName];\n                        if (!rawGrammar) {\n                            return [2 /*return*/, null];\n                        }\n                        _a = this._grammars;\n                        _b = scopeName;\n                        _c = grammar_1.createGrammar;\n                        _d = [rawGrammar, initialLanguage, embeddedLanguages, tokenTypes, this];\n                        return [4 /*yield*/, this._onigLibPromise];\n                    case 1:\n                        _a[_b] = _c.apply(void 0, _d.concat([_e.sent()]));\n                        _e.label = 2;\n                    case 2: return [2 /*return*/, this._grammars[scopeName]];\n                }\n            });\n        });\n    };\n    return SyncRegistry;\n}());\nexports.SyncRegistry = SyncRegistry;\n//# sourceMappingURL=registry.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar HAS_BACK_REFERENCES = /\\\\(\\d+)/;\nvar BACK_REFERENCING_END = /\\\\(\\d+)/g;\nvar CompiledRule = /** @class */ (function () {\n    function CompiledRule(onigLib, regExps, rules) {\n        this.debugRegExps = regExps;\n        this.rules = rules;\n        this.scanner = onigLib.createOnigScanner(regExps);\n    }\n    CompiledRule.prototype.dispose = function () {\n        if (typeof this.scanner.dispose === 'function') {\n            this.scanner.dispose();\n        }\n    };\n    return CompiledRule;\n}());\nexports.CompiledRule = CompiledRule;\nvar Rule = /** @class */ (function () {\n    function Rule($location, id, name, contentName) {\n        this.$location = $location;\n        this.id = id;\n        this._name = name || null;\n        this._nameIsCapturing = utils_1.RegexSource.hasCaptures(this._name);\n        this._contentName = contentName || null;\n        this._contentNameIsCapturing = utils_1.RegexSource.hasCaptures(this._contentName);\n    }\n    Object.defineProperty(Rule.prototype, \"debugName\", {\n        get: function () {\n            var location = this.$location ? utils_1.basename(this.$location.filename) + \":\" + this.$location.line : 'unknown';\n            return this.constructor.name + \"#\" + this.id + \" @ \" + location;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rule.prototype.getName = function (lineText, captureIndices) {\n        if (!this._nameIsCapturing || this._name === null || lineText === null || captureIndices === null) {\n            return this._name;\n        }\n        return utils_1.RegexSource.replaceCaptures(this._name, lineText, captureIndices);\n    };\n    Rule.prototype.getContentName = function (lineText, captureIndices) {\n        if (!this._contentNameIsCapturing || this._contentName === null) {\n            return this._contentName;\n        }\n        return utils_1.RegexSource.replaceCaptures(this._contentName, lineText, captureIndices);\n    };\n    return Rule;\n}());\nexports.Rule = Rule;\nvar CaptureRule = /** @class */ (function (_super) {\n    __extends(CaptureRule, _super);\n    function CaptureRule($location, id, name, contentName, retokenizeCapturedWithRuleId) {\n        var _this = _super.call(this, $location, id, name, contentName) || this;\n        _this.retokenizeCapturedWithRuleId = retokenizeCapturedWithRuleId;\n        return _this;\n    }\n    CaptureRule.prototype.dispose = function () {\n        // nothing to dispose\n    };\n    CaptureRule.prototype.collectPatternsRecursive = function (grammar, out, isFirst) {\n        throw new Error('Not supported!');\n    };\n    CaptureRule.prototype.compile = function (grammar, endRegexSource, allowA, allowG) {\n        throw new Error('Not supported!');\n    };\n    return CaptureRule;\n}(Rule));\nexports.CaptureRule = CaptureRule;\nvar RegExpSource = /** @class */ (function () {\n    function RegExpSource(regExpSource, ruleId, handleAnchors) {\n        if (handleAnchors === void 0) { handleAnchors = true; }\n        if (handleAnchors) {\n            if (regExpSource) {\n                var len = regExpSource.length;\n                var lastPushedPos = 0;\n                var output = [];\n                var hasAnchor = false;\n                for (var pos = 0; pos < len; pos++) {\n                    var ch = regExpSource.charAt(pos);\n                    if (ch === '\\\\') {\n                        if (pos + 1 < len) {\n                            var nextCh = regExpSource.charAt(pos + 1);\n                            if (nextCh === 'z') {\n                                output.push(regExpSource.substring(lastPushedPos, pos));\n                                output.push('$(?!\\\\n)(?<!\\\\n)');\n                                lastPushedPos = pos + 2;\n                            }\n                            else if (nextCh === 'A' || nextCh === 'G') {\n                                hasAnchor = true;\n                            }\n                            pos++;\n                        }\n                    }\n                }\n                this.hasAnchor = hasAnchor;\n                if (lastPushedPos === 0) {\n                    // No \\z hit\n                    this.source = regExpSource;\n                }\n                else {\n                    output.push(regExpSource.substring(lastPushedPos, len));\n                    this.source = output.join('');\n                }\n            }\n            else {\n                this.hasAnchor = false;\n                this.source = regExpSource;\n            }\n        }\n        else {\n            this.hasAnchor = false;\n            this.source = regExpSource;\n        }\n        if (this.hasAnchor) {\n            this._anchorCache = this._buildAnchorCache();\n        }\n        else {\n            this._anchorCache = null;\n        }\n        this.ruleId = ruleId;\n        this.hasBackReferences = HAS_BACK_REFERENCES.test(this.source);\n        // console.log('input: ' + regExpSource + ' => ' + this.source + ', ' + this.hasAnchor);\n    }\n    RegExpSource.prototype.clone = function () {\n        return new RegExpSource(this.source, this.ruleId, true);\n    };\n    RegExpSource.prototype.setSource = function (newSource) {\n        if (this.source === newSource) {\n            return;\n        }\n        this.source = newSource;\n        if (this.hasAnchor) {\n            this._anchorCache = this._buildAnchorCache();\n        }\n    };\n    RegExpSource.prototype.resolveBackReferences = function (lineText, captureIndices) {\n        var capturedValues = captureIndices.map(function (capture) {\n            return lineText.substring(capture.start, capture.end);\n        });\n        BACK_REFERENCING_END.lastIndex = 0;\n        return this.source.replace(BACK_REFERENCING_END, function (match, g1) {\n            return escapeRegExpCharacters(capturedValues[parseInt(g1, 10)] || '');\n        });\n    };\n    RegExpSource.prototype._buildAnchorCache = function () {\n        var A0_G0_result = [];\n        var A0_G1_result = [];\n        var A1_G0_result = [];\n        var A1_G1_result = [];\n        var pos, len, ch, nextCh;\n        for (pos = 0, len = this.source.length; pos < len; pos++) {\n            ch = this.source.charAt(pos);\n            A0_G0_result[pos] = ch;\n            A0_G1_result[pos] = ch;\n            A1_G0_result[pos] = ch;\n            A1_G1_result[pos] = ch;\n            if (ch === '\\\\') {\n                if (pos + 1 < len) {\n                    nextCh = this.source.charAt(pos + 1);\n                    if (nextCh === 'A') {\n                        A0_G0_result[pos + 1] = '\\uFFFF';\n                        A0_G1_result[pos + 1] = '\\uFFFF';\n                        A1_G0_result[pos + 1] = 'A';\n                        A1_G1_result[pos + 1] = 'A';\n                    }\n                    else if (nextCh === 'G') {\n                        A0_G0_result[pos + 1] = '\\uFFFF';\n                        A0_G1_result[pos + 1] = 'G';\n                        A1_G0_result[pos + 1] = '\\uFFFF';\n                        A1_G1_result[pos + 1] = 'G';\n                    }\n                    else {\n                        A0_G0_result[pos + 1] = nextCh;\n                        A0_G1_result[pos + 1] = nextCh;\n                        A1_G0_result[pos + 1] = nextCh;\n                        A1_G1_result[pos + 1] = nextCh;\n                    }\n                    pos++;\n                }\n            }\n        }\n        return {\n            A0_G0: A0_G0_result.join(''),\n            A0_G1: A0_G1_result.join(''),\n            A1_G0: A1_G0_result.join(''),\n            A1_G1: A1_G1_result.join('')\n        };\n    };\n    RegExpSource.prototype.resolveAnchors = function (allowA, allowG) {\n        if (!this.hasAnchor || !this._anchorCache) {\n            return this.source;\n        }\n        if (allowA) {\n            if (allowG) {\n                return this._anchorCache.A1_G1;\n            }\n            else {\n                return this._anchorCache.A1_G0;\n            }\n        }\n        else {\n            if (allowG) {\n                return this._anchorCache.A0_G1;\n            }\n            else {\n                return this._anchorCache.A0_G0;\n            }\n        }\n    };\n    return RegExpSource;\n}());\nexports.RegExpSource = RegExpSource;\nvar RegExpSourceList = /** @class */ (function () {\n    function RegExpSourceList() {\n        this._items = [];\n        this._hasAnchors = false;\n        this._cached = null;\n        this._anchorCache = {\n            A0_G0: null,\n            A0_G1: null,\n            A1_G0: null,\n            A1_G1: null\n        };\n    }\n    RegExpSourceList.prototype.dispose = function () {\n        this._disposeCaches();\n    };\n    RegExpSourceList.prototype._disposeCaches = function () {\n        if (this._cached) {\n            this._cached.dispose();\n            this._cached = null;\n        }\n        if (this._anchorCache.A0_G0) {\n            this._anchorCache.A0_G0.dispose();\n            this._anchorCache.A0_G0 = null;\n        }\n        if (this._anchorCache.A0_G1) {\n            this._anchorCache.A0_G1.dispose();\n            this._anchorCache.A0_G1 = null;\n        }\n        if (this._anchorCache.A1_G0) {\n            this._anchorCache.A1_G0.dispose();\n            this._anchorCache.A1_G0 = null;\n        }\n        if (this._anchorCache.A1_G1) {\n            this._anchorCache.A1_G1.dispose();\n            this._anchorCache.A1_G1 = null;\n        }\n    };\n    RegExpSourceList.prototype.push = function (item) {\n        this._items.push(item);\n        this._hasAnchors = this._hasAnchors || item.hasAnchor;\n    };\n    RegExpSourceList.prototype.unshift = function (item) {\n        this._items.unshift(item);\n        this._hasAnchors = this._hasAnchors || item.hasAnchor;\n    };\n    RegExpSourceList.prototype.length = function () {\n        return this._items.length;\n    };\n    RegExpSourceList.prototype.setSource = function (index, newSource) {\n        if (this._items[index].source !== newSource) {\n            // bust the cache\n            this._disposeCaches();\n            this._items[index].setSource(newSource);\n        }\n    };\n    RegExpSourceList.prototype.compile = function (onigLib, allowA, allowG) {\n        if (!this._hasAnchors) {\n            if (!this._cached) {\n                var regExps = this._items.map(function (e) { return e.source; });\n                this._cached = new CompiledRule(onigLib, regExps, this._items.map(function (e) { return e.ruleId; }));\n            }\n            return this._cached;\n        }\n        else {\n            if (allowA) {\n                if (allowG) {\n                    if (!this._anchorCache.A1_G1) {\n                        this._anchorCache.A1_G1 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A1_G1;\n                }\n                else {\n                    if (!this._anchorCache.A1_G0) {\n                        this._anchorCache.A1_G0 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A1_G0;\n                }\n            }\n            else {\n                if (allowG) {\n                    if (!this._anchorCache.A0_G1) {\n                        this._anchorCache.A0_G1 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A0_G1;\n                }\n                else {\n                    if (!this._anchorCache.A0_G0) {\n                        this._anchorCache.A0_G0 = this._resolveAnchors(onigLib, allowA, allowG);\n                    }\n                    return this._anchorCache.A0_G0;\n                }\n            }\n        }\n    };\n    RegExpSourceList.prototype._resolveAnchors = function (onigLib, allowA, allowG) {\n        var regExps = this._items.map(function (e) { return e.resolveAnchors(allowA, allowG); });\n        return new CompiledRule(onigLib, regExps, this._items.map(function (e) { return e.ruleId; }));\n    };\n    return RegExpSourceList;\n}());\nexports.RegExpSourceList = RegExpSourceList;\nvar MatchRule = /** @class */ (function (_super) {\n    __extends(MatchRule, _super);\n    function MatchRule($location, id, name, match, captures) {\n        var _this = _super.call(this, $location, id, name, null) || this;\n        _this._match = new RegExpSource(match, _this.id);\n        _this.captures = captures;\n        _this._cachedCompiledPatterns = null;\n        return _this;\n    }\n    MatchRule.prototype.dispose = function () {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n    };\n    Object.defineProperty(MatchRule.prototype, \"debugMatchRegExp\", {\n        get: function () {\n            return \"\" + this._match.source;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MatchRule.prototype.collectPatternsRecursive = function (grammar, out, isFirst) {\n        out.push(this._match);\n    };\n    MatchRule.prototype.compile = function (grammar, endRegexSource, allowA, allowG) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            this.collectPatternsRecursive(grammar, this._cachedCompiledPatterns, true);\n        }\n        return this._cachedCompiledPatterns.compile(grammar, allowA, allowG);\n    };\n    return MatchRule;\n}(Rule));\nexports.MatchRule = MatchRule;\nvar IncludeOnlyRule = /** @class */ (function (_super) {\n    __extends(IncludeOnlyRule, _super);\n    function IncludeOnlyRule($location, id, name, contentName, patterns) {\n        var _this = _super.call(this, $location, id, name, contentName) || this;\n        _this.patterns = patterns.patterns;\n        _this.hasMissingPatterns = patterns.hasMissingPatterns;\n        _this._cachedCompiledPatterns = null;\n        return _this;\n    }\n    IncludeOnlyRule.prototype.dispose = function () {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n    };\n    IncludeOnlyRule.prototype.collectPatternsRecursive = function (grammar, out, isFirst) {\n        var i, len, rule;\n        for (i = 0, len = this.patterns.length; i < len; i++) {\n            rule = grammar.getRule(this.patterns[i]);\n            rule.collectPatternsRecursive(grammar, out, false);\n        }\n    };\n    IncludeOnlyRule.prototype.compile = function (grammar, endRegexSource, allowA, allowG) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            this.collectPatternsRecursive(grammar, this._cachedCompiledPatterns, true);\n        }\n        return this._cachedCompiledPatterns.compile(grammar, allowA, allowG);\n    };\n    return IncludeOnlyRule;\n}(Rule));\nexports.IncludeOnlyRule = IncludeOnlyRule;\nfunction escapeRegExpCharacters(value) {\n    return value.replace(/[\\-\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&');\n}\nvar BeginEndRule = /** @class */ (function (_super) {\n    __extends(BeginEndRule, _super);\n    function BeginEndRule($location, id, name, contentName, begin, beginCaptures, end, endCaptures, applyEndPatternLast, patterns) {\n        var _this = _super.call(this, $location, id, name, contentName) || this;\n        _this._begin = new RegExpSource(begin, _this.id);\n        _this.beginCaptures = beginCaptures;\n        _this._end = new RegExpSource(end ? end : '\\uFFFF', -1);\n        _this.endHasBackReferences = _this._end.hasBackReferences;\n        _this.endCaptures = endCaptures;\n        _this.applyEndPatternLast = applyEndPatternLast || false;\n        _this.patterns = patterns.patterns;\n        _this.hasMissingPatterns = patterns.hasMissingPatterns;\n        _this._cachedCompiledPatterns = null;\n        return _this;\n    }\n    BeginEndRule.prototype.dispose = function () {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n    };\n    Object.defineProperty(BeginEndRule.prototype, \"debugBeginRegExp\", {\n        get: function () {\n            return \"\" + this._begin.source;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BeginEndRule.prototype, \"debugEndRegExp\", {\n        get: function () {\n            return \"\" + this._end.source;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BeginEndRule.prototype.getEndWithResolvedBackReferences = function (lineText, captureIndices) {\n        return this._end.resolveBackReferences(lineText, captureIndices);\n    };\n    BeginEndRule.prototype.collectPatternsRecursive = function (grammar, out, isFirst) {\n        if (isFirst) {\n            var i = void 0, len = void 0, rule = void 0;\n            for (i = 0, len = this.patterns.length; i < len; i++) {\n                rule = grammar.getRule(this.patterns[i]);\n                rule.collectPatternsRecursive(grammar, out, false);\n            }\n        }\n        else {\n            out.push(this._begin);\n        }\n    };\n    BeginEndRule.prototype.compile = function (grammar, endRegexSource, allowA, allowG) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            this.collectPatternsRecursive(grammar, this._cachedCompiledPatterns, true);\n            if (this.applyEndPatternLast) {\n                this._cachedCompiledPatterns.push(this._end.hasBackReferences ? this._end.clone() : this._end);\n            }\n            else {\n                this._cachedCompiledPatterns.unshift(this._end.hasBackReferences ? this._end.clone() : this._end);\n            }\n        }\n        if (this._end.hasBackReferences) {\n            if (this.applyEndPatternLast) {\n                this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length() - 1, endRegexSource);\n            }\n            else {\n                this._cachedCompiledPatterns.setSource(0, endRegexSource);\n            }\n        }\n        return this._cachedCompiledPatterns.compile(grammar, allowA, allowG);\n    };\n    return BeginEndRule;\n}(Rule));\nexports.BeginEndRule = BeginEndRule;\nvar BeginWhileRule = /** @class */ (function (_super) {\n    __extends(BeginWhileRule, _super);\n    function BeginWhileRule($location, id, name, contentName, begin, beginCaptures, _while, whileCaptures, patterns) {\n        var _this = _super.call(this, $location, id, name, contentName) || this;\n        _this._begin = new RegExpSource(begin, _this.id);\n        _this.beginCaptures = beginCaptures;\n        _this.whileCaptures = whileCaptures;\n        _this._while = new RegExpSource(_while, -2);\n        _this.whileHasBackReferences = _this._while.hasBackReferences;\n        _this.patterns = patterns.patterns;\n        _this.hasMissingPatterns = patterns.hasMissingPatterns;\n        _this._cachedCompiledPatterns = null;\n        _this._cachedCompiledWhilePatterns = null;\n        return _this;\n    }\n    BeginWhileRule.prototype.dispose = function () {\n        if (this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns.dispose();\n            this._cachedCompiledPatterns = null;\n        }\n        if (this._cachedCompiledWhilePatterns) {\n            this._cachedCompiledWhilePatterns.dispose();\n            this._cachedCompiledWhilePatterns = null;\n        }\n    };\n    Object.defineProperty(BeginWhileRule.prototype, \"debugBeginRegExp\", {\n        get: function () {\n            return \"\" + this._begin.source;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BeginWhileRule.prototype, \"debugWhileRegExp\", {\n        get: function () {\n            return \"\" + this._while.source;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BeginWhileRule.prototype.getWhileWithResolvedBackReferences = function (lineText, captureIndices) {\n        return this._while.resolveBackReferences(lineText, captureIndices);\n    };\n    BeginWhileRule.prototype.collectPatternsRecursive = function (grammar, out, isFirst) {\n        if (isFirst) {\n            var i = void 0, len = void 0, rule = void 0;\n            for (i = 0, len = this.patterns.length; i < len; i++) {\n                rule = grammar.getRule(this.patterns[i]);\n                rule.collectPatternsRecursive(grammar, out, false);\n            }\n        }\n        else {\n            out.push(this._begin);\n        }\n    };\n    BeginWhileRule.prototype.compile = function (grammar, endRegexSource, allowA, allowG) {\n        if (!this._cachedCompiledPatterns) {\n            this._cachedCompiledPatterns = new RegExpSourceList();\n            this.collectPatternsRecursive(grammar, this._cachedCompiledPatterns, true);\n        }\n        return this._cachedCompiledPatterns.compile(grammar, allowA, allowG);\n    };\n    BeginWhileRule.prototype.compileWhile = function (grammar, endRegexSource, allowA, allowG) {\n        if (!this._cachedCompiledWhilePatterns) {\n            this._cachedCompiledWhilePatterns = new RegExpSourceList();\n            this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences ? this._while.clone() : this._while);\n        }\n        if (this._while.hasBackReferences) {\n            this._cachedCompiledWhilePatterns.setSource(0, endRegexSource ? endRegexSource : '\\uFFFF');\n        }\n        return this._cachedCompiledWhilePatterns.compile(grammar, allowA, allowG);\n    };\n    return BeginWhileRule;\n}(Rule));\nexports.BeginWhileRule = BeginWhileRule;\nvar RuleFactory = /** @class */ (function () {\n    function RuleFactory() {\n    }\n    RuleFactory.createCaptureRule = function (helper, $location, name, contentName, retokenizeCapturedWithRuleId) {\n        return helper.registerRule(function (id) {\n            return new CaptureRule($location, id, name, contentName, retokenizeCapturedWithRuleId);\n        });\n    };\n    RuleFactory.getCompiledRuleId = function (desc, helper, repository) {\n        if (!desc.id) {\n            helper.registerRule(function (id) {\n                desc.id = id;\n                if (desc.match) {\n                    return new MatchRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.match, RuleFactory._compileCaptures(desc.captures, helper, repository));\n                }\n                if (typeof desc.begin === 'undefined') {\n                    if (desc.repository) {\n                        repository = utils_1.mergeObjects({}, repository, desc.repository);\n                    }\n                    var patterns = desc.patterns;\n                    if (typeof patterns === 'undefined' && desc.include) {\n                        patterns = [{ include: desc.include }];\n                    }\n                    return new IncludeOnlyRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.contentName, RuleFactory._compilePatterns(patterns, helper, repository));\n                }\n                if (desc.while) {\n                    return new BeginWhileRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.contentName, desc.begin, RuleFactory._compileCaptures(desc.beginCaptures || desc.captures, helper, repository), desc.while, RuleFactory._compileCaptures(desc.whileCaptures || desc.captures, helper, repository), RuleFactory._compilePatterns(desc.patterns, helper, repository));\n                }\n                return new BeginEndRule(desc.$vscodeTextmateLocation, desc.id, desc.name, desc.contentName, desc.begin, RuleFactory._compileCaptures(desc.beginCaptures || desc.captures, helper, repository), desc.end, RuleFactory._compileCaptures(desc.endCaptures || desc.captures, helper, repository), desc.applyEndPatternLast, RuleFactory._compilePatterns(desc.patterns, helper, repository));\n            });\n        }\n        return desc.id;\n    };\n    RuleFactory._compileCaptures = function (captures, helper, repository) {\n        var r = [];\n        if (captures) {\n            // Find the maximum capture id\n            var maximumCaptureId = 0;\n            for (var captureId in captures) {\n                if (captureId === '$vscodeTextmateLocation') {\n                    continue;\n                }\n                var numericCaptureId = parseInt(captureId, 10);\n                if (numericCaptureId > maximumCaptureId) {\n                    maximumCaptureId = numericCaptureId;\n                }\n            }\n            // Initialize result\n            for (var i = 0; i <= maximumCaptureId; i++) {\n                r[i] = null;\n            }\n            // Fill out result\n            for (var captureId in captures) {\n                if (captureId === '$vscodeTextmateLocation') {\n                    continue;\n                }\n                var numericCaptureId = parseInt(captureId, 10);\n                var retokenizeCapturedWithRuleId = 0;\n                if (captures[captureId].patterns) {\n                    retokenizeCapturedWithRuleId = RuleFactory.getCompiledRuleId(captures[captureId], helper, repository);\n                }\n                r[numericCaptureId] = RuleFactory.createCaptureRule(helper, captures[captureId].$vscodeTextmateLocation, captures[captureId].name, captures[captureId].contentName, retokenizeCapturedWithRuleId);\n            }\n        }\n        return r;\n    };\n    RuleFactory._compilePatterns = function (patterns, helper, repository) {\n        var r = [];\n        if (patterns) {\n            for (var i = 0, len = patterns.length; i < len; i++) {\n                var pattern = patterns[i];\n                var patternId = -1;\n                if (pattern.include) {\n                    if (pattern.include.charAt(0) === '#') {\n                        // Local include found in `repository`\n                        var localIncludedRule = repository[pattern.include.substr(1)];\n                        if (localIncludedRule) {\n                            patternId = RuleFactory.getCompiledRuleId(localIncludedRule, helper, repository);\n                        }\n                        else {\n                            // console.warn('CANNOT find rule for scopeName: ' + pattern.include + ', I am: ', repository['$base'].name);\n                        }\n                    }\n                    else if (pattern.include === '$base' || pattern.include === '$self') {\n                        // Special include also found in `repository`\n                        patternId = RuleFactory.getCompiledRuleId(repository[pattern.include], helper, repository);\n                    }\n                    else {\n                        var externalGrammarName = null;\n                        var externalGrammarInclude = null;\n                        var sharpIndex = pattern.include.indexOf('#');\n                        if (sharpIndex >= 0) {\n                            externalGrammarName = pattern.include.substring(0, sharpIndex);\n                            externalGrammarInclude = pattern.include.substring(sharpIndex + 1);\n                        }\n                        else {\n                            externalGrammarName = pattern.include;\n                        }\n                        // External include\n                        var externalGrammar = helper.getExternalGrammar(externalGrammarName, repository);\n                        if (externalGrammar) {\n                            if (externalGrammarInclude) {\n                                var externalIncludedRule = externalGrammar.repository[externalGrammarInclude];\n                                if (externalIncludedRule) {\n                                    patternId = RuleFactory.getCompiledRuleId(externalIncludedRule, helper, externalGrammar.repository);\n                                }\n                                else {\n                                    // console.warn('CANNOT find rule for scopeName: ' + pattern.include + ', I am: ', repository['$base'].name);\n                                }\n                            }\n                            else {\n                                patternId = RuleFactory.getCompiledRuleId(externalGrammar.repository.$self, helper, externalGrammar.repository);\n                            }\n                        }\n                        else {\n                            // console.warn('CANNOT find grammar for scopeName: ' + pattern.include + ', I am: ', repository['$base'].name);\n                        }\n                    }\n                }\n                else {\n                    patternId = RuleFactory.getCompiledRuleId(pattern, helper, repository);\n                }\n                if (patternId !== -1) {\n                    var rule = helper.getRule(patternId);\n                    var skipRule = false;\n                    if (rule instanceof IncludeOnlyRule || rule instanceof BeginEndRule || rule instanceof BeginWhileRule) {\n                        if (rule.hasMissingPatterns && rule.patterns.length === 0) {\n                            skipRule = true;\n                        }\n                    }\n                    if (skipRule) {\n                        // console.log('REMOVING RULE ENTIRELY DUE TO EMPTY PATTERNS THAT ARE MISSING');\n                        continue;\n                    }\n                    r.push(patternId);\n                }\n            }\n        }\n        return {\n            patterns: r,\n            hasMissingPatterns: ((patterns ? patterns.length : 0) !== r.length)\n        };\n    };\n    return RuleFactory;\n}());\nexports.RuleFactory = RuleFactory;\n//# sourceMappingURL=rule.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction createMatchers(selector, matchesName) {\n    var results = [];\n    var tokenizer = newTokenizer(selector);\n    var token = tokenizer.next();\n    while (token !== null) {\n        var priority = 0;\n        if (token.length === 2 && token.charAt(1) === ':') {\n            switch (token.charAt(0)) {\n                case 'R':\n                    priority = 1;\n                    break;\n                case 'L':\n                    priority = -1;\n                    break;\n                default:\n                    console.log(\"Unknown priority \" + token + \" in scope selector\");\n            }\n            token = tokenizer.next();\n        }\n        var matcher = parseConjunction();\n        results.push({ matcher: matcher, priority: priority });\n        if (token !== ',') {\n            break;\n        }\n        token = tokenizer.next();\n    }\n    return results;\n    function parseOperand() {\n        if (token === '-') {\n            token = tokenizer.next();\n            var expressionToNegate_1 = parseOperand();\n            return function (matcherInput) { return !!expressionToNegate_1 && !expressionToNegate_1(matcherInput); };\n        }\n        if (token === '(') {\n            token = tokenizer.next();\n            var expressionInParents = parseInnerExpression();\n            if (token === ')') {\n                token = tokenizer.next();\n            }\n            return expressionInParents;\n        }\n        if (isIdentifier(token)) {\n            var identifiers_1 = [];\n            do {\n                identifiers_1.push(token);\n                token = tokenizer.next();\n            } while (isIdentifier(token));\n            return function (matcherInput) { return matchesName(identifiers_1, matcherInput); };\n        }\n        return null;\n    }\n    function parseConjunction() {\n        var matchers = [];\n        var matcher = parseOperand();\n        while (matcher) {\n            matchers.push(matcher);\n            matcher = parseOperand();\n        }\n        return function (matcherInput) { return matchers.every(function (matcher) { return matcher(matcherInput); }); }; // and\n    }\n    function parseInnerExpression() {\n        var matchers = [];\n        var matcher = parseConjunction();\n        while (matcher) {\n            matchers.push(matcher);\n            if (token === '|' || token === ',') {\n                do {\n                    token = tokenizer.next();\n                } while (token === '|' || token === ','); // ignore subsequent commas\n            }\n            else {\n                break;\n            }\n            matcher = parseConjunction();\n        }\n        return function (matcherInput) { return matchers.some(function (matcher) { return matcher(matcherInput); }); }; // or\n    }\n}\nexports.createMatchers = createMatchers;\nfunction isIdentifier(token) {\n    return !!token && !!token.match(/[\\w\\.:]+/);\n}\nfunction newTokenizer(input) {\n    var regex = /([LR]:|[\\w\\.:][\\w\\.:\\-]*|[\\,\\|\\-\\(\\)])/g;\n    var match = regex.exec(input);\n    return {\n        next: function () {\n            if (!match) {\n                return null;\n            }\n            var res = match[0];\n            match = regex.exec(input);\n            return res;\n        }\n    };\n}\n//# sourceMappingURL=matcher.js.map","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar plist = require(\"./plist\");\nvar debug_1 = require(\"./debug\");\nvar json_1 = require(\"./json\");\nfunction parseRawGrammar(content, filePath) {\n    if (filePath === void 0) { filePath = null; }\n    if (filePath !== null && /\\.json$/.test(filePath)) {\n        return parseJSONGrammar(content, filePath);\n    }\n    return parsePLISTGrammar(content, filePath);\n}\nexports.parseRawGrammar = parseRawGrammar;\nfunction parseJSONGrammar(contents, filename) {\n    if (debug_1.DebugFlags.InDebugMode) {\n        return json_1.parse(contents, filename, true);\n    }\n    return JSON.parse(contents);\n}\nfunction parsePLISTGrammar(contents, filename) {\n    if (debug_1.DebugFlags.InDebugMode) {\n        return plist.parseWithLocation(contents, filename, '$vscodeTextmateLocation');\n    }\n    return plist.parse(contents);\n}\n//# sourceMappingURL=grammarReader.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction parseWithLocation(content, filename, locationKeyName) {\n    return _parse(content, filename, locationKeyName);\n}\nexports.parseWithLocation = parseWithLocation;\n/**\n * A very fast plist parser\n */\nfunction parse(content) {\n    return _parse(content, null, null);\n}\nexports.parse = parse;\nfunction _parse(content, filename, locationKeyName) {\n    var len = content.length;\n    var pos = 0;\n    var line = 1;\n    var char = 0;\n    // Skip UTF8 BOM\n    if (len > 0 && content.charCodeAt(0) === 65279 /* BOM */) {\n        pos = 1;\n    }\n    function advancePosBy(by) {\n        if (locationKeyName === null) {\n            pos = pos + by;\n        }\n        else {\n            while (by > 0) {\n                var chCode = content.charCodeAt(pos);\n                if (chCode === 10 /* LINE_FEED */) {\n                    pos++;\n                    line++;\n                    char = 0;\n                }\n                else {\n                    pos++;\n                    char++;\n                }\n                by--;\n            }\n        }\n    }\n    function advancePosTo(to) {\n        if (locationKeyName === null) {\n            pos = to;\n        }\n        else {\n            advancePosBy(to - pos);\n        }\n    }\n    function skipWhitespace() {\n        while (pos < len) {\n            var chCode = content.charCodeAt(pos);\n            if (chCode !== 32 /* SPACE */ && chCode !== 9 /* TAB */ && chCode !== 13 /* CARRIAGE_RETURN */ && chCode !== 10 /* LINE_FEED */) {\n                break;\n            }\n            advancePosBy(1);\n        }\n    }\n    function advanceIfStartsWith(str) {\n        if (content.substr(pos, str.length) === str) {\n            advancePosBy(str.length);\n            return true;\n        }\n        return false;\n    }\n    function advanceUntil(str) {\n        var nextOccurence = content.indexOf(str, pos);\n        if (nextOccurence !== -1) {\n            advancePosTo(nextOccurence + str.length);\n        }\n        else {\n            // EOF\n            advancePosTo(len);\n        }\n    }\n    function captureUntil(str) {\n        var nextOccurence = content.indexOf(str, pos);\n        if (nextOccurence !== -1) {\n            var r = content.substring(pos, nextOccurence);\n            advancePosTo(nextOccurence + str.length);\n            return r;\n        }\n        else {\n            // EOF\n            var r = content.substr(pos);\n            advancePosTo(len);\n            return r;\n        }\n    }\n    var state = 0 /* ROOT_STATE */;\n    var cur = null;\n    var stateStack = [];\n    var objStack = [];\n    var curKey = null;\n    function pushState(newState, newCur) {\n        stateStack.push(state);\n        objStack.push(cur);\n        state = newState;\n        cur = newCur;\n    }\n    function popState() {\n        if (stateStack.length === 0) {\n            return fail('illegal state stack');\n        }\n        state = stateStack.pop();\n        cur = objStack.pop();\n    }\n    function fail(msg) {\n        throw new Error('Near offset ' + pos + ': ' + msg + ' ~~~' + content.substr(pos, 50) + '~~~');\n    }\n    var dictState = {\n        enterDict: function () {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            var newDict = {};\n            if (locationKeyName !== null) {\n                newDict[locationKeyName] = {\n                    filename: filename,\n                    line: line,\n                    char: char\n                };\n            }\n            cur[curKey] = newDict;\n            curKey = null;\n            pushState(1 /* DICT_STATE */, newDict);\n        },\n        enterArray: function () {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            var newArr = [];\n            cur[curKey] = newArr;\n            curKey = null;\n            pushState(2 /* ARR_STATE */, newArr);\n        }\n    };\n    var arrState = {\n        enterDict: function () {\n            var newDict = {};\n            if (locationKeyName !== null) {\n                newDict[locationKeyName] = {\n                    filename: filename,\n                    line: line,\n                    char: char\n                };\n            }\n            cur.push(newDict);\n            pushState(1 /* DICT_STATE */, newDict);\n        },\n        enterArray: function () {\n            var newArr = [];\n            cur.push(newArr);\n            pushState(2 /* ARR_STATE */, newArr);\n        }\n    };\n    function enterDict() {\n        if (state === 1 /* DICT_STATE */) {\n            dictState.enterDict();\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            arrState.enterDict();\n        }\n        else { // ROOT_STATE\n            cur = {};\n            if (locationKeyName !== null) {\n                cur[locationKeyName] = {\n                    filename: filename,\n                    line: line,\n                    char: char\n                };\n            }\n            pushState(1 /* DICT_STATE */, cur);\n        }\n    }\n    function leaveDict() {\n        if (state === 1 /* DICT_STATE */) {\n            popState();\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            return fail('unexpected </dict>');\n        }\n        else { // ROOT_STATE\n            return fail('unexpected </dict>');\n        }\n    }\n    function enterArray() {\n        if (state === 1 /* DICT_STATE */) {\n            dictState.enterArray();\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            arrState.enterArray();\n        }\n        else { // ROOT_STATE\n            cur = [];\n            pushState(2 /* ARR_STATE */, cur);\n        }\n    }\n    function leaveArray() {\n        if (state === 1 /* DICT_STATE */) {\n            return fail('unexpected </array>');\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            popState();\n        }\n        else { // ROOT_STATE\n            return fail('unexpected </array>');\n        }\n    }\n    function acceptKey(val) {\n        if (state === 1 /* DICT_STATE */) {\n            if (curKey !== null) {\n                return fail('too many <key>');\n            }\n            curKey = val;\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            return fail('unexpected <key>');\n        }\n        else { // ROOT_STATE\n            return fail('unexpected <key>');\n        }\n    }\n    function acceptString(val) {\n        if (state === 1 /* DICT_STATE */) {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            cur[curKey] = val;\n            curKey = null;\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            cur.push(val);\n        }\n        else { // ROOT_STATE\n            cur = val;\n        }\n    }\n    function acceptReal(val) {\n        if (isNaN(val)) {\n            return fail('cannot parse float');\n        }\n        if (state === 1 /* DICT_STATE */) {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            cur[curKey] = val;\n            curKey = null;\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            cur.push(val);\n        }\n        else { // ROOT_STATE\n            cur = val;\n        }\n    }\n    function acceptInteger(val) {\n        if (isNaN(val)) {\n            return fail('cannot parse integer');\n        }\n        if (state === 1 /* DICT_STATE */) {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            cur[curKey] = val;\n            curKey = null;\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            cur.push(val);\n        }\n        else { // ROOT_STATE\n            cur = val;\n        }\n    }\n    function acceptDate(val) {\n        if (state === 1 /* DICT_STATE */) {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            cur[curKey] = val;\n            curKey = null;\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            cur.push(val);\n        }\n        else { // ROOT_STATE\n            cur = val;\n        }\n    }\n    function acceptData(val) {\n        if (state === 1 /* DICT_STATE */) {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            cur[curKey] = val;\n            curKey = null;\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            cur.push(val);\n        }\n        else { // ROOT_STATE\n            cur = val;\n        }\n    }\n    function acceptBool(val) {\n        if (state === 1 /* DICT_STATE */) {\n            if (curKey === null) {\n                return fail('missing <key>');\n            }\n            cur[curKey] = val;\n            curKey = null;\n        }\n        else if (state === 2 /* ARR_STATE */) {\n            cur.push(val);\n        }\n        else { // ROOT_STATE\n            cur = val;\n        }\n    }\n    function escapeVal(str) {\n        return str.replace(/&#([0-9]+);/g, function (_, m0) {\n            return String.fromCodePoint(parseInt(m0, 10));\n        }).replace(/&#x([0-9a-f]+);/g, function (_, m0) {\n            return String.fromCodePoint(parseInt(m0, 16));\n        }).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g, function (_) {\n            switch (_) {\n                case '&amp;': return '&';\n                case '&lt;': return '<';\n                case '&gt;': return '>';\n                case '&quot;': return '\"';\n                case '&apos;': return '\\'';\n            }\n            return _;\n        });\n    }\n    function parseOpenTag() {\n        var r = captureUntil('>');\n        var isClosed = false;\n        if (r.charCodeAt(r.length - 1) === 47 /* SLASH */) {\n            isClosed = true;\n            r = r.substring(0, r.length - 1);\n        }\n        return {\n            name: r.trim(),\n            isClosed: isClosed\n        };\n    }\n    function parseTagValue(tag) {\n        if (tag.isClosed) {\n            return '';\n        }\n        var val = captureUntil('</');\n        advanceUntil('>');\n        return escapeVal(val);\n    }\n    while (pos < len) {\n        skipWhitespace();\n        if (pos >= len) {\n            break;\n        }\n        var chCode = content.charCodeAt(pos);\n        advancePosBy(1);\n        if (chCode !== 60 /* LESS_THAN */) {\n            return fail('expected <');\n        }\n        if (pos >= len) {\n            return fail('unexpected end of input');\n        }\n        var peekChCode = content.charCodeAt(pos);\n        if (peekChCode === 63 /* QUESTION_MARK */) {\n            advancePosBy(1);\n            advanceUntil('?>');\n            continue;\n        }\n        if (peekChCode === 33 /* EXCLAMATION_MARK */) {\n            advancePosBy(1);\n            if (advanceIfStartsWith('--')) {\n                advanceUntil('-->');\n                continue;\n            }\n            advanceUntil('>');\n            continue;\n        }\n        if (peekChCode === 47 /* SLASH */) {\n            advancePosBy(1);\n            skipWhitespace();\n            if (advanceIfStartsWith('plist')) {\n                advanceUntil('>');\n                continue;\n            }\n            if (advanceIfStartsWith('dict')) {\n                advanceUntil('>');\n                leaveDict();\n                continue;\n            }\n            if (advanceIfStartsWith('array')) {\n                advanceUntil('>');\n                leaveArray();\n                continue;\n            }\n            return fail('unexpected closed tag');\n        }\n        var tag = parseOpenTag();\n        switch (tag.name) {\n            case 'dict':\n                enterDict();\n                if (tag.isClosed) {\n                    leaveDict();\n                }\n                continue;\n            case 'array':\n                enterArray();\n                if (tag.isClosed) {\n                    leaveArray();\n                }\n                continue;\n            case 'key':\n                acceptKey(parseTagValue(tag));\n                continue;\n            case 'string':\n                acceptString(parseTagValue(tag));\n                continue;\n            case 'real':\n                acceptReal(parseFloat(parseTagValue(tag)));\n                continue;\n            case 'integer':\n                acceptInteger(parseInt(parseTagValue(tag), 10));\n                continue;\n            case 'date':\n                acceptDate(new Date(parseTagValue(tag)));\n                continue;\n            case 'data':\n                acceptData(parseTagValue(tag));\n                continue;\n            case 'true':\n                parseTagValue(tag);\n                acceptBool(true);\n                continue;\n            case 'false':\n                parseTagValue(tag);\n                acceptBool(false);\n                continue;\n        }\n        if (/^plist/.test(tag.name)) {\n            continue;\n        }\n        return fail('unexpected opened tag ' + tag.name);\n    }\n    return cur;\n}\n//# sourceMappingURL=plist.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction doFail(streamState, msg) {\n    // console.log('Near offset ' + streamState.pos + ': ' + msg + ' ~~~' + streamState.source.substr(streamState.pos, 50) + '~~~');\n    throw new Error('Near offset ' + streamState.pos + ': ' + msg + ' ~~~' + streamState.source.substr(streamState.pos, 50) + '~~~');\n}\nfunction parse(source, filename, withMetadata) {\n    var streamState = new JSONStreamState(source);\n    var token = new JSONToken();\n    var state = 0 /* ROOT_STATE */;\n    var cur = null;\n    var stateStack = [];\n    var objStack = [];\n    function pushState() {\n        stateStack.push(state);\n        objStack.push(cur);\n    }\n    function popState() {\n        state = stateStack.pop();\n        cur = objStack.pop();\n    }\n    function fail(msg) {\n        doFail(streamState, msg);\n    }\n    while (nextJSONToken(streamState, token)) {\n        if (state === 0 /* ROOT_STATE */) {\n            if (cur !== null) {\n                fail('too many constructs in root');\n            }\n            if (token.type === 3 /* LEFT_CURLY_BRACKET */) {\n                cur = {};\n                if (withMetadata) {\n                    cur.$vscodeTextmateLocation = token.toLocation(filename);\n                }\n                pushState();\n                state = 1 /* DICT_STATE */;\n                continue;\n            }\n            if (token.type === 2 /* LEFT_SQUARE_BRACKET */) {\n                cur = [];\n                pushState();\n                state = 4 /* ARR_STATE */;\n                continue;\n            }\n            fail('unexpected token in root');\n        }\n        if (state === 2 /* DICT_STATE_COMMA */) {\n            if (token.type === 5 /* RIGHT_CURLY_BRACKET */) {\n                popState();\n                continue;\n            }\n            if (token.type === 7 /* COMMA */) {\n                state = 3 /* DICT_STATE_NO_CLOSE */;\n                continue;\n            }\n            fail('expected , or }');\n        }\n        if (state === 1 /* DICT_STATE */ || state === 3 /* DICT_STATE_NO_CLOSE */) {\n            if (state === 1 /* DICT_STATE */ && token.type === 5 /* RIGHT_CURLY_BRACKET */) {\n                popState();\n                continue;\n            }\n            if (token.type === 1 /* STRING */) {\n                var keyValue = token.value;\n                if (!nextJSONToken(streamState, token) || token.type !== 6 /* COLON */) {\n                    fail('expected colon');\n                }\n                if (!nextJSONToken(streamState, token)) {\n                    fail('expected value');\n                }\n                state = 2 /* DICT_STATE_COMMA */;\n                if (token.type === 1 /* STRING */) {\n                    cur[keyValue] = token.value;\n                    continue;\n                }\n                if (token.type === 8 /* NULL */) {\n                    cur[keyValue] = null;\n                    continue;\n                }\n                if (token.type === 9 /* TRUE */) {\n                    cur[keyValue] = true;\n                    continue;\n                }\n                if (token.type === 10 /* FALSE */) {\n                    cur[keyValue] = false;\n                    continue;\n                }\n                if (token.type === 11 /* NUMBER */) {\n                    cur[keyValue] = parseFloat(token.value);\n                    continue;\n                }\n                if (token.type === 2 /* LEFT_SQUARE_BRACKET */) {\n                    var newArr = [];\n                    cur[keyValue] = newArr;\n                    pushState();\n                    state = 4 /* ARR_STATE */;\n                    cur = newArr;\n                    continue;\n                }\n                if (token.type === 3 /* LEFT_CURLY_BRACKET */) {\n                    var newDict = {};\n                    if (withMetadata) {\n                        newDict.$vscodeTextmateLocation = token.toLocation(filename);\n                    }\n                    cur[keyValue] = newDict;\n                    pushState();\n                    state = 1 /* DICT_STATE */;\n                    cur = newDict;\n                    continue;\n                }\n            }\n            fail('unexpected token in dict');\n        }\n        if (state === 5 /* ARR_STATE_COMMA */) {\n            if (token.type === 4 /* RIGHT_SQUARE_BRACKET */) {\n                popState();\n                continue;\n            }\n            if (token.type === 7 /* COMMA */) {\n                state = 6 /* ARR_STATE_NO_CLOSE */;\n                continue;\n            }\n            fail('expected , or ]');\n        }\n        if (state === 4 /* ARR_STATE */ || state === 6 /* ARR_STATE_NO_CLOSE */) {\n            if (state === 4 /* ARR_STATE */ && token.type === 4 /* RIGHT_SQUARE_BRACKET */) {\n                popState();\n                continue;\n            }\n            state = 5 /* ARR_STATE_COMMA */;\n            if (token.type === 1 /* STRING */) {\n                cur.push(token.value);\n                continue;\n            }\n            if (token.type === 8 /* NULL */) {\n                cur.push(null);\n                continue;\n            }\n            if (token.type === 9 /* TRUE */) {\n                cur.push(true);\n                continue;\n            }\n            if (token.type === 10 /* FALSE */) {\n                cur.push(false);\n                continue;\n            }\n            if (token.type === 11 /* NUMBER */) {\n                cur.push(parseFloat(token.value));\n                continue;\n            }\n            if (token.type === 2 /* LEFT_SQUARE_BRACKET */) {\n                var newArr = [];\n                cur.push(newArr);\n                pushState();\n                state = 4 /* ARR_STATE */;\n                cur = newArr;\n                continue;\n            }\n            if (token.type === 3 /* LEFT_CURLY_BRACKET */) {\n                var newDict = {};\n                if (withMetadata) {\n                    newDict.$vscodeTextmateLocation = token.toLocation(filename);\n                }\n                cur.push(newDict);\n                pushState();\n                state = 1 /* DICT_STATE */;\n                cur = newDict;\n                continue;\n            }\n            fail('unexpected token in array');\n        }\n        fail('unknown state');\n    }\n    if (objStack.length !== 0) {\n        fail('unclosed constructs');\n    }\n    return cur;\n}\nexports.parse = parse;\nvar JSONStreamState = /** @class */ (function () {\n    function JSONStreamState(source) {\n        this.source = source;\n        this.pos = 0;\n        this.len = source.length;\n        this.line = 1;\n        this.char = 0;\n    }\n    return JSONStreamState;\n}());\nvar JSONToken = /** @class */ (function () {\n    function JSONToken() {\n        this.value = null;\n        this.type = 0 /* UNKNOWN */;\n        this.offset = -1;\n        this.len = -1;\n        this.line = -1;\n        this.char = -1;\n    }\n    JSONToken.prototype.toLocation = function (filename) {\n        return {\n            filename: filename,\n            line: this.line,\n            char: this.char\n        };\n    };\n    return JSONToken;\n}());\n/**\n * precondition: the string is known to be valid JSON (https://www.ietf.org/rfc/rfc4627.txt)\n */\nfunction nextJSONToken(_state, _out) {\n    _out.value = null;\n    _out.type = 0 /* UNKNOWN */;\n    _out.offset = -1;\n    _out.len = -1;\n    _out.line = -1;\n    _out.char = -1;\n    var source = _state.source;\n    var pos = _state.pos;\n    var len = _state.len;\n    var line = _state.line;\n    var char = _state.char;\n    //------------------------ skip whitespace\n    var chCode;\n    do {\n        if (pos >= len) {\n            return false; /*EOS*/\n        }\n        chCode = source.charCodeAt(pos);\n        if (chCode === 32 /* SPACE */ || chCode === 9 /* HORIZONTAL_TAB */ || chCode === 13 /* CARRIAGE_RETURN */) {\n            // regular whitespace\n            pos++;\n            char++;\n            continue;\n        }\n        if (chCode === 10 /* LINE_FEED */) {\n            // newline\n            pos++;\n            line++;\n            char = 0;\n            continue;\n        }\n        // not whitespace\n        break;\n    } while (true);\n    _out.offset = pos;\n    _out.line = line;\n    _out.char = char;\n    if (chCode === 34 /* QUOTATION_MARK */) {\n        //------------------------ strings\n        _out.type = 1 /* STRING */;\n        pos++;\n        char++;\n        do {\n            if (pos >= len) {\n                return false; /*EOS*/\n            }\n            chCode = source.charCodeAt(pos);\n            pos++;\n            char++;\n            if (chCode === 92 /* BACKSLASH */) {\n                // skip next char\n                pos++;\n                char++;\n                continue;\n            }\n            if (chCode === 34 /* QUOTATION_MARK */) {\n                // end of the string\n                break;\n            }\n        } while (true);\n        _out.value = source.substring(_out.offset + 1, pos - 1).replace(/\\\\u([0-9A-Fa-f]{4})/g, function (_, m0) {\n            return String.fromCodePoint(parseInt(m0, 16));\n        }).replace(/\\\\(.)/g, function (_, m0) {\n            switch (m0) {\n                case '\"': return '\"';\n                case '\\\\': return '\\\\';\n                case '/': return '/';\n                case 'b': return '\\b';\n                case 'f': return '\\f';\n                case 'n': return '\\n';\n                case 'r': return '\\r';\n                case 't': return '\\t';\n                default: doFail(_state, 'invalid escape sequence');\n            }\n            throw new Error('unreachable');\n        });\n    }\n    else if (chCode === 91 /* LEFT_SQUARE_BRACKET */) {\n        _out.type = 2 /* LEFT_SQUARE_BRACKET */;\n        pos++;\n        char++;\n    }\n    else if (chCode === 123 /* LEFT_CURLY_BRACKET */) {\n        _out.type = 3 /* LEFT_CURLY_BRACKET */;\n        pos++;\n        char++;\n    }\n    else if (chCode === 93 /* RIGHT_SQUARE_BRACKET */) {\n        _out.type = 4 /* RIGHT_SQUARE_BRACKET */;\n        pos++;\n        char++;\n    }\n    else if (chCode === 125 /* RIGHT_CURLY_BRACKET */) {\n        _out.type = 5 /* RIGHT_CURLY_BRACKET */;\n        pos++;\n        char++;\n    }\n    else if (chCode === 58 /* COLON */) {\n        _out.type = 6 /* COLON */;\n        pos++;\n        char++;\n    }\n    else if (chCode === 44 /* COMMA */) {\n        _out.type = 7 /* COMMA */;\n        pos++;\n        char++;\n    }\n    else if (chCode === 110 /* n */) {\n        //------------------------ null\n        _out.type = 8 /* NULL */;\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 117 /* u */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 108 /* l */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 108 /* l */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n    }\n    else if (chCode === 116 /* t */) {\n        //------------------------ true\n        _out.type = 9 /* TRUE */;\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 114 /* r */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 117 /* u */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 101 /* e */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n    }\n    else if (chCode === 102 /* f */) {\n        //------------------------ false\n        _out.type = 10 /* FALSE */;\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 97 /* a */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 108 /* l */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 115 /* s */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n        chCode = source.charCodeAt(pos);\n        if (chCode !== 101 /* e */) {\n            return false; /* INVALID */\n        }\n        pos++;\n        char++;\n    }\n    else {\n        //------------------------ numbers\n        _out.type = 11 /* NUMBER */;\n        do {\n            if (pos >= len) {\n                return false; /*EOS*/\n            }\n            chCode = source.charCodeAt(pos);\n            if (chCode === 46 /* DOT */\n                || (chCode >= 48 /* D0 */ && chCode <= 57 /* D9 */)\n                || (chCode === 101 /* e */ || chCode === 69 /* E */)\n                || (chCode === 45 /* MINUS */ || chCode === 43 /* PLUS */)) {\n                // looks like a piece of a number\n                pos++;\n                char++;\n                continue;\n            }\n            // pos--; char--;\n            break;\n        } while (true);\n    }\n    _out.len = pos - _out.offset;\n    if (_out.value === null) {\n        _out.value = source.substr(_out.offset, _out.len);\n    }\n    _state.pos = pos;\n    _state.line = line;\n    _state.char = char;\n    // console.log('PRODUCING TOKEN: ', _out.value, JSONTokenType[_out.type]);\n    return true;\n}\n//# sourceMappingURL=json.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParsedThemeRule = /** @class */ (function () {\n    function ParsedThemeRule(scope, parentScopes, index, fontStyle, foreground, background) {\n        this.scope = scope;\n        this.parentScopes = parentScopes;\n        this.index = index;\n        this.fontStyle = fontStyle;\n        this.foreground = foreground;\n        this.background = background;\n    }\n    return ParsedThemeRule;\n}());\nexports.ParsedThemeRule = ParsedThemeRule;\nfunction isValidHexColor(hex) {\n    if (/^#[0-9a-f]{6}$/i.test(hex)) {\n        // #rrggbb\n        return true;\n    }\n    if (/^#[0-9a-f]{8}$/i.test(hex)) {\n        // #rrggbbaa\n        return true;\n    }\n    if (/^#[0-9a-f]{3}$/i.test(hex)) {\n        // #rgb\n        return true;\n    }\n    if (/^#[0-9a-f]{4}$/i.test(hex)) {\n        // #rgba\n        return true;\n    }\n    return false;\n}\n/**\n * Parse a raw theme into rules.\n */\nfunction parseTheme(source) {\n    if (!source) {\n        return [];\n    }\n    if (!source.settings || !Array.isArray(source.settings)) {\n        return [];\n    }\n    var settings = source.settings;\n    var result = [], resultLen = 0;\n    for (var i = 0, len = settings.length; i < len; i++) {\n        var entry = settings[i];\n        if (!entry.settings) {\n            continue;\n        }\n        var scopes = void 0;\n        if (typeof entry.scope === 'string') {\n            var _scope = entry.scope;\n            // remove leading commas\n            _scope = _scope.replace(/^[,]+/, '');\n            // remove trailing commans\n            _scope = _scope.replace(/[,]+$/, '');\n            scopes = _scope.split(',');\n        }\n        else if (Array.isArray(entry.scope)) {\n            scopes = entry.scope;\n        }\n        else {\n            scopes = [''];\n        }\n        var fontStyle = -1 /* NotSet */;\n        if (typeof entry.settings.fontStyle === 'string') {\n            fontStyle = 0 /* None */;\n            var segments = entry.settings.fontStyle.split(' ');\n            for (var j = 0, lenJ = segments.length; j < lenJ; j++) {\n                var segment = segments[j];\n                switch (segment) {\n                    case 'italic':\n                        fontStyle = fontStyle | 1 /* Italic */;\n                        break;\n                    case 'bold':\n                        fontStyle = fontStyle | 2 /* Bold */;\n                        break;\n                    case 'underline':\n                        fontStyle = fontStyle | 4 /* Underline */;\n                        break;\n                }\n            }\n        }\n        var foreground = null;\n        if (typeof entry.settings.foreground === 'string' && isValidHexColor(entry.settings.foreground)) {\n            foreground = entry.settings.foreground;\n        }\n        var background = null;\n        if (typeof entry.settings.background === 'string' && isValidHexColor(entry.settings.background)) {\n            background = entry.settings.background;\n        }\n        for (var j = 0, lenJ = scopes.length; j < lenJ; j++) {\n            var _scope = scopes[j].trim();\n            var segments = _scope.split(' ');\n            var scope = segments[segments.length - 1];\n            var parentScopes = null;\n            if (segments.length > 1) {\n                parentScopes = segments.slice(0, segments.length - 1);\n                parentScopes.reverse();\n            }\n            result[resultLen++] = new ParsedThemeRule(scope, parentScopes, i, fontStyle, foreground, background);\n        }\n    }\n    return result;\n}\nexports.parseTheme = parseTheme;\n/**\n * Resolve rules (i.e. inheritance).\n */\nfunction resolveParsedThemeRules(parsedThemeRules, _colorMap) {\n    // Sort rules lexicographically, and then by index if necessary\n    parsedThemeRules.sort(function (a, b) {\n        var r = strcmp(a.scope, b.scope);\n        if (r !== 0) {\n            return r;\n        }\n        r = strArrCmp(a.parentScopes, b.parentScopes);\n        if (r !== 0) {\n            return r;\n        }\n        return a.index - b.index;\n    });\n    // Determine defaults\n    var defaultFontStyle = 0 /* None */;\n    var defaultForeground = '#000000';\n    var defaultBackground = '#ffffff';\n    while (parsedThemeRules.length >= 1 && parsedThemeRules[0].scope === '') {\n        var incomingDefaults = parsedThemeRules.shift();\n        if (incomingDefaults.fontStyle !== -1 /* NotSet */) {\n            defaultFontStyle = incomingDefaults.fontStyle;\n        }\n        if (incomingDefaults.foreground !== null) {\n            defaultForeground = incomingDefaults.foreground;\n        }\n        if (incomingDefaults.background !== null) {\n            defaultBackground = incomingDefaults.background;\n        }\n    }\n    var colorMap = new ColorMap(_colorMap);\n    var defaults = new ThemeTrieElementRule(0, null, defaultFontStyle, colorMap.getId(defaultForeground), colorMap.getId(defaultBackground));\n    var root = new ThemeTrieElement(new ThemeTrieElementRule(0, null, -1 /* NotSet */, 0, 0), []);\n    for (var i = 0, len = parsedThemeRules.length; i < len; i++) {\n        var rule = parsedThemeRules[i];\n        root.insert(0, rule.scope, rule.parentScopes, rule.fontStyle, colorMap.getId(rule.foreground), colorMap.getId(rule.background));\n    }\n    return new Theme(colorMap, defaults, root);\n}\nvar ColorMap = /** @class */ (function () {\n    function ColorMap(_colorMap) {\n        this._lastColorId = 0;\n        this._id2color = [];\n        this._color2id = Object.create(null);\n        if (Array.isArray(_colorMap)) {\n            this._isFrozen = true;\n            for (var i = 0, len = _colorMap.length; i < len; i++) {\n                this._color2id[_colorMap[i]] = i;\n                this._id2color[i] = _colorMap[i];\n            }\n        }\n        else {\n            this._isFrozen = false;\n        }\n    }\n    ColorMap.prototype.getId = function (color) {\n        if (color === null) {\n            return 0;\n        }\n        color = color.toUpperCase();\n        var value = this._color2id[color];\n        if (value) {\n            return value;\n        }\n        if (this._isFrozen) {\n            throw new Error(\"Missing color in color map - \" + color);\n        }\n        value = ++this._lastColorId;\n        this._color2id[color] = value;\n        this._id2color[value] = color;\n        return value;\n    };\n    ColorMap.prototype.getColorMap = function () {\n        return this._id2color.slice(0);\n    };\n    return ColorMap;\n}());\nexports.ColorMap = ColorMap;\nvar Theme = /** @class */ (function () {\n    function Theme(colorMap, defaults, root) {\n        this._colorMap = colorMap;\n        this._root = root;\n        this._defaults = defaults;\n        this._cache = {};\n    }\n    Theme.createFromRawTheme = function (source, colorMap) {\n        return this.createFromParsedTheme(parseTheme(source), colorMap);\n    };\n    Theme.createFromParsedTheme = function (source, colorMap) {\n        return resolveParsedThemeRules(source, colorMap);\n    };\n    Theme.prototype.getColorMap = function () {\n        return this._colorMap.getColorMap();\n    };\n    Theme.prototype.getDefaults = function () {\n        return this._defaults;\n    };\n    Theme.prototype.match = function (scopeName) {\n        if (!this._cache.hasOwnProperty(scopeName)) {\n            this._cache[scopeName] = this._root.match(scopeName);\n        }\n        return this._cache[scopeName];\n    };\n    return Theme;\n}());\nexports.Theme = Theme;\nfunction strcmp(a, b) {\n    if (a < b) {\n        return -1;\n    }\n    if (a > b) {\n        return 1;\n    }\n    return 0;\n}\nexports.strcmp = strcmp;\nfunction strArrCmp(a, b) {\n    if (a === null && b === null) {\n        return 0;\n    }\n    if (!a) {\n        return -1;\n    }\n    if (!b) {\n        return 1;\n    }\n    var len1 = a.length;\n    var len2 = b.length;\n    if (len1 === len2) {\n        for (var i = 0; i < len1; i++) {\n            var res = strcmp(a[i], b[i]);\n            if (res !== 0) {\n                return res;\n            }\n        }\n        return 0;\n    }\n    return len1 - len2;\n}\nexports.strArrCmp = strArrCmp;\nvar ThemeTrieElementRule = /** @class */ (function () {\n    function ThemeTrieElementRule(scopeDepth, parentScopes, fontStyle, foreground, background) {\n        this.scopeDepth = scopeDepth;\n        this.parentScopes = parentScopes;\n        this.fontStyle = fontStyle;\n        this.foreground = foreground;\n        this.background = background;\n    }\n    ThemeTrieElementRule.prototype.clone = function () {\n        return new ThemeTrieElementRule(this.scopeDepth, this.parentScopes, this.fontStyle, this.foreground, this.background);\n    };\n    ThemeTrieElementRule.cloneArr = function (arr) {\n        var r = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            r[i] = arr[i].clone();\n        }\n        return r;\n    };\n    ThemeTrieElementRule.prototype.acceptOverwrite = function (scopeDepth, fontStyle, foreground, background) {\n        if (this.scopeDepth > scopeDepth) {\n            console.log('how did this happen?');\n        }\n        else {\n            this.scopeDepth = scopeDepth;\n        }\n        // console.log('TODO -> my depth: ' + this.scopeDepth + ', overwriting depth: ' + scopeDepth);\n        if (fontStyle !== -1 /* NotSet */) {\n            this.fontStyle = fontStyle;\n        }\n        if (foreground !== 0) {\n            this.foreground = foreground;\n        }\n        if (background !== 0) {\n            this.background = background;\n        }\n    };\n    return ThemeTrieElementRule;\n}());\nexports.ThemeTrieElementRule = ThemeTrieElementRule;\nvar ThemeTrieElement = /** @class */ (function () {\n    function ThemeTrieElement(mainRule, rulesWithParentScopes, children) {\n        if (rulesWithParentScopes === void 0) { rulesWithParentScopes = []; }\n        if (children === void 0) { children = {}; }\n        this._mainRule = mainRule;\n        this._rulesWithParentScopes = rulesWithParentScopes;\n        this._children = children;\n    }\n    ThemeTrieElement._sortBySpecificity = function (arr) {\n        if (arr.length === 1) {\n            return arr;\n        }\n        arr.sort(this._cmpBySpecificity);\n        return arr;\n    };\n    ThemeTrieElement._cmpBySpecificity = function (a, b) {\n        if (a.scopeDepth === b.scopeDepth) {\n            var aParentScopes = a.parentScopes;\n            var bParentScopes = b.parentScopes;\n            var aParentScopesLen = aParentScopes === null ? 0 : aParentScopes.length;\n            var bParentScopesLen = bParentScopes === null ? 0 : bParentScopes.length;\n            if (aParentScopesLen === bParentScopesLen) {\n                for (var i = 0; i < aParentScopesLen; i++) {\n                    var aLen = aParentScopes[i].length;\n                    var bLen = bParentScopes[i].length;\n                    if (aLen !== bLen) {\n                        return bLen - aLen;\n                    }\n                }\n            }\n            return bParentScopesLen - aParentScopesLen;\n        }\n        return b.scopeDepth - a.scopeDepth;\n    };\n    ThemeTrieElement.prototype.match = function (scope) {\n        if (scope === '') {\n            return ThemeTrieElement._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));\n        }\n        var dotIndex = scope.indexOf('.');\n        var head;\n        var tail;\n        if (dotIndex === -1) {\n            head = scope;\n            tail = '';\n        }\n        else {\n            head = scope.substring(0, dotIndex);\n            tail = scope.substring(dotIndex + 1);\n        }\n        if (this._children.hasOwnProperty(head)) {\n            return this._children[head].match(tail);\n        }\n        return ThemeTrieElement._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));\n    };\n    ThemeTrieElement.prototype.insert = function (scopeDepth, scope, parentScopes, fontStyle, foreground, background) {\n        if (scope === '') {\n            this._doInsertHere(scopeDepth, parentScopes, fontStyle, foreground, background);\n            return;\n        }\n        var dotIndex = scope.indexOf('.');\n        var head;\n        var tail;\n        if (dotIndex === -1) {\n            head = scope;\n            tail = '';\n        }\n        else {\n            head = scope.substring(0, dotIndex);\n            tail = scope.substring(dotIndex + 1);\n        }\n        var child;\n        if (this._children.hasOwnProperty(head)) {\n            child = this._children[head];\n        }\n        else {\n            child = new ThemeTrieElement(this._mainRule.clone(), ThemeTrieElementRule.cloneArr(this._rulesWithParentScopes));\n            this._children[head] = child;\n        }\n        child.insert(scopeDepth + 1, tail, parentScopes, fontStyle, foreground, background);\n    };\n    ThemeTrieElement.prototype._doInsertHere = function (scopeDepth, parentScopes, fontStyle, foreground, background) {\n        if (parentScopes === null) {\n            // Merge into the main rule\n            this._mainRule.acceptOverwrite(scopeDepth, fontStyle, foreground, background);\n            return;\n        }\n        // Try to merge into existing rule\n        for (var i = 0, len = this._rulesWithParentScopes.length; i < len; i++) {\n            var rule = this._rulesWithParentScopes[i];\n            if (strArrCmp(rule.parentScopes, parentScopes) === 0) {\n                // bingo! => we get to merge this into an existing one\n                rule.acceptOverwrite(scopeDepth, fontStyle, foreground, background);\n                return;\n            }\n        }\n        // Must add a new rule\n        // Inherit from main rule\n        if (fontStyle === -1 /* NotSet */) {\n            fontStyle = this._mainRule.fontStyle;\n        }\n        if (foreground === 0) {\n            foreground = this._mainRule.foreground;\n        }\n        if (background === 0) {\n            background = this._mainRule.background;\n        }\n        this._rulesWithParentScopes.push(new ThemeTrieElementRule(scopeDepth, parentScopes, fontStyle, foreground, background));\n    };\n    return ThemeTrieElement;\n}());\nexports.ThemeTrieElement = ThemeTrieElement;\n//# sourceMappingURL=theme.js.map","import { loadWASM, createOnigScanner, createOnigString } from 'vscode-oniguruma';\nimport { INITIAL, Registry as Registry$1 } from 'vscode-textmate';\n\nconst themes = [\r\n    'css-variables',\r\n    'dark-plus',\r\n    'dracula-soft',\r\n    'dracula',\r\n    'github-dark-dimmed',\r\n    'github-dark',\r\n    'github-light',\r\n    'light-plus',\r\n    'material-darker',\r\n    'material-default',\r\n    'material-lighter',\r\n    'material-ocean',\r\n    'material-palenight',\r\n    'min-dark',\r\n    'min-light',\r\n    'monokai',\r\n    'nord',\r\n    'one-dark-pro',\r\n    'poimandres',\r\n    'rose-pine-dawn',\r\n    'rose-pine-moon',\r\n    'rose-pine',\r\n    'slack-dark',\r\n    'slack-ochin',\r\n    'solarized-dark',\r\n    'solarized-light',\r\n    'vitesse-dark',\r\n    'vitesse-light'\r\n];\n\nconst languages = [\r\n    {\r\n        id: 'abap',\r\n        scopeName: 'source.abap',\r\n        path: 'abap.tmLanguage.json',\r\n        samplePath: 'abap.sample'\r\n    },\r\n    {\r\n        id: 'actionscript-3',\r\n        scopeName: 'source.actionscript.3',\r\n        path: 'actionscript-3.tmLanguage.json',\r\n        samplePath: 'actionscript-3.sample'\r\n    },\r\n    {\r\n        id: 'ada',\r\n        scopeName: 'source.ada',\r\n        path: 'ada.tmLanguage.json',\r\n        samplePath: 'ada.sample'\r\n    },\r\n    {\r\n        id: 'apache',\r\n        scopeName: 'source.apacheconf',\r\n        path: 'apache.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'apex',\r\n        scopeName: 'source.apex',\r\n        path: 'apex.tmLanguage.json',\r\n        samplePath: 'apex.sample'\r\n    },\r\n    {\r\n        id: 'apl',\r\n        scopeName: 'source.apl',\r\n        path: 'apl.tmLanguage.json',\r\n        embeddedLangs: ['html', 'xml', 'css', 'javascript', 'json']\r\n    },\r\n    {\r\n        id: 'applescript',\r\n        scopeName: 'source.applescript',\r\n        path: 'applescript.tmLanguage.json',\r\n        samplePath: 'applescript.sample'\r\n    },\r\n    {\r\n        id: 'asm',\r\n        scopeName: 'source.asm.x86_64',\r\n        path: 'asm.tmLanguage.json',\r\n        samplePath: 'asm.sample'\r\n    },\r\n    {\r\n        id: 'astro',\r\n        scopeName: 'text.html.astro',\r\n        path: 'astro.tmLanguage.json',\r\n        samplePath: 'astro.sample',\r\n        embeddedLangs: ['css', 'javascript', 'less', 'sass', 'scss', 'stylus', 'typescript', 'tsx']\r\n    },\r\n    {\r\n        id: 'awk',\r\n        scopeName: 'source.awk',\r\n        path: 'awk.tmLanguage.json',\r\n        samplePath: 'awk.sample'\r\n    },\r\n    {\r\n        id: 'ballerina',\r\n        scopeName: 'source.ballerina',\r\n        path: 'ballerina.tmLanguage.json',\r\n        samplePath: 'ballerina.sample'\r\n    },\r\n    {\r\n        id: 'bat',\r\n        scopeName: 'source.batchfile',\r\n        path: 'bat.tmLanguage.json',\r\n        samplePath: 'bat.sample',\r\n        aliases: ['batch']\r\n    },\r\n    {\r\n        id: 'berry',\r\n        scopeName: 'source.berry',\r\n        path: 'berry.tmLanguage.json',\r\n        samplePath: 'berry.sample',\r\n        aliases: ['be']\r\n    },\r\n    {\r\n        id: 'bibtex',\r\n        scopeName: 'text.bibtex',\r\n        path: 'bibtex.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'bicep',\r\n        scopeName: 'source.bicep',\r\n        path: 'bicep.tmLanguage.json',\r\n        samplePath: 'bicep.sample'\r\n    },\r\n    {\r\n        id: 'c',\r\n        scopeName: 'source.c',\r\n        path: 'c.tmLanguage.json',\r\n        samplePath: 'c.sample'\r\n    },\r\n    {\r\n        id: 'clojure',\r\n        scopeName: 'source.clojure',\r\n        path: 'clojure.tmLanguage.json',\r\n        samplePath: 'clojure.sample',\r\n        aliases: ['clj']\r\n    },\r\n    {\r\n        id: 'cobol',\r\n        scopeName: 'source.cobol',\r\n        path: 'cobol.tmLanguage.json',\r\n        samplePath: 'cobol.sample',\r\n        embeddedLangs: ['sql', 'html', 'java']\r\n    },\r\n    {\r\n        id: 'codeql',\r\n        scopeName: 'source.ql',\r\n        path: 'codeql.tmLanguage.json',\r\n        samplePath: 'codeql.sample',\r\n        aliases: ['ql']\r\n    },\r\n    {\r\n        id: 'coffee',\r\n        scopeName: 'source.coffee',\r\n        path: 'coffee.tmLanguage.json',\r\n        samplePath: 'coffee.sample',\r\n        embeddedLangs: ['javascript']\r\n    },\r\n    {\r\n        id: 'cpp',\r\n        scopeName: 'source.cpp',\r\n        path: 'cpp.tmLanguage.json',\r\n        samplePath: 'cpp.sample',\r\n        embeddedLangs: ['sql']\r\n    },\r\n    {\r\n        id: 'crystal',\r\n        scopeName: 'source.crystal',\r\n        path: 'crystal.tmLanguage.json',\r\n        samplePath: 'crystal.sample',\r\n        embeddedLangs: ['html', 'sql', 'css', 'c', 'javascript', 'shellscript']\r\n    },\r\n    {\r\n        id: 'csharp',\r\n        scopeName: 'source.cs',\r\n        path: 'csharp.tmLanguage.json',\r\n        samplePath: 'csharp.sample',\r\n        aliases: ['c#']\r\n    },\r\n    {\r\n        id: 'css',\r\n        scopeName: 'source.css',\r\n        path: 'css.tmLanguage.json',\r\n        samplePath: 'css.sample'\r\n    },\r\n    {\r\n        id: 'cue',\r\n        scopeName: 'source.cue',\r\n        path: 'cue.tmLanguage.json',\r\n        samplePath: 'cue.sample'\r\n    },\r\n    {\r\n        id: 'd',\r\n        scopeName: 'source.d',\r\n        path: 'd.tmLanguage.json',\r\n        samplePath: 'd.sample'\r\n    },\r\n    {\r\n        id: 'dart',\r\n        scopeName: 'source.dart',\r\n        path: 'dart.tmLanguage.json',\r\n        samplePath: 'dart.sample'\r\n    },\r\n    {\r\n        id: 'diff',\r\n        scopeName: 'source.diff',\r\n        path: 'diff.tmLanguage.json',\r\n        samplePath: 'diff.sample'\r\n    },\r\n    {\r\n        id: 'docker',\r\n        scopeName: 'source.dockerfile',\r\n        path: 'docker.tmLanguage.json',\r\n        samplePath: 'docker.sample'\r\n    },\r\n    {\r\n        id: 'dream-maker',\r\n        scopeName: 'source.dm',\r\n        path: 'dream-maker.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'elixir',\r\n        scopeName: 'source.elixir',\r\n        path: 'elixir.tmLanguage.json',\r\n        samplePath: 'elixir.sample',\r\n        embeddedLangs: ['html']\r\n    },\r\n    {\r\n        id: 'elm',\r\n        scopeName: 'source.elm',\r\n        path: 'elm.tmLanguage.json',\r\n        samplePath: 'elm.sample'\r\n    },\r\n    {\r\n        id: 'erb',\r\n        scopeName: 'text.html.erb',\r\n        path: 'erb.tmLanguage.json',\r\n        samplePath: 'erb.sample',\r\n        embeddedLangs: ['html', 'ruby']\r\n    },\r\n    {\r\n        id: 'erlang',\r\n        scopeName: 'source.erlang',\r\n        path: 'erlang.tmLanguage.json',\r\n        samplePath: 'erlang.sample'\r\n    },\r\n    {\r\n        id: 'fish',\r\n        scopeName: 'source.fish',\r\n        path: 'fish.tmLanguage.json',\r\n        samplePath: 'fish.sample'\r\n    },\r\n    {\r\n        id: 'fsharp',\r\n        scopeName: 'source.fsharp',\r\n        path: 'fsharp.tmLanguage.json',\r\n        samplePath: 'fsharp.sample',\r\n        aliases: ['f#'],\r\n        embeddedLangs: ['markdown']\r\n    },\r\n    {\r\n        id: 'gherkin',\r\n        scopeName: 'text.gherkin.feature',\r\n        path: 'gherkin.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'git-commit',\r\n        scopeName: 'text.git-commit',\r\n        path: 'git-commit.tmLanguage.json',\r\n        embeddedLangs: ['diff']\r\n    },\r\n    {\r\n        id: 'git-rebase',\r\n        scopeName: 'text.git-rebase',\r\n        path: 'git-rebase.tmLanguage.json',\r\n        embeddedLangs: ['shellscript']\r\n    },\r\n    {\r\n        id: 'gnuplot',\r\n        scopeName: 'source.gnuplot',\r\n        path: 'gnuplot.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'go',\r\n        scopeName: 'source.go',\r\n        path: 'go.tmLanguage.json',\r\n        samplePath: 'go.sample'\r\n    },\r\n    {\r\n        id: 'graphql',\r\n        scopeName: 'source.graphql',\r\n        path: 'graphql.tmLanguage.json',\r\n        embeddedLangs: ['javascript', 'typescript', 'jsx', 'tsx']\r\n    },\r\n    {\r\n        id: 'groovy',\r\n        scopeName: 'source.groovy',\r\n        path: 'groovy.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'hack',\r\n        scopeName: 'source.hack',\r\n        path: 'hack.tmLanguage.json',\r\n        embeddedLangs: ['html', 'sql']\r\n    },\r\n    {\r\n        id: 'haml',\r\n        scopeName: 'text.haml',\r\n        path: 'haml.tmLanguage.json',\r\n        embeddedLangs: ['ruby', 'javascript', 'sass', 'coffee', 'markdown', 'css']\r\n    },\r\n    {\r\n        id: 'handlebars',\r\n        scopeName: 'text.html.handlebars',\r\n        path: 'handlebars.tmLanguage.json',\r\n        aliases: ['hbs'],\r\n        embeddedLangs: ['html', 'css', 'javascript', 'yaml']\r\n    },\r\n    {\r\n        id: 'haskell',\r\n        scopeName: 'source.haskell',\r\n        path: 'haskell.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'hcl',\r\n        scopeName: 'source.hcl',\r\n        path: 'hcl.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'hlsl',\r\n        scopeName: 'source.hlsl',\r\n        path: 'hlsl.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'html',\r\n        scopeName: 'text.html.basic',\r\n        path: 'html.tmLanguage.json',\r\n        samplePath: 'html.sample',\r\n        embeddedLangs: ['javascript', 'css']\r\n    },\r\n    {\r\n        id: 'ini',\r\n        scopeName: 'source.ini',\r\n        path: 'ini.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'java',\r\n        scopeName: 'source.java',\r\n        path: 'java.tmLanguage.json',\r\n        samplePath: 'java.sample'\r\n    },\r\n    {\r\n        id: 'javascript',\r\n        scopeName: 'source.js',\r\n        path: 'javascript.tmLanguage.json',\r\n        samplePath: 'javascript.sample',\r\n        aliases: ['js']\r\n    },\r\n    {\r\n        id: 'jinja-html',\r\n        scopeName: 'text.html.jinja',\r\n        path: 'jinja-html.tmLanguage.json',\r\n        embeddedLangs: ['html']\r\n    },\r\n    {\r\n        id: 'json',\r\n        scopeName: 'source.json',\r\n        path: 'json.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'jsonc',\r\n        scopeName: 'source.json.comments',\r\n        path: 'jsonc.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'jsonnet',\r\n        scopeName: 'source.jsonnet',\r\n        path: 'jsonnet.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'jssm',\r\n        scopeName: 'source.jssm',\r\n        path: 'jssm.tmLanguage.json',\r\n        samplePath: 'jssm.sample',\r\n        aliases: ['fsl']\r\n    },\r\n    {\r\n        id: 'jsx',\r\n        scopeName: 'source.js.jsx',\r\n        path: 'jsx.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'julia',\r\n        scopeName: 'source.julia',\r\n        path: 'julia.tmLanguage.json',\r\n        embeddedLangs: ['cpp', 'python', 'javascript', 'r', 'sql']\r\n    },\r\n    {\r\n        id: 'jupyter',\r\n        scopeName: 'source.jupyter',\r\n        path: 'jupyter.tmLanguage.json',\r\n        embeddedLangs: ['json']\r\n    },\r\n    {\r\n        id: 'kotlin',\r\n        scopeName: 'source.kotlin',\r\n        path: 'kotlin.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'latex',\r\n        scopeName: 'text.tex.latex',\r\n        path: 'latex.tmLanguage.json',\r\n        embeddedLangs: ['tex', 'css', 'html', 'java', 'javascript', 'typescript', 'lua', 'python', 'julia', 'ruby', 'xml', 'yaml', 'cpp', 'haskell', 'scala', 'gnuplot']\r\n    },\r\n    {\r\n        id: 'less',\r\n        scopeName: 'source.css.less',\r\n        path: 'less.tmLanguage.json',\r\n        embeddedLangs: ['css']\r\n    },\r\n    {\r\n        id: 'lisp',\r\n        scopeName: 'source.lisp',\r\n        path: 'lisp.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'logo',\r\n        scopeName: 'source.logo',\r\n        path: 'logo.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'lua',\r\n        scopeName: 'source.lua',\r\n        path: 'lua.tmLanguage.json',\r\n        embeddedLangs: ['c']\r\n    },\r\n    {\r\n        id: 'make',\r\n        scopeName: 'source.makefile',\r\n        path: 'make.tmLanguage.json',\r\n        aliases: ['makefile']\r\n    },\r\n    {\r\n        id: 'markdown',\r\n        scopeName: 'text.html.markdown',\r\n        path: 'markdown.tmLanguage.json',\r\n        aliases: ['md'],\r\n        embeddedLangs: ['css', 'html', 'ini', 'java', 'lua', 'make', 'perl', 'r', 'ruby', 'php', 'sql', 'vb', 'xml', 'xsl', 'yaml', 'bat', 'clojure', 'coffee', 'c', 'cpp', 'diff', 'docker', 'git-commit', 'git-rebase', 'go', 'groovy', 'pug', 'javascript', 'json', 'jsonc', 'less', 'objective-c', 'swift', 'scss', 'raku', 'powershell', 'python', 'rust', 'scala', 'shellscript', 'typescript', 'tsx', 'csharp', 'fsharp', 'dart', 'handlebars', 'erlang', 'elixir', 'latex', 'bibtex']\r\n    },\r\n    {\r\n        id: 'marko',\r\n        scopeName: 'text.marko',\r\n        path: 'marko.tmLanguage.json',\r\n        samplePath: 'marko.sample',\r\n        embeddedLangs: ['css', 'less', 'scss', 'javascript']\r\n    },\r\n    {\r\n        id: 'matlab',\r\n        scopeName: 'source.matlab',\r\n        path: 'matlab.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'mdx',\r\n        scopeName: 'text.html.markdown.jsx',\r\n        path: 'mdx.tmLanguage.json',\r\n        embeddedLangs: ['jsx', 'markdown']\r\n    },\r\n    {\r\n        id: 'nginx',\r\n        scopeName: 'source.nginx',\r\n        path: 'nginx.tmLanguage.json',\r\n        embeddedLangs: ['lua']\r\n    },\r\n    {\r\n        id: 'nim',\r\n        scopeName: 'source.nim',\r\n        path: 'nim.tmLanguage.json',\r\n        embeddedLangs: ['c', 'html', 'xml', 'javascript', 'css', 'markdown']\r\n    },\r\n    {\r\n        id: 'nix',\r\n        scopeName: 'source.nix',\r\n        path: 'nix.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'objective-c',\r\n        scopeName: 'source.objc',\r\n        path: 'objective-c.tmLanguage.json',\r\n        aliases: ['objc']\r\n    },\r\n    {\r\n        id: 'objective-cpp',\r\n        scopeName: 'source.objcpp',\r\n        path: 'objective-cpp.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'ocaml',\r\n        scopeName: 'source.ocaml',\r\n        path: 'ocaml.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'pascal',\r\n        scopeName: 'source.pascal',\r\n        path: 'pascal.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'perl',\r\n        scopeName: 'source.perl',\r\n        path: 'perl.tmLanguage.json',\r\n        embeddedLangs: ['html', 'xml', 'css', 'javascript', 'sql']\r\n    },\r\n    {\r\n        id: 'php',\r\n        scopeName: 'source.php',\r\n        path: 'php.tmLanguage.json',\r\n        embeddedLangs: ['html', 'xml', 'sql', 'javascript', 'json', 'css']\r\n    },\r\n    {\r\n        id: 'plsql',\r\n        scopeName: 'source.plsql.oracle',\r\n        path: 'plsql.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'postcss',\r\n        scopeName: 'source.css.postcss',\r\n        path: 'postcss.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'powershell',\r\n        scopeName: 'source.powershell',\r\n        path: 'powershell.tmLanguage.json',\r\n        aliases: ['ps', 'ps1']\r\n    },\r\n    {\r\n        id: 'prisma',\r\n        scopeName: 'source.prisma',\r\n        path: 'prisma.tmLanguage.json',\r\n        samplePath: 'prisma.sample'\r\n    },\r\n    {\r\n        id: 'prolog',\r\n        scopeName: 'source.prolog',\r\n        path: 'prolog.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'pug',\r\n        scopeName: 'text.pug',\r\n        path: 'pug.tmLanguage.json',\r\n        aliases: ['jade'],\r\n        embeddedLangs: ['javascript', 'css', 'sass', 'stylus', 'coffee', 'html']\r\n    },\r\n    {\r\n        id: 'puppet',\r\n        scopeName: 'source.puppet',\r\n        path: 'puppet.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'purescript',\r\n        scopeName: 'source.purescript',\r\n        path: 'purescript.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'python',\r\n        scopeName: 'source.python',\r\n        path: 'python.tmLanguage.json',\r\n        samplePath: 'python.sample',\r\n        aliases: ['py']\r\n    },\r\n    {\r\n        id: 'r',\r\n        scopeName: 'source.r',\r\n        path: 'r.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'raku',\r\n        scopeName: 'source.perl.6',\r\n        path: 'raku.tmLanguage.json',\r\n        aliases: ['perl6']\r\n    },\r\n    {\r\n        id: 'razor',\r\n        scopeName: 'text.aspnetcorerazor',\r\n        path: 'razor.tmLanguage.json',\r\n        embeddedLangs: ['html', 'csharp']\r\n    },\r\n    {\r\n        id: 'rel',\r\n        scopeName: 'source.rel',\r\n        path: 'rel.tmLanguage.json',\r\n        samplePath: 'rel.sample'\r\n    },\r\n    {\r\n        id: 'riscv',\r\n        scopeName: 'source.riscv',\r\n        path: 'riscv.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'ruby',\r\n        scopeName: 'source.ruby',\r\n        path: 'ruby.tmLanguage.json',\r\n        samplePath: 'ruby.sample',\r\n        aliases: ['rb'],\r\n        embeddedLangs: ['html', 'xml', 'sql', 'css', 'c', 'javascript', 'shellscript', 'lua']\r\n    },\r\n    {\r\n        id: 'rust',\r\n        scopeName: 'source.rust',\r\n        path: 'rust.tmLanguage.json',\r\n        aliases: ['rs']\r\n    },\r\n    {\r\n        id: 'sas',\r\n        scopeName: 'source.sas',\r\n        path: 'sas.tmLanguage.json',\r\n        embeddedLangs: ['sql']\r\n    },\r\n    {\r\n        id: 'sass',\r\n        scopeName: 'source.sass',\r\n        path: 'sass.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'scala',\r\n        scopeName: 'source.scala',\r\n        path: 'scala.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'scheme',\r\n        scopeName: 'source.scheme',\r\n        path: 'scheme.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'scss',\r\n        scopeName: 'source.css.scss',\r\n        path: 'scss.tmLanguage.json',\r\n        embeddedLangs: ['css']\r\n    },\r\n    {\r\n        id: 'shaderlab',\r\n        scopeName: 'source.shaderlab',\r\n        path: 'shaderlab.tmLanguage.json',\r\n        aliases: ['shader'],\r\n        embeddedLangs: ['hlsl']\r\n    },\r\n    {\r\n        id: 'shellscript',\r\n        scopeName: 'source.shell',\r\n        path: 'shellscript.tmLanguage.json',\r\n        aliases: ['shell', 'bash', 'sh', 'zsh'],\r\n        embeddedLangs: ['ruby', 'python', 'applescript', 'html', 'markdown']\r\n    },\r\n    {\r\n        id: 'smalltalk',\r\n        scopeName: 'source.smalltalk',\r\n        path: 'smalltalk.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'solidity',\r\n        scopeName: 'source.solidity',\r\n        path: 'solidity.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'sparql',\r\n        scopeName: 'source.sparql',\r\n        path: 'sparql.tmLanguage.json',\r\n        samplePath: 'sparql.sample',\r\n        embeddedLangs: ['turtle']\r\n    },\r\n    {\r\n        id: 'sql',\r\n        scopeName: 'source.sql',\r\n        path: 'sql.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'ssh-config',\r\n        scopeName: 'source.ssh-config',\r\n        path: 'ssh-config.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'stata',\r\n        scopeName: 'source.stata',\r\n        path: 'stata.tmLanguage.json',\r\n        samplePath: 'stata.sample',\r\n        embeddedLangs: ['sql']\r\n    },\r\n    {\r\n        id: 'stylus',\r\n        scopeName: 'source.stylus',\r\n        path: 'stylus.tmLanguage.json',\r\n        aliases: ['styl']\r\n    },\r\n    {\r\n        id: 'svelte',\r\n        scopeName: 'source.svelte',\r\n        path: 'svelte.tmLanguage.json',\r\n        embeddedLangs: ['javascript', 'typescript', 'coffee', 'stylus', 'sass', 'css', 'scss', 'less', 'postcss', 'pug', 'markdown']\r\n    },\r\n    {\r\n        id: 'swift',\r\n        scopeName: 'source.swift',\r\n        path: 'swift.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'system-verilog',\r\n        scopeName: 'source.systemverilog',\r\n        path: 'system-verilog.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'tasl',\r\n        scopeName: 'source.tasl',\r\n        path: 'tasl.tmLanguage.json',\r\n        samplePath: 'tasl.sample'\r\n    },\r\n    {\r\n        id: 'tcl',\r\n        scopeName: 'source.tcl',\r\n        path: 'tcl.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'tex',\r\n        scopeName: 'text.tex',\r\n        path: 'tex.tmLanguage.json',\r\n        embeddedLangs: ['r']\r\n    },\r\n    {\r\n        id: 'toml',\r\n        scopeName: 'source.toml',\r\n        path: 'toml.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'tsx',\r\n        scopeName: 'source.tsx',\r\n        path: 'tsx.tmLanguage.json',\r\n        samplePath: 'tsx.sample'\r\n    },\r\n    {\r\n        id: 'turtle',\r\n        scopeName: 'source.turtle',\r\n        path: 'turtle.tmLanguage.json',\r\n        samplePath: 'turtle.sample'\r\n    },\r\n    {\r\n        id: 'twig',\r\n        scopeName: 'text.html.twig',\r\n        path: 'twig.tmLanguage.json',\r\n        embeddedLangs: ['css', 'javascript', 'php', 'python', 'ruby']\r\n    },\r\n    {\r\n        id: 'typescript',\r\n        scopeName: 'source.ts',\r\n        path: 'typescript.tmLanguage.json',\r\n        aliases: ['ts']\r\n    },\r\n    {\r\n        id: 'vb',\r\n        scopeName: 'source.asp.vb.net',\r\n        path: 'vb.tmLanguage.json',\r\n        aliases: ['cmd']\r\n    },\r\n    {\r\n        id: 'verilog',\r\n        scopeName: 'source.verilog',\r\n        path: 'verilog.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'vhdl',\r\n        scopeName: 'source.vhdl',\r\n        path: 'vhdl.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'viml',\r\n        scopeName: 'source.viml',\r\n        path: 'viml.tmLanguage.json',\r\n        aliases: ['vim', 'vimscript']\r\n    },\r\n    {\r\n        id: 'vue-html',\r\n        scopeName: 'text.html.vue-html',\r\n        path: 'vue-html.tmLanguage.json',\r\n        embeddedLangs: ['vue', 'javascript']\r\n    },\r\n    {\r\n        id: 'vue',\r\n        scopeName: 'source.vue',\r\n        path: 'vue.tmLanguage.json',\r\n        embeddedLangs: ['json', 'markdown', 'pug', 'haml', 'vue-html', 'sass', 'scss', 'less', 'stylus', 'postcss', 'css', 'typescript', 'coffee', 'javascript']\r\n    },\r\n    {\r\n        id: 'wasm',\r\n        scopeName: 'source.wat',\r\n        path: 'wasm.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'wenyan',\r\n        scopeName: 'source.wenyan',\r\n        path: 'wenyan.tmLanguage.json',\r\n        aliases: ['文言']\r\n    },\r\n    {\r\n        id: 'xml',\r\n        scopeName: 'text.xml',\r\n        path: 'xml.tmLanguage.json',\r\n        embeddedLangs: ['java']\r\n    },\r\n    {\r\n        id: 'xsl',\r\n        scopeName: 'text.xml.xsl',\r\n        path: 'xsl.tmLanguage.json',\r\n        embeddedLangs: ['xml']\r\n    },\r\n    {\r\n        id: 'yaml',\r\n        scopeName: 'source.yaml',\r\n        path: 'yaml.tmLanguage.json'\r\n    },\r\n    {\r\n        id: 'zenscript',\r\n        scopeName: 'source.zenscript',\r\n        path: 'zenscript.tmLanguage.json',\r\n        samplePath: 'zenscript.sample'\r\n    }\r\n];\n\nvar FontStyle;\r\n(function (FontStyle) {\r\n    FontStyle[FontStyle[\"NotSet\"] = -1] = \"NotSet\";\r\n    FontStyle[FontStyle[\"None\"] = 0] = \"None\";\r\n    FontStyle[FontStyle[\"Italic\"] = 1] = \"Italic\";\r\n    FontStyle[FontStyle[\"Bold\"] = 2] = \"Bold\";\r\n    FontStyle[FontStyle[\"Underline\"] = 4] = \"Underline\";\r\n})(FontStyle || (FontStyle = {}));\r\nclass StackElementMetadata {\r\n    static toBinaryStr(metadata) {\r\n        let r = metadata.toString(2);\r\n        while (r.length < 32) {\r\n            r = '0' + r;\r\n        }\r\n        return r;\r\n    }\r\n    static printMetadata(metadata) {\r\n        let languageId = StackElementMetadata.getLanguageId(metadata);\r\n        let tokenType = StackElementMetadata.getTokenType(metadata);\r\n        let fontStyle = StackElementMetadata.getFontStyle(metadata);\r\n        let foreground = StackElementMetadata.getForeground(metadata);\r\n        let background = StackElementMetadata.getBackground(metadata);\r\n        console.log({\r\n            languageId: languageId,\r\n            tokenType: tokenType,\r\n            fontStyle: fontStyle,\r\n            foreground: foreground,\r\n            background: background\r\n        });\r\n    }\r\n    static getLanguageId(metadata) {\r\n        return (metadata & 255 /* LANGUAGEID_MASK */) >>> 0 /* LANGUAGEID_OFFSET */;\r\n    }\r\n    static getTokenType(metadata) {\r\n        return (metadata & 1792 /* TOKEN_TYPE_MASK */) >>> 8 /* TOKEN_TYPE_OFFSET */;\r\n    }\r\n    static getFontStyle(metadata) {\r\n        return (metadata & 14336 /* FONT_STYLE_MASK */) >>> 11 /* FONT_STYLE_OFFSET */;\r\n    }\r\n    static getForeground(metadata) {\r\n        return (metadata & 8372224 /* FOREGROUND_MASK */) >>> 14 /* FOREGROUND_OFFSET */;\r\n    }\r\n    static getBackground(metadata) {\r\n        return (metadata & 4286578688 /* BACKGROUND_MASK */) >>> 23 /* BACKGROUND_OFFSET */;\r\n    }\r\n    static set(metadata, languageId, tokenType, fontStyle, foreground, background) {\r\n        let _languageId = StackElementMetadata.getLanguageId(metadata);\r\n        let _tokenType = StackElementMetadata.getTokenType(metadata);\r\n        let _fontStyle = StackElementMetadata.getFontStyle(metadata);\r\n        let _foreground = StackElementMetadata.getForeground(metadata);\r\n        let _background = StackElementMetadata.getBackground(metadata);\r\n        if (languageId !== 0) {\r\n            _languageId = languageId;\r\n        }\r\n        if (tokenType !== 0 /* Other */) {\r\n            _tokenType =\r\n                tokenType === 8 /* MetaEmbedded */ ? 0 /* Other */ : tokenType;\r\n        }\r\n        if (fontStyle !== FontStyle.NotSet) {\r\n            _fontStyle = fontStyle;\r\n        }\r\n        if (foreground !== 0) {\r\n            _foreground = foreground;\r\n        }\r\n        if (background !== 0) {\r\n            _background = background;\r\n        }\r\n        return (((_languageId << 0 /* LANGUAGEID_OFFSET */) |\r\n            (_tokenType << 8 /* TOKEN_TYPE_OFFSET */) |\r\n            (_fontStyle << 11 /* FONT_STYLE_OFFSET */) |\r\n            (_foreground << 14 /* FOREGROUND_OFFSET */) |\r\n            (_background << 23 /* BACKGROUND_OFFSET */)) >>>\r\n            0);\r\n    }\r\n}\n\nfunction trimEndSlash(str) {\r\n    if (str.endsWith('/') || str.endsWith('\\\\'))\r\n        return str.slice(0, -1);\r\n    return str;\r\n}\r\nfunction trimStartDot(str) {\r\n    if (str.startsWith('./'))\r\n        return str.slice(2);\r\n    return str;\r\n}\r\nfunction dirname(str) {\r\n    const parts = str.split(/[\\/\\\\]/g);\r\n    return parts[parts.length - 2];\r\n}\r\nfunction join(...parts) {\r\n    return parts.map(trimEndSlash).map(trimStartDot).join('/');\r\n}\r\nfunction groupBy(elements, keyGetter) {\r\n    const map = new Map();\r\n    for (const element of elements) {\r\n        const key = keyGetter(element);\r\n        if (map.has(key)) {\r\n            const group = map.get(key);\r\n            group.push(element);\r\n        }\r\n        else {\r\n            map.set(key, [element]);\r\n        }\r\n    }\r\n    return map;\r\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nfunction createScanner(text, ignoreTrivia) {\n    if (ignoreTrivia === void 0) { ignoreTrivia = false; }\n    var len = text.length;\n    var pos = 0, value = '', tokenOffset = 0, token = 16 /* Unknown */, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0 /* None */;\n    function scanHexDigits(count, exact) {\n        var digits = 0;\n        var value = 0;\n        while (digits < count || !exact) {\n            var ch = text.charCodeAt(pos);\n            if (ch >= 48 /* _0 */ && ch <= 57 /* _9 */) {\n                value = value * 16 + ch - 48 /* _0 */;\n            }\n            else if (ch >= 65 /* A */ && ch <= 70 /* F */) {\n                value = value * 16 + ch - 65 /* A */ + 10;\n            }\n            else if (ch >= 97 /* a */ && ch <= 102 /* f */) {\n                value = value * 16 + ch - 97 /* a */ + 10;\n            }\n            else {\n                break;\n            }\n            pos++;\n            digits++;\n        }\n        if (digits < count) {\n            value = -1;\n        }\n        return value;\n    }\n    function setPosition(newPosition) {\n        pos = newPosition;\n        value = '';\n        tokenOffset = 0;\n        token = 16 /* Unknown */;\n        scanError = 0 /* None */;\n    }\n    function scanNumber() {\n        var start = pos;\n        if (text.charCodeAt(pos) === 48 /* _0 */) {\n            pos++;\n        }\n        else {\n            pos++;\n            while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n            }\n        }\n        if (pos < text.length && text.charCodeAt(pos) === 46 /* dot */) {\n            pos++;\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n                return text.substring(start, pos);\n            }\n        }\n        var end = pos;\n        if (pos < text.length && (text.charCodeAt(pos) === 69 /* E */ || text.charCodeAt(pos) === 101 /* e */)) {\n            pos++;\n            if (pos < text.length && text.charCodeAt(pos) === 43 /* plus */ || text.charCodeAt(pos) === 45 /* minus */) {\n                pos++;\n            }\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n                end = pos;\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n            }\n        }\n        return text.substring(start, end);\n    }\n    function scanString() {\n        var result = '', start = pos;\n        while (true) {\n            if (pos >= len) {\n                result += text.substring(start, pos);\n                scanError = 2 /* UnexpectedEndOfString */;\n                break;\n            }\n            var ch = text.charCodeAt(pos);\n            if (ch === 34 /* doubleQuote */) {\n                result += text.substring(start, pos);\n                pos++;\n                break;\n            }\n            if (ch === 92 /* backslash */) {\n                result += text.substring(start, pos);\n                pos++;\n                if (pos >= len) {\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                var ch2 = text.charCodeAt(pos++);\n                switch (ch2) {\n                    case 34 /* doubleQuote */:\n                        result += '\\\"';\n                        break;\n                    case 92 /* backslash */:\n                        result += '\\\\';\n                        break;\n                    case 47 /* slash */:\n                        result += '/';\n                        break;\n                    case 98 /* b */:\n                        result += '\\b';\n                        break;\n                    case 102 /* f */:\n                        result += '\\f';\n                        break;\n                    case 110 /* n */:\n                        result += '\\n';\n                        break;\n                    case 114 /* r */:\n                        result += '\\r';\n                        break;\n                    case 116 /* t */:\n                        result += '\\t';\n                        break;\n                    case 117 /* u */:\n                        var ch3 = scanHexDigits(4, true);\n                        if (ch3 >= 0) {\n                            result += String.fromCharCode(ch3);\n                        }\n                        else {\n                            scanError = 4 /* InvalidUnicode */;\n                        }\n                        break;\n                    default:\n                        scanError = 5 /* InvalidEscapeCharacter */;\n                }\n                start = pos;\n                continue;\n            }\n            if (ch >= 0 && ch <= 0x1f) {\n                if (isLineBreak(ch)) {\n                    result += text.substring(start, pos);\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                else {\n                    scanError = 6 /* InvalidCharacter */;\n                    // mark as error but continue with string\n                }\n            }\n            pos++;\n        }\n        return result;\n    }\n    function scanNext() {\n        value = '';\n        scanError = 0 /* None */;\n        tokenOffset = pos;\n        lineStartOffset = lineNumber;\n        prevTokenLineStartOffset = tokenLineStartOffset;\n        if (pos >= len) {\n            // at the end\n            tokenOffset = len;\n            return token = 17 /* EOF */;\n        }\n        var code = text.charCodeAt(pos);\n        // trivia: whitespace\n        if (isWhiteSpace(code)) {\n            do {\n                pos++;\n                value += String.fromCharCode(code);\n                code = text.charCodeAt(pos);\n            } while (isWhiteSpace(code));\n            return token = 15 /* Trivia */;\n        }\n        // trivia: newlines\n        if (isLineBreak(code)) {\n            pos++;\n            value += String.fromCharCode(code);\n            if (code === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                pos++;\n                value += '\\n';\n            }\n            lineNumber++;\n            tokenLineStartOffset = pos;\n            return token = 14 /* LineBreakTrivia */;\n        }\n        switch (code) {\n            // tokens: []{}:,\n            case 123 /* openBrace */:\n                pos++;\n                return token = 1 /* OpenBraceToken */;\n            case 125 /* closeBrace */:\n                pos++;\n                return token = 2 /* CloseBraceToken */;\n            case 91 /* openBracket */:\n                pos++;\n                return token = 3 /* OpenBracketToken */;\n            case 93 /* closeBracket */:\n                pos++;\n                return token = 4 /* CloseBracketToken */;\n            case 58 /* colon */:\n                pos++;\n                return token = 6 /* ColonToken */;\n            case 44 /* comma */:\n                pos++;\n                return token = 5 /* CommaToken */;\n            // strings\n            case 34 /* doubleQuote */:\n                pos++;\n                value = scanString();\n                return token = 10 /* StringLiteral */;\n            // comments\n            case 47 /* slash */:\n                var start = pos - 1;\n                // Single-line comment\n                if (text.charCodeAt(pos + 1) === 47 /* slash */) {\n                    pos += 2;\n                    while (pos < len) {\n                        if (isLineBreak(text.charCodeAt(pos))) {\n                            break;\n                        }\n                        pos++;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 12 /* LineCommentTrivia */;\n                }\n                // Multi-line comment\n                if (text.charCodeAt(pos + 1) === 42 /* asterisk */) {\n                    pos += 2;\n                    var safeLength = len - 1; // For lookahead.\n                    var commentClosed = false;\n                    while (pos < safeLength) {\n                        var ch = text.charCodeAt(pos);\n                        if (ch === 42 /* asterisk */ && text.charCodeAt(pos + 1) === 47 /* slash */) {\n                            pos += 2;\n                            commentClosed = true;\n                            break;\n                        }\n                        pos++;\n                        if (isLineBreak(ch)) {\n                            if (ch === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                                pos++;\n                            }\n                            lineNumber++;\n                            tokenLineStartOffset = pos;\n                        }\n                    }\n                    if (!commentClosed) {\n                        pos++;\n                        scanError = 1 /* UnexpectedEndOfComment */;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 13 /* BlockCommentTrivia */;\n                }\n                // just a single slash\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n            // numbers\n            case 45 /* minus */:\n                value += String.fromCharCode(code);\n                pos++;\n                if (pos === len || !isDigit(text.charCodeAt(pos))) {\n                    return token = 16 /* Unknown */;\n                }\n            // found a minus, followed by a number so\n            // we fall through to proceed with scanning\n            // numbers\n            case 48 /* _0 */:\n            case 49 /* _1 */:\n            case 50 /* _2 */:\n            case 51 /* _3 */:\n            case 52 /* _4 */:\n            case 53 /* _5 */:\n            case 54 /* _6 */:\n            case 55 /* _7 */:\n            case 56 /* _8 */:\n            case 57 /* _9 */:\n                value += scanNumber();\n                return token = 11 /* NumericLiteral */;\n            // literals and unknown symbols\n            default:\n                // is a literal? Read the full word.\n                while (pos < len && isUnknownContentCharacter(code)) {\n                    pos++;\n                    code = text.charCodeAt(pos);\n                }\n                if (tokenOffset !== pos) {\n                    value = text.substring(tokenOffset, pos);\n                    // keywords: true, false, null\n                    switch (value) {\n                        case 'true': return token = 8 /* TrueKeyword */;\n                        case 'false': return token = 9 /* FalseKeyword */;\n                        case 'null': return token = 7 /* NullKeyword */;\n                    }\n                    return token = 16 /* Unknown */;\n                }\n                // some\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n        }\n    }\n    function isUnknownContentCharacter(code) {\n        if (isWhiteSpace(code) || isLineBreak(code)) {\n            return false;\n        }\n        switch (code) {\n            case 125 /* closeBrace */:\n            case 93 /* closeBracket */:\n            case 123 /* openBrace */:\n            case 91 /* openBracket */:\n            case 34 /* doubleQuote */:\n            case 58 /* colon */:\n            case 44 /* comma */:\n            case 47 /* slash */:\n                return false;\n        }\n        return true;\n    }\n    function scanNextNonTrivia() {\n        var result;\n        do {\n            result = scanNext();\n        } while (result >= 12 /* LineCommentTrivia */ && result <= 15 /* Trivia */);\n        return result;\n    }\n    return {\n        setPosition: setPosition,\n        getPosition: function () { return pos; },\n        scan: ignoreTrivia ? scanNextNonTrivia : scanNext,\n        getToken: function () { return token; },\n        getTokenValue: function () { return value; },\n        getTokenOffset: function () { return tokenOffset; },\n        getTokenLength: function () { return pos - tokenOffset; },\n        getTokenStartLine: function () { return lineStartOffset; },\n        getTokenStartCharacter: function () { return tokenOffset - prevTokenLineStartOffset; },\n        getTokenError: function () { return scanError; },\n    };\n}\nfunction isWhiteSpace(ch) {\n    return ch === 32 /* space */ || ch === 9 /* tab */ || ch === 11 /* verticalTab */ || ch === 12 /* formFeed */ ||\n        ch === 160 /* nonBreakingSpace */ || ch === 5760 /* ogham */ || ch >= 8192 /* enQuad */ && ch <= 8203 /* zeroWidthSpace */ ||\n        ch === 8239 /* narrowNoBreakSpace */ || ch === 8287 /* mathematicalSpace */ || ch === 12288 /* ideographicSpace */ || ch === 65279 /* byteOrderMark */;\n}\nfunction isLineBreak(ch) {\n    return ch === 10 /* lineFeed */ || ch === 13 /* carriageReturn */ || ch === 8232 /* lineSeparator */ || ch === 8233 /* paragraphSeparator */;\n}\nfunction isDigit(ch) {\n    return ch >= 48 /* _0 */ && ch <= 57 /* _9 */;\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar ParseOptions;\n(function (ParseOptions) {\n    ParseOptions.DEFAULT = {\n        allowTrailingComma: false\n    };\n})(ParseOptions || (ParseOptions = {}));\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore always check the errors list to find out if the input was valid.\n */\nfunction parse$1(text, errors, options) {\n    if (errors === void 0) { errors = []; }\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var currentProperty = null;\n    var currentParent = [];\n    var previousParents = [];\n    function onValue(value) {\n        if (Array.isArray(currentParent)) {\n            currentParent.push(value);\n        }\n        else if (currentProperty !== null) {\n            currentParent[currentProperty] = value;\n        }\n    }\n    var visitor = {\n        onObjectBegin: function () {\n            var object = {};\n            onValue(object);\n            previousParents.push(currentParent);\n            currentParent = object;\n            currentProperty = null;\n        },\n        onObjectProperty: function (name) {\n            currentProperty = name;\n        },\n        onObjectEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onArrayBegin: function () {\n            var array = [];\n            onValue(array);\n            previousParents.push(currentParent);\n            currentParent = array;\n            currentProperty = null;\n        },\n        onArrayEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onLiteralValue: onValue,\n        onError: function (error, offset, length) {\n            errors.push({ error: error, offset: offset, length: length });\n        }\n    };\n    visit(text, visitor, options);\n    return currentParent[0];\n}\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nfunction visit(text, visitor, options) {\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var _scanner = createScanner(text, false);\n    function toNoArgVisit(visitFunction) {\n        return visitFunction ? function () { return visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    function toOneArgVisit(visitFunction) {\n        return visitFunction ? function (arg) { return visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    var onObjectBegin = toNoArgVisit(visitor.onObjectBegin), onObjectProperty = toOneArgVisit(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisit(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisit(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);\n    var disallowComments = options && options.disallowComments;\n    var allowTrailingComma = options && options.allowTrailingComma;\n    function scanNext() {\n        while (true) {\n            var token = _scanner.scan();\n            switch (_scanner.getTokenError()) {\n                case 4 /* InvalidUnicode */:\n                    handleError(14 /* InvalidUnicode */);\n                    break;\n                case 5 /* InvalidEscapeCharacter */:\n                    handleError(15 /* InvalidEscapeCharacter */);\n                    break;\n                case 3 /* UnexpectedEndOfNumber */:\n                    handleError(13 /* UnexpectedEndOfNumber */);\n                    break;\n                case 1 /* UnexpectedEndOfComment */:\n                    if (!disallowComments) {\n                        handleError(11 /* UnexpectedEndOfComment */);\n                    }\n                    break;\n                case 2 /* UnexpectedEndOfString */:\n                    handleError(12 /* UnexpectedEndOfString */);\n                    break;\n                case 6 /* InvalidCharacter */:\n                    handleError(16 /* InvalidCharacter */);\n                    break;\n            }\n            switch (token) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (disallowComments) {\n                        handleError(10 /* InvalidCommentToken */);\n                    }\n                    else {\n                        onComment();\n                    }\n                    break;\n                case 16 /* Unknown */:\n                    handleError(1 /* InvalidSymbol */);\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token;\n            }\n        }\n    }\n    function handleError(error, skipUntilAfter, skipUntil) {\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        onError(error);\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token = _scanner.getToken();\n            while (token !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token) !== -1) {\n                    scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token) !== -1) {\n                    break;\n                }\n                token = scanNext();\n            }\n        }\n    }\n    function parseString(isValue) {\n        var value = _scanner.getTokenValue();\n        if (isValue) {\n            onLiteralValue(value);\n        }\n        else {\n            onObjectProperty(value);\n        }\n        scanNext();\n        return true;\n    }\n    function parseLiteral() {\n        switch (_scanner.getToken()) {\n            case 11 /* NumericLiteral */:\n                var tokenValue = _scanner.getTokenValue();\n                var value = Number(tokenValue);\n                if (isNaN(value)) {\n                    handleError(2 /* InvalidNumberFormat */);\n                    value = 0;\n                }\n                onLiteralValue(value);\n                break;\n            case 7 /* NullKeyword */:\n                onLiteralValue(null);\n                break;\n            case 8 /* TrueKeyword */:\n                onLiteralValue(true);\n                break;\n            case 9 /* FalseKeyword */:\n                onLiteralValue(false);\n                break;\n            default:\n                return false;\n        }\n        scanNext();\n        return true;\n    }\n    function parseProperty() {\n        if (_scanner.getToken() !== 10 /* StringLiteral */) {\n            handleError(3 /* PropertyNameExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            return false;\n        }\n        parseString(false);\n        if (_scanner.getToken() === 6 /* ColonToken */) {\n            onSeparator(':');\n            scanNext(); // consume colon\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n        }\n        else {\n            handleError(5 /* ColonExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        return true;\n    }\n    function parseObject() {\n        onObjectBegin();\n        scanNext(); // consume open brace\n        var needsComma = false;\n        while (_scanner.getToken() !== 2 /* CloseBraceToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 2 /* CloseBraceToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseProperty()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onObjectEnd();\n        if (_scanner.getToken() !== 2 /* CloseBraceToken */) {\n            handleError(7 /* CloseBraceExpected */, [2 /* CloseBraceToken */], []);\n        }\n        else {\n            scanNext(); // consume close brace\n        }\n        return true;\n    }\n    function parseArray() {\n        onArrayBegin();\n        scanNext(); // consume open bracket\n        var needsComma = false;\n        while (_scanner.getToken() !== 4 /* CloseBracketToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 4 /* CloseBracketToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onArrayEnd();\n        if (_scanner.getToken() !== 4 /* CloseBracketToken */) {\n            handleError(8 /* CloseBracketExpected */, [4 /* CloseBracketToken */], []);\n        }\n        else {\n            scanNext(); // consume close bracket\n        }\n        return true;\n    }\n    function parseValue() {\n        switch (_scanner.getToken()) {\n            case 3 /* OpenBracketToken */:\n                return parseArray();\n            case 1 /* OpenBraceToken */:\n                return parseObject();\n            case 10 /* StringLiteral */:\n                return parseString(true);\n            default:\n                return parseLiteral();\n        }\n    }\n    scanNext();\n    if (_scanner.getToken() === 17 /* EOF */) {\n        if (options.allowEmptyContent) {\n            return true;\n        }\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (!parseValue()) {\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (_scanner.getToken() !== 17 /* EOF */) {\n        handleError(9 /* EndOfFileExpected */, [], []);\n    }\n    return true;\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore, always check the errors list to find out if the input was valid.\n */\nvar parse = parse$1;\n\nconst isWebWorker = typeof self !== 'undefined' && typeof self.WorkerGlobalScope !== 'undefined';\r\nconst isBrowser = isWebWorker ||\r\n    (typeof window !== 'undefined' &&\r\n        typeof window.document !== 'undefined' &&\r\n        typeof fetch !== 'undefined');\r\n// to be replaced by rollup\r\nlet CDN_ROOT = '';\r\nlet WASM = '';\r\n/**\r\n * Set the route for loading the assets\r\n * URL should end with `/`\r\n *\r\n * For example:\r\n * ```ts\r\n * setCDN('https://unpkg.com/shiki/') // use unpkg\r\n * setCDN('/assets/shiki/') // serve by yourself\r\n * ```\r\n */\r\nfunction setCDN(root) {\r\n    CDN_ROOT = root;\r\n}\r\n/**\r\n * Explicitly set the source for loading the oniguruma web assembly module.\r\n *\r\n * Accepts Url or ArrayBuffer\r\n */\r\nfunction setWasm(path) {\r\n    WASM = path;\r\n}\r\nlet _onigurumaPromise = null;\r\nasync function getOniguruma() {\r\n    if (!_onigurumaPromise) {\r\n        let loader;\r\n        if (isBrowser) {\r\n            if (typeof WASM === 'string') {\r\n                loader = loadWASM({\r\n                    data: await fetch(_resolvePath('dist/onig.wasm')).then(r => r.arrayBuffer())\r\n                });\r\n            }\r\n            else {\r\n                loader = loadWASM(WASM);\r\n            }\r\n        }\r\n        else {\r\n            const path = require('path');\r\n            const wasmPath = path.join(require.resolve('vscode-oniguruma'), '../onig.wasm');\r\n            const fs = require('fs');\r\n            const wasmBin = fs.readFileSync(wasmPath).buffer;\r\n            loader = loadWASM(wasmBin);\r\n        }\r\n        _onigurumaPromise = loader.then(() => {\r\n            return {\r\n                createOnigScanner(patterns) {\r\n                    return createOnigScanner(patterns);\r\n                },\r\n                createOnigString(s) {\r\n                    return createOnigString(s);\r\n                }\r\n            };\r\n        });\r\n    }\r\n    return _onigurumaPromise;\r\n}\r\nfunction _resolvePath(filepath) {\r\n    if (isBrowser) {\r\n        if (!CDN_ROOT) {\r\n            console.warn('[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`');\r\n        }\r\n        return `${CDN_ROOT}${filepath}`;\r\n    }\r\n    else {\r\n        const path = require('path');\r\n        if (path.isAbsolute(filepath)) {\r\n            return filepath;\r\n        }\r\n        else {\r\n            return path.resolve(__dirname, '..', filepath);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @param filepath assert path related to ./packages/shiki\r\n */\r\nasync function _fetchAssets(filepath) {\r\n    const path = _resolvePath(filepath);\r\n    if (isBrowser) {\r\n        return await fetch(path).then(r => r.text());\r\n    }\r\n    else {\r\n        const fs = require('fs');\r\n        return await fs.promises.readFile(path, 'utf-8');\r\n    }\r\n}\r\nasync function _fetchJSONAssets(filepath) {\r\n    const errors = [];\r\n    const rawTheme = parse(await _fetchAssets(filepath), errors, {\r\n        allowTrailingComma: true\r\n    });\r\n    if (errors.length) {\r\n        throw errors[0];\r\n    }\r\n    return rawTheme;\r\n}\r\n/**\r\n * @param themePath related path to theme.json\r\n */\r\nasync function fetchTheme(themePath) {\r\n    let theme = await _fetchJSONAssets(themePath);\r\n    const shikiTheme = toShikiTheme(theme);\r\n    if (shikiTheme.include) {\r\n        const includedTheme = await fetchTheme(join(dirname(themePath), shikiTheme.include));\r\n        if (includedTheme.settings) {\r\n            shikiTheme.settings = includedTheme.settings.concat(shikiTheme.settings);\r\n        }\r\n        if (includedTheme.bg && !shikiTheme.bg) {\r\n            shikiTheme.bg = includedTheme.bg;\r\n        }\r\n        if (includedTheme.colors) {\r\n            shikiTheme.colors = Object.assign(Object.assign({}, includedTheme.colors), shikiTheme.colors);\r\n        }\r\n        delete shikiTheme.include;\r\n    }\r\n    return shikiTheme;\r\n}\r\nasync function fetchGrammar(filepath) {\r\n    return await _fetchJSONAssets(filepath);\r\n}\r\nfunction repairTheme(theme) {\r\n    // Has the default no-scope setting with fallback colors\r\n    if (!theme.settings)\r\n        theme.settings = [];\r\n    if (theme.settings[0] && theme.settings[0].settings && !theme.settings[0].scope) {\r\n        return;\r\n    }\r\n    // Push a no-scope setting with fallback colors\r\n    theme.settings.unshift({\r\n        settings: {\r\n            foreground: theme.fg,\r\n            background: theme.bg\r\n        }\r\n    });\r\n}\r\nfunction toShikiTheme(rawTheme) {\r\n    const type = rawTheme.type || 'dark';\r\n    const shikiTheme = Object.assign(Object.assign({ name: rawTheme.name, type }, rawTheme), getThemeDefaultColors(rawTheme));\r\n    if (rawTheme.include) {\r\n        shikiTheme.include = rawTheme.include;\r\n    }\r\n    if (rawTheme.tokenColors) {\r\n        shikiTheme.settings = rawTheme.tokenColors;\r\n        delete shikiTheme.tokenColors;\r\n    }\r\n    repairTheme(shikiTheme);\r\n    return shikiTheme;\r\n}\r\n/**\r\n * https://github.com/microsoft/vscode/blob/f7f05dee53fb33fe023db2e06e30a89d3094488f/src/vs/platform/theme/common/colorRegistry.ts#L258-L268\r\n */\r\nconst VSCODE_FALLBACK_EDITOR_FG = { light: '#333333', dark: '#bbbbbb' };\r\nconst VSCODE_FALLBACK_EDITOR_BG = { light: '#fffffe', dark: '#1e1e1e' };\r\nfunction getThemeDefaultColors(theme) {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    let fg, bg;\r\n    /**\r\n     * First try:\r\n     * Theme might contain a global `tokenColor` without `name` or `scope`\r\n     * Used as default value for foreground/background\r\n     */\r\n    let settings = theme.settings ? theme.settings : theme.tokenColors;\r\n    const globalSetting = settings\r\n        ? settings.find(s => {\r\n            return !s.name && !s.scope;\r\n        })\r\n        : undefined;\r\n    if ((_a = globalSetting === null || globalSetting === void 0 ? void 0 : globalSetting.settings) === null || _a === void 0 ? void 0 : _a.foreground) {\r\n        fg = globalSetting.settings.foreground;\r\n    }\r\n    if ((_b = globalSetting === null || globalSetting === void 0 ? void 0 : globalSetting.settings) === null || _b === void 0 ? void 0 : _b.background) {\r\n        bg = globalSetting.settings.background;\r\n    }\r\n    /**\r\n     * Second try:\r\n     * If there's no global `tokenColor` without `name` or `scope`\r\n     * Use `editor.foreground` and `editor.background`\r\n     */\r\n    if (!fg && ((_d = (_c = theme) === null || _c === void 0 ? void 0 : _c.colors) === null || _d === void 0 ? void 0 : _d['editor.foreground'])) {\r\n        fg = theme.colors['editor.foreground'];\r\n    }\r\n    if (!bg && ((_f = (_e = theme) === null || _e === void 0 ? void 0 : _e.colors) === null || _f === void 0 ? void 0 : _f['editor.background'])) {\r\n        bg = theme.colors['editor.background'];\r\n    }\r\n    /**\r\n     * Last try:\r\n     * If there's no fg/bg color specified in theme, use default\r\n     */\r\n    if (!fg) {\r\n        fg = theme.type === 'light' ? VSCODE_FALLBACK_EDITOR_FG.light : VSCODE_FALLBACK_EDITOR_FG.dark;\r\n    }\r\n    if (!bg) {\r\n        bg = theme.type === 'light' ? VSCODE_FALLBACK_EDITOR_BG.light : VSCODE_FALLBACK_EDITOR_BG.dark;\r\n    }\r\n    return {\r\n        fg,\r\n        bg\r\n    };\r\n}\n\n/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\nclass Resolver {\r\n    constructor(onigLibPromise, onigLibName) {\r\n        this.languagesPath = 'languages/';\r\n        this.languageMap = {};\r\n        this.scopeToLangMap = {};\r\n        this._onigLibPromise = onigLibPromise;\r\n        this._onigLibName = onigLibName;\r\n    }\r\n    get onigLib() {\r\n        return this._onigLibPromise;\r\n    }\r\n    getOnigLibName() {\r\n        return this._onigLibName;\r\n    }\r\n    getLangRegistration(langIdOrAlias) {\r\n        return this.languageMap[langIdOrAlias];\r\n    }\r\n    async loadGrammar(scopeName) {\r\n        const lang = this.scopeToLangMap[scopeName];\r\n        if (!lang) {\r\n            return null;\r\n        }\r\n        if (lang.grammar) {\r\n            return lang.grammar;\r\n        }\r\n        const g = await fetchGrammar(languages.includes(lang) ? `${this.languagesPath}${lang.path}` : lang.path);\r\n        lang.grammar = g;\r\n        return g;\r\n    }\r\n    addLanguage(l) {\r\n        this.languageMap[l.id] = l;\r\n        if (l.aliases) {\r\n            l.aliases.forEach(a => {\r\n                this.languageMap[a] = l;\r\n            });\r\n        }\r\n        this.scopeToLangMap[l.scopeName] = l;\r\n    }\r\n}\n\n/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\nfunction tokenizeWithTheme(theme, colorMap, fileContents, grammar, options) {\r\n    let lines = fileContents.split(/\\r\\n|\\r|\\n/);\r\n    let ruleStack = INITIAL;\r\n    let actual = [];\r\n    let final = [];\r\n    for (let i = 0, len = lines.length; i < len; i++) {\r\n        let line = lines[i];\r\n        if (line === '') {\r\n            actual = [];\r\n            final.push([]);\r\n            continue;\r\n        }\r\n        let resultWithScopes;\r\n        let tokensWithScopes;\r\n        let tokensWithScopesIndex;\r\n        if (options.includeExplanation) {\r\n            resultWithScopes = grammar.tokenizeLine(line, ruleStack);\r\n            tokensWithScopes = resultWithScopes.tokens;\r\n            tokensWithScopesIndex = 0;\r\n        }\r\n        let result = grammar.tokenizeLine2(line, ruleStack);\r\n        let tokensLength = result.tokens.length / 2;\r\n        for (let j = 0; j < tokensLength; j++) {\r\n            let startIndex = result.tokens[2 * j];\r\n            let nextStartIndex = j + 1 < tokensLength ? result.tokens[2 * j + 2] : line.length;\r\n            if (startIndex === nextStartIndex) {\r\n                continue;\r\n            }\r\n            let metadata = result.tokens[2 * j + 1];\r\n            let foreground = StackElementMetadata.getForeground(metadata);\r\n            let foregroundColor = colorMap[foreground];\r\n            let fontStyle = StackElementMetadata.getFontStyle(metadata);\r\n            let explanation = [];\r\n            if (options.includeExplanation) {\r\n                let offset = 0;\r\n                while (startIndex + offset < nextStartIndex) {\r\n                    let tokenWithScopes = tokensWithScopes[tokensWithScopesIndex];\r\n                    let tokenWithScopesText = line.substring(tokenWithScopes.startIndex, tokenWithScopes.endIndex);\r\n                    offset += tokenWithScopesText.length;\r\n                    explanation.push({\r\n                        content: tokenWithScopesText,\r\n                        scopes: explainThemeScopes(theme, tokenWithScopes.scopes)\r\n                    });\r\n                    tokensWithScopesIndex++;\r\n                }\r\n            }\r\n            actual.push({\r\n                content: line.substring(startIndex, nextStartIndex),\r\n                color: foregroundColor,\r\n                fontStyle,\r\n                explanation: explanation\r\n            });\r\n        }\r\n        final.push(actual);\r\n        actual = [];\r\n        ruleStack = result.ruleStack;\r\n    }\r\n    return final;\r\n}\r\nfunction explainThemeScopes(theme, scopes) {\r\n    let result = [];\r\n    for (let i = 0, len = scopes.length; i < len; i++) {\r\n        let parentScopes = scopes.slice(0, i);\r\n        let scope = scopes[i];\r\n        result[i] = {\r\n            scopeName: scope,\r\n            themeMatches: explainThemeScope(theme, scope, parentScopes)\r\n        };\r\n    }\r\n    return result;\r\n}\r\nfunction matchesOne(selector, scope) {\r\n    let selectorPrefix = selector + '.';\r\n    if (selector === scope || scope.substring(0, selectorPrefix.length) === selectorPrefix) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction matches(selector, selectorParentScopes, scope, parentScopes) {\r\n    if (!matchesOne(selector, scope)) {\r\n        return false;\r\n    }\r\n    let selectorParentIndex = selectorParentScopes.length - 1;\r\n    let parentIndex = parentScopes.length - 1;\r\n    while (selectorParentIndex >= 0 && parentIndex >= 0) {\r\n        if (matchesOne(selectorParentScopes[selectorParentIndex], parentScopes[parentIndex])) {\r\n            selectorParentIndex--;\r\n        }\r\n        parentIndex--;\r\n    }\r\n    if (selectorParentIndex === -1) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction explainThemeScope(theme, scope, parentScopes) {\r\n    let result = [], resultLen = 0;\r\n    for (let i = 0, len = theme.settings.length; i < len; i++) {\r\n        let setting = theme.settings[i];\r\n        let selectors;\r\n        if (typeof setting.scope === 'string') {\r\n            selectors = setting.scope.split(/,/).map(scope => scope.trim());\r\n        }\r\n        else if (Array.isArray(setting.scope)) {\r\n            selectors = setting.scope;\r\n        }\r\n        else {\r\n            continue;\r\n        }\r\n        for (let j = 0, lenJ = selectors.length; j < lenJ; j++) {\r\n            let rawSelector = selectors[j];\r\n            let rawSelectorPieces = rawSelector.split(/ /);\r\n            let selector = rawSelectorPieces[rawSelectorPieces.length - 1];\r\n            let selectorParentScopes = rawSelectorPieces.slice(0, rawSelectorPieces.length - 1);\r\n            if (matches(selector, selectorParentScopes, scope, parentScopes)) {\r\n                // match!\r\n                result[resultLen++] = setting;\r\n                // break the loop\r\n                j = lenJ;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\n\nfunction renderToHtml(lines, options = {}) {\r\n    var _a;\r\n    const bg = options.bg || '#fff';\r\n    const optionsByLineNumber = groupBy((_a = options.lineOptions) !== null && _a !== void 0 ? _a : [], option => option.line);\r\n    let html = '';\r\n    html += `<pre class=\"shiki\" style=\"background-color: ${bg}\">`;\r\n    if (options.langId) {\r\n        html += `<div class=\"language-id\">${options.langId}</div>`;\r\n    }\r\n    html += `<code>`;\r\n    lines.forEach((l, lineIndex) => {\r\n        var _a;\r\n        const lineNumber = lineIndex + 1;\r\n        const lineOptions = (_a = optionsByLineNumber.get(lineNumber)) !== null && _a !== void 0 ? _a : [];\r\n        const lineClasses = getLineClasses(lineOptions).join(' ');\r\n        html += `<span class=\"${lineClasses}\">`;\r\n        l.forEach(token => {\r\n            const cssDeclarations = [`color: ${token.color || options.fg}`];\r\n            if (token.fontStyle & FontStyle.Italic) {\r\n                cssDeclarations.push('font-style: italic');\r\n            }\r\n            if (token.fontStyle & FontStyle.Bold) {\r\n                cssDeclarations.push('font-weight: bold');\r\n            }\r\n            if (token.fontStyle & FontStyle.Underline) {\r\n                cssDeclarations.push('text-decoration: underline');\r\n            }\r\n            html += `<span style=\"${cssDeclarations.join('; ')}\">${escapeHtml(token.content)}</span>`;\r\n        });\r\n        html += `</span>\\n`;\r\n    });\r\n    html = html.replace(/\\n*$/, ''); // Get rid of final new lines\r\n    html += `</code></pre>`;\r\n    return html;\r\n}\r\nconst htmlEscapes = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;'\r\n};\r\nfunction escapeHtml(html) {\r\n    return html.replace(/[&<>\"']/g, chr => htmlEscapes[chr]);\r\n}\r\nfunction getLineClasses(lineOptions) {\r\n    var _a;\r\n    const lineClasses = new Set(['line']);\r\n    for (const lineOption of lineOptions) {\r\n        for (const lineClass of (_a = lineOption.classes) !== null && _a !== void 0 ? _a : []) {\r\n            lineClasses.add(lineClass);\r\n        }\r\n    }\r\n    return Array.from(lineClasses);\r\n}\n\nclass Registry extends Registry$1 {\r\n    constructor(_resolver) {\r\n        super(_resolver);\r\n        this._resolver = _resolver;\r\n        this.themesPath = 'themes/';\r\n        this._resolvedThemes = {};\r\n        this._resolvedGrammars = {};\r\n    }\r\n    getTheme(theme) {\r\n        if (typeof theme === 'string') {\r\n            return this._resolvedThemes[theme];\r\n        }\r\n        else {\r\n            return theme;\r\n        }\r\n    }\r\n    async loadTheme(theme) {\r\n        if (typeof theme === 'string') {\r\n            if (!this._resolvedThemes[theme]) {\r\n                this._resolvedThemes[theme] = await fetchTheme(`${this.themesPath}${theme}.json`);\r\n            }\r\n            return this._resolvedThemes[theme];\r\n        }\r\n        else {\r\n            theme = toShikiTheme(theme);\r\n            if (theme.name) {\r\n                this._resolvedThemes[theme.name] = theme;\r\n            }\r\n            return theme;\r\n        }\r\n    }\r\n    async loadThemes(themes) {\r\n        return await Promise.all(themes.map(theme => this.loadTheme(theme)));\r\n    }\r\n    getLoadedThemes() {\r\n        return Object.keys(this._resolvedThemes);\r\n    }\r\n    getGrammar(name) {\r\n        return this._resolvedGrammars[name];\r\n    }\r\n    async loadLanguage(lang) {\r\n        const g = await this.loadGrammar(lang.scopeName);\r\n        this._resolvedGrammars[lang.id] = g;\r\n        if (lang.aliases) {\r\n            lang.aliases.forEach(la => {\r\n                this._resolvedGrammars[la] = g;\r\n            });\r\n        }\r\n    }\r\n    async loadLanguages(langs) {\r\n        for (const lang of langs) {\r\n            this._resolver.addLanguage(lang);\r\n        }\r\n        for (const lang of langs) {\r\n            await this.loadLanguage(lang);\r\n        }\r\n    }\r\n    getLoadedLanguages() {\r\n        return Object.keys(this._resolvedGrammars);\r\n    }\r\n}\n\nfunction resolveLang(lang) {\r\n    return typeof lang === 'string'\r\n        ? languages.find(l => { var _a; return l.id === lang || ((_a = l.aliases) === null || _a === void 0 ? void 0 : _a.includes(lang)); })\r\n        : lang;\r\n}\r\nfunction resolveOptions(options) {\r\n    var _a;\r\n    let _languages = languages;\r\n    let _themes = options.themes || [];\r\n    if ((_a = options.langs) === null || _a === void 0 ? void 0 : _a.length) {\r\n        _languages = options.langs.map(resolveLang);\r\n    }\r\n    if (options.theme) {\r\n        _themes.unshift(options.theme);\r\n    }\r\n    if (!_themes.length) {\r\n        _themes = ['nord'];\r\n    }\r\n    return { _languages, _themes };\r\n}\r\nasync function getHighlighter(options) {\r\n    var _a, _b;\r\n    const { _languages, _themes } = resolveOptions(options);\r\n    const _resolver = new Resolver(getOniguruma(), 'vscode-oniguruma');\r\n    const _registry = new Registry(_resolver);\r\n    if ((_a = options.paths) === null || _a === void 0 ? void 0 : _a.themes) {\r\n        _registry.themesPath = options.paths.themes;\r\n    }\r\n    if ((_b = options.paths) === null || _b === void 0 ? void 0 : _b.languages) {\r\n        _resolver.languagesPath = options.paths.languages;\r\n    }\r\n    const themes = await _registry.loadThemes(_themes);\r\n    const _defaultTheme = themes[0];\r\n    let _currentTheme;\r\n    await _registry.loadLanguages(_languages);\r\n    /**\r\n     * Shiki was designed for VS Code, so CSS variables are not currently supported.\r\n     * See: https://github.com/shikijs/shiki/pull/212#issuecomment-906924986\r\n     *\r\n     * Instead, we work around this by using valid hex color codes as lookups in a\r\n     * final \"repair\" step which translates those codes to the correct CSS variables.\r\n     */\r\n    const COLOR_REPLACEMENTS = {\r\n        '#000001': 'var(--shiki-color-text)',\r\n        '#000002': 'var(--shiki-color-background)',\r\n        '#000004': 'var(--shiki-token-constant)',\r\n        '#000005': 'var(--shiki-token-string)',\r\n        '#000006': 'var(--shiki-token-comment)',\r\n        '#000007': 'var(--shiki-token-keyword)',\r\n        '#000008': 'var(--shiki-token-parameter)',\r\n        '#000009': 'var(--shiki-token-function)',\r\n        '#000010': 'var(--shiki-token-string-expression)',\r\n        '#000011': 'var(--shiki-token-punctuation)',\r\n        '#000012': 'var(--shiki-token-link)'\r\n    };\r\n    function fixCssVariablesTheme(theme, colorMap) {\r\n        theme.bg = COLOR_REPLACEMENTS[theme.bg] || theme.bg;\r\n        theme.fg = COLOR_REPLACEMENTS[theme.fg] || theme.fg;\r\n        colorMap.forEach((val, i) => {\r\n            colorMap[i] = COLOR_REPLACEMENTS[val] || val;\r\n        });\r\n    }\r\n    function getTheme(theme) {\r\n        const _theme = theme ? _registry.getTheme(theme) : _defaultTheme;\r\n        if (!_theme) {\r\n            throw Error(`No theme registration for ${theme}`);\r\n        }\r\n        if (!_currentTheme || _currentTheme.name !== _theme.name) {\r\n            _registry.setTheme(_theme);\r\n            _currentTheme = _theme;\r\n        }\r\n        const _colorMap = _registry.getColorMap();\r\n        if (_theme.name === 'css-variables') {\r\n            fixCssVariablesTheme(_theme, _colorMap);\r\n        }\r\n        return { _theme, _colorMap };\r\n    }\r\n    function getGrammar(lang) {\r\n        const _grammar = _registry.getGrammar(lang);\r\n        if (!_grammar) {\r\n            throw Error(`No language registration for ${lang}`);\r\n        }\r\n        return { _grammar };\r\n    }\r\n    function codeToThemedTokens(code, lang = 'text', theme, options = { includeExplanation: true }) {\r\n        if (isPlaintext(lang)) {\r\n            const lines = code.split(/\\r\\n|\\r|\\n/);\r\n            return [...lines.map(line => [{ content: line }])];\r\n        }\r\n        const { _grammar } = getGrammar(lang);\r\n        const { _theme, _colorMap } = getTheme(theme);\r\n        return tokenizeWithTheme(_theme, _colorMap, code, _grammar, options);\r\n    }\r\n    function codeToHtml(code, arg1 = 'text', arg2) {\r\n        let options;\r\n        // codeToHtml(code, options?) overload\r\n        if (typeof arg1 === 'object') {\r\n            options = arg1;\r\n        }\r\n        // codeToHtml(code, lang?, theme?) overload\r\n        else {\r\n            options = {\r\n                lang: arg1,\r\n                theme: arg2\r\n            };\r\n        }\r\n        const tokens = codeToThemedTokens(code, options.lang, options.theme, {\r\n            includeExplanation: false\r\n        });\r\n        const { _theme } = getTheme(options.theme);\r\n        return renderToHtml(tokens, {\r\n            fg: _theme.fg,\r\n            bg: _theme.bg,\r\n            lineOptions: options === null || options === void 0 ? void 0 : options.lineOptions\r\n        });\r\n    }\r\n    async function loadTheme(theme) {\r\n        await _registry.loadTheme(theme);\r\n    }\r\n    async function loadLanguage(lang) {\r\n        const _lang = resolveLang(lang);\r\n        _resolver.addLanguage(_lang);\r\n        await _registry.loadLanguage(_lang);\r\n    }\r\n    function getLoadedThemes() {\r\n        return _registry.getLoadedThemes();\r\n    }\r\n    function getLoadedLanguages() {\r\n        return _registry.getLoadedLanguages();\r\n    }\r\n    function getBackgroundColor(theme) {\r\n        const { _theme } = getTheme(theme);\r\n        return _theme.bg;\r\n    }\r\n    function getForegroundColor(theme) {\r\n        const { _theme } = getTheme(theme);\r\n        return _theme.fg;\r\n    }\r\n    return {\r\n        codeToThemedTokens,\r\n        codeToHtml,\r\n        getTheme: (theme) => {\r\n            return getTheme(theme)._theme;\r\n        },\r\n        loadTheme,\r\n        loadLanguage,\r\n        getBackgroundColor,\r\n        getForegroundColor,\r\n        getLoadedThemes,\r\n        getLoadedLanguages\r\n    };\r\n}\r\nfunction isPlaintext(lang) {\r\n    return !lang || ['plaintext', 'txt', 'text'].includes(lang);\r\n}\n\n/** @deprecated use setWasm instead, will be removed in a future version */\r\nfunction setOnigasmWASM(path) {\r\n    setWasm(path);\r\n}\n\nexport { languages as BUNDLED_LANGUAGES, themes as BUNDLED_THEMES, FontStyle, getHighlighter, fetchTheme as loadTheme, renderToHtml, setCDN, setOnigasmWASM, setWasm, toShikiTheme };\n","<template>\n    <div class=\"container\">\n        <div class=\"bar1\"></div>\n        <div class=\"bar2\"></div>\n        <div class=\"bar3\"></div>\n        <div class=\"bar4\"></div>\n        <div class=\"bar5\"></div>\n    </div>\n</template>\n<style scoped>\n.container{\n    display: flex;\n}\n.bar1, .bar2, .bar3, .bar4, .bar5 {\n    width: 5px;\n    height: 37px;\n    margin: 2px;\n    background-color: rgb(143, 181, 214);\n    animation: loading 1s infinite ease-in-out;\n}\n\n.bar2{\n    animation-delay: 0.1s;\n}\n.bar3{\n    animation-delay: 0.2s;\n}\n.bar4{\n    animation-delay: 0.3s;\n}\n.bar5{\n    animation-delay: 0.4s;\n}\n\n@keyframes loading {\n    0%, 40%, 100%{\n        -webkit-transform: scaleY(0.5);\n    }\n    20%{\n        -webkit-transform: scaleY(1);\n    }\n}\n\n</style>\n","import { render } from \"./BarLoading.vue?vue&type=template&id=89eb5528&scoped=true\"\nconst script = {}\n\nimport \"./BarLoading.vue?vue&type=style&index=0&id=89eb5528&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/confluence-helper/confluence-helper/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-89eb5528\"]])\n\nexport default __exports__","<template>\n  <div\n    style=\"\n        width: 100vw;\n        display: flex;\n        justify-content: center;\n        height: 15vh;\n        align-items: center;\n        border-bottom: thin solid rgba(0, 0, 0, .1)\n  \">\n    <div>\n        <button @click=\"router.go(-1)\" class=\"back-button\">\n            Back\n        </button>\n        <button @click=\"selectMdAndConvert\" :class=\"{disabled: loading}\">\n            Select File\n        </button>\n        <button\n            @click=\"copy\"\n            :class=\"{disabled: loading || mdNotSelected, 'copied-button': copied}\"\n            class=\"copy-button\"\n        >\n            Copy\n        </button>\n    </div>\n  </div>\n  <div style=\"width: 100vw; display: flex; justify-content: center\">\n    <div v-if=\"loading\" class=\"loading\">\n      <bar-loading />\n    </div>\n    <div v-else-if=\"mdNotSelected\" style=\"text-align: left; width: 600px; padding: 24px\">\n        <div>STEPS:</div>\n        <div>1. Click on select-file-button to select markdown</div>\n        <div>2. Wait for converting finished</div>\n        <div>\n            3. Click on copy-button to copy HTML and then go to confluence\n        </div>\n        <div>\n            4. Paste with the extension <strong>mdToConf</strong>\n        </div>\n    </div>\n    <div\n        v-else\n        ref=\"resultRef\"\n        style=\"text-align: left; width: 600px; font-family: Avenir, Helvetica, Arial, sans-serif\"\n    ></div>\n  </div>\n</template>\n\n<script setup>\nimport MarkdownIt from 'markdown-it';\nimport { getHighlighter, setCDN } from 'shiki';\nimport customizedStyle from '@/assets/customized-style.json';\nimport { nextTick, ref } from 'vue';\nimport BarLoading from '@/components/BarLoading.vue';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\nconst resultRef = ref(null);\nconst loading = ref(false);\nconst mdNotSelected = ref(true);\nconst copied = ref(false);\n\nasync function md2Html(mdStr) {\n  loading.value = true;\n  setCDN('https://cdn.jsdelivr.net/npm/shiki/');\n\n  // get all langs needed\n  const langs = ['html', 'js', 'css'];\n  new MarkdownIt({\n    html: true,\n    highlight(_, lang) {\n      if (!langs.includes(lang)) {\n        if (lang) {\n          langs.push(lang);\n        }\n      }\n      return '';\n    },\n  }).render(mdStr);\n\n  const highlighter = await getHighlighter({\n    theme: 'github-light',\n    langs,\n  });\n  const md = new MarkdownIt({\n    html: true,\n    highlight(str, lang) {\n      try {\n        return highlighter.codeToHtml(str, { lang });\n      } catch (err) {\n        console.error(err);\n        return '';\n      }\n    },\n  });\n\n  loading.value = false;\n\n  nextTick(() => {\n    resultRef.value.innerHTML = md.render(mdStr);\n    Object.entries(customizedStyle).forEach(([key, value]) => {\n      Array.from(resultRef.value.querySelectorAll(key)).forEach((elem) => {\n        elem.style = value;\n      });\n    });\n    Array.from(resultRef.value.querySelectorAll('img')).forEach((elem) => {\n      elem.style.maxWidth = '100%';\n    });\n  });\n}\n\nfunction selectMdAndConvert() {\n  const input = document.createElement('input');\n  input.type = 'file';\n  input.click();\n  input.onchange = (ev) => {\n    mdNotSelected.value = false;\n    const [file] = ev.target.files;\n    const reader = new FileReader();\n    reader.readAsText(file, 'UTF-8');\n    reader.onload = (ev_) => {\n      md2Html(ev_.target.result);\n    };\n  };\n}\n\nfunction copy() {\n  navigator.clipboard.writeText(resultRef.value.innerHTML);\n  copied.value = true;\n  setTimeout(() => {\n    copied.value = false;\n  }, 1500);\n}\n</script>\n\n<style scoped>\n.loading {\n  height: 50vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.back-button {\n  background-color: rgb(154, 139, 206);\n}\n.copy-button {\n    position: relative;\n    overflow: visible;\n}\n.copied-button::after {\n  content: 'Copied!';\n  position: absolute;\n  background-color: rgba(0, 0, 0, .87);\n  padding: 4px 8px;\n  border-radius: 4px;\n  top: 0;\n  right: -90px;\n}\n</style>\n","import script from \"./MarkdownToHtml.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MarkdownToHtml.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MarkdownToHtml.vue?vue&type=style&index=0&id=8df38568&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/confluence-helper/confluence-helper/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8df38568\"]])\n\nexport default __exports__"],"names":["wellKnownSymbol","create","definePropertyModule","UNSCOPABLES","ArrayPrototype","Array","prototype","undefined","f","configurable","value","module","exports","key","ArrayBuffer","DataView","NAME","Constructor","Prototype","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","isCallable","isObject","hasOwn","classof","tryToString","createNonEnumerableProperty","redefine","defineProperty","isPrototypeOf","getPrototypeOf","setPrototypeOf","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","Object","TypeError","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQUIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isView","it","klass","isTypedArray","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","property","forced","options","ARRAY","TypedArrayConstructor","error","error2","exportTypedArrayStaticMethod","Function","get","this","fails","F","constructor","getBuiltIn","activeXDocument","anObject","definePropertiesModule","enumBugKeys","hiddenKeys","html","documentCreateElement","sharedKey","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","String","contentWindow","document","open","NullProtoObject","ActiveXObject","domain","length","O","Properties","result","V8_PROTOTYPE_DEFINE_BUG","toIndexedObject","objectKeys","defineProperties","props","keys","index","toObject","CORRECT_PROTOTYPE_GETTER","object","internalObjectKeys","toPositiveInteger","RangeError","BYTES","offset","toIntegerOrInfinity","$","lengthOfArrayLike","addToUnscopables","target","proto","at","len","relativeIndex","k","uncurryThis","requireObjectCoercible","toString","charAt","FORCED","S","ArrayBufferViewCore","call","toOffset","$set","set","WORKS_WITH_OBJECTS_AND_GEERIC_ON_TYPED_ARRAYS","array","TO_OBJECT_BUG","arrayLike","arguments","assign","obj","sources","slice","forEach","source","_class","isString","isRegExp","isFunction","escapeRE","str","replace","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","isOptionsObj","reduce","acc","hasOwnProperty","defaultSchemas","validate","text","pos","self","tail","re","http","RegExp","src_auth","src_host_port_strict","src_path","test","match","no_http","src_domain","src_domain_root","src_port","src_host_terminator","mailto","src_email_name","src_host_strict","tlds_2ch_src_re","tlds_default","split","resetScanCache","__index__","__text_cache__","createValidator","createNormalizer","normalize","compile","require","__opts__","tlds","__tlds__","untpl","tpl","src_tlds","onCompile","__tlds_replaced__","push","src_xn","join","email_fuzzy","tpl_email_fuzzy","link_fuzzy","tpl_link_fuzzy","link_no_ip_fuzzy","tpl_link_no_ip_fuzzy","host_fuzzy_test","tpl_host_fuzzy_test","aliases","schemaError","name","val","Error","__compiled__","__schemas__","compiled","link","alias","slist","filter","map","schema_test","src_ZPCc","schema_search","schema_at_start","pretest","Match","shift","start","end","__last_index__","schema","__schema__","toLowerCase","lastIndex","raw","url","createMatch","LinkifyIt","schemas","add","definition","m","ml","me","next","tld_pos","at_pos","exec","testSchemaAt","search","indexOf","matchAtStart","list","keepOld","isArray","concat","sort","el","idx","arr","reverse","opts","src_Any","src_Cc","src_Z","src_P","src_ZCc","text_separators","src_pseudo_letter","src_ip4","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","tpl_host_fuzzy_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","attr_name","unquoted","single_quoted","double_quoted","attr_value","attribute","open_tag","close_tag","comment","processing","declaration","cdata","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","_hasOwnProperty","has","arrayReplaceAt","newElements","isValidEntityCode","c","fromCodePoint","surrogate1","surrogate2","fromCharCode","UNESCAPE_MD_RE","ENTITY_RE","UNESCAPE_ALL_RE","DIGITAL_ENTITY_TEST_RE","entities","replaceEntityPattern","code","charCodeAt","parseInt","unescapeMd","unescapeAll","escaped","entity","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","ch","escapeHtml","REGEXP_ESCAPE_RE","isSpace","isWhiteSpace","UNICODE_PUNCT_RE","isPunctChar","isMdAsciiPunct","normalizeReference","trim","toUpperCase","lib","mdurl","ucmicro","parseLinkLabel","parseLinkDestination","parseLinkTitle","max","level","lines","ok","state","disableNested","found","marker","prevPos","labelEnd","posMax","oldPos","md","inline","skipToken","utils","helpers","Renderer","ParserCore","ParserBlock","ParserInline","punycode","config","default","zero","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","validateLink","RECODE_HOSTNAME_FOR","normalizeLink","parsed","parse","hostname","protocol","toASCII","er","encode","format","normalizeLinkText","toUnicode","decode","defaultChars","MarkdownIt","presetName","block","core","renderer","linkify","configure","presets","components","rules","ruler","enableOnly","rules2","ruler2","enable","ignoreInvalid","chain","missed","disable","use","plugin","args","apply","env","State","process","tokens","render","parseInline","inlineMode","renderInline","Ruler","_rules","i","alt","tokenize","startLine","endLine","getRules","line","hasEmptyLines","maxNesting","skipEmptyLines","sCount","blkIndent","tight","isEmpty","outTokens","lineMax","Core","l","_rules2","cache","pending","pushPending","xhtmlOut","breaks","langPrefix","typographer","quotes","highlight","default_rules","code_inline","slf","token","renderAttrs","code_block","fence","highlighted","tmpAttrs","tmpToken","info","langName","langAttrs","attrIndex","attrs","image","renderInlineAsText","children","renderToken","hardbreak","softbreak","html_block","html_inline","nextToken","needLf","hidden","nesting","tag","type","__rules__","__cache__","__find__","__compile__","chains","rule","enabled","altName","fn","opt","before","beforeName","ruleName","splice","after","afterName","chainName","silent","adjustTab","initial","lastLineEmpty","nextLine","oldBMarks","oldBSCount","oldIndent","oldParentType","oldSCount","oldTShift","spaceAfterMarker","terminate","terminatorRules","isOutdented","oldLineMax","bMarks","tShift","eMarks","bsCount","parentType","markup","last","getLines","params","mem","haveEndMarker","skipChars","skipSpaces","tmp","skipSpacesBack","skipCharsBack","cnt","block_names","HTML_SEQUENCES","lineText","skipBulletListMarker","skipOrderedListMarker","markTightParagraphs","contentStart","indent","indentAfterMarker","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","oldListIndent","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","listIndent","Number","Math","min","_endLine","destEndPos","destEndLineNo","href","label","res","title","references","Token","StateBlock","s","indent_found","ddIndent","from","begin","keepLastLF","lineIndent","first","queue","lineStart","getLine","escapedSplit","isEscaped","lastPos","current","substring","columns","columnCount","aligns","t","tableLines","tbodyLines","firstCh","secondCh","pop","tok","isLinkOpen","isLinkClose","j","currentToken","nodes","ln","htmlLinkLevel","fullUrl","urlText","links","blockTokens","NEWLINES_RE","NULL_RE","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","r","tm","replaceFn","replace_scoped","inlineTokens","inside_autolink","replace_rare","blkIdx","QUOTE_TEST_RE","QUOTE_RE","APOSTROPHE","replaceAt","process_inlines","thisLevel","item","lastChar","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","canOpen","canClose","isSingle","stack","openQuote","closeQuote","OUTER","single","StateCore","curr","EMAIL_RE","AUTOLINK_RE","matchStart","matchEnd","openerLength","closerLength","backticksScanned","backticks","processDelimiters","delimiters","closerIdx","openerIdx","closer","opener","minOpenerIdx","newMinOpenerIdx","isOddMatch","lastJump","openersBottom","headerIdx","lastTokenIdx","jumps","tokens_meta","postProcess","startDelim","endDelim","isStrong","scanned","scanDelims","can_open","can_close","DIGITAL_RE","NAMED_RE","ESCAPED","ch1","ch2","origStr","escapedStr","isLetter","lc","linkLevel","labelStart","ref","parseReference","SCHEME_RE","pmax","ws","StateInline","pendingLevel","_prev_delimiters","token_meta","canSplitWord","count","left_flanking","right_flanking","loneMarkers","isTerminatorChar","meta","attrPush","attrData","attrSet","attrGet","attrJoin","decodeCache","getDecodeCache","exclude","string","seq","b1","b2","b3","b4","chr","componentChars","encodeCache","getEncodeCache","keepEscaped","nextCode","encodeURIComponent","slashes","auth","port","pathname","hash","Url","protocolPattern","portPattern","simplePathPattern","delims","unwise","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","hostlessProtocol","slashedProtocol","urlParse","slashesDenoteHost","u","lowerProto","hec","rest","simplePath","substr","atSign","hostEnd","lastIndexOf","host","parseHost","ipv6Hostname","hostparts","part","newpart","validParts","notHost","bit","unshift","qm","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","mapDomain","parts","labels","encoded","ucs2decode","output","counter","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","input","inputLength","n","bias","basic","oldi","w","baseMinusT","out","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","q","qMinusT","Any","Cc","Cf","P","Z","e","__importDefault","__esModule","setDefaultDebugCall","createOnigScanner","createOnigString","loadWASM","OnigScanner","OnigString","o","a","_utf8ByteLength","utf16Length","utf8Length","utf16Value","utf8Value","utf16OffsetToUtf8","utf8OffsetToUtf16","createString","_omalloc","HEAPU8","id","LAST_ID","_onigBinding","_sharedPtrInUse","_sharedPtr","ptr","convertUtf8OffsetToUtf16","convertUtf16OffsetToUtf8","dispose","_ofree","HEAPU32","_createOnigScanner","UTF8ToString","_getLastOnigError","_ptr","_freeOnigScanner","findNextMatchSync","_findNextMatchSync","_findNextOnigScannerMatchDbg","_findNextOnigScannerMatch","captureIndices","instantiator","print","data","Response","WebAssembly","instantiateStreaming","async","arrayBuffer","instantiate","Promise","instantiateWasm","performance","Date","now","emscripten_get_now","wasi_snapshot_preview1","then","instance","currentScript","ready","p","locateFile","readbuffer","v","read","scriptArgs","onig_print","console","log","warn","printErr","h","bind","d","thisProgram","quit","g","_","wasmBinary","noExitRuntime","z","y","A","b","TextDecoder","subarray","U","x","HEAP8","HEAP16","HEAP32","HEAPU16","HEAPF32","HEAPF64","INITIAL_MEMORY","T","R","E","M","L","I","preRun","N","D","W","postRun","func","ut","B","H","monitorRunDependencies","V","clearInterval","onAbort","RuntimeError","startsWith","preloadedImages","preloadedAudios","Y","G","J","K","Q","X","fetch","resolve","credentials","catch","st","asm","memory","buffer","__indirect_function_table","arg","tt","copyWithin","nt","et","grow","byteLength","rt","dateNow","mappings","buffers","printChar","varargs","getStr","get64","ot","ft","emscripten_memcpy_big","emscripten_resize_heap","fd_write","setTempRet0","___wasm_call_ctors","__wasm_call_ctors","ct","calledRun","onRuntimeInitialized","setStatus","setTimeout","___errno_location","__errno_location","omalloc","ofree","getLastOnigError","freeOnigScanner","findNextOnigScannerMatch","findNextOnigScannerMatchDbg","stackSave","stackRestore","stackAlloc","dynCall_jiji","run","preInit","root","factory","installedModules","__webpack_require__","moduleId","modules","getter","enumerable","Symbol","toStringTag","mode","ns","utils_1","rule_1","matcher_1","debug_1","performanceNow","createGrammar","grammar","initialLanguage","embeddedLanguages","tokenTypes","grammarRepository","onigLib","Grammar","FullScopeDependency","scopeName","PartialScopeDependency","include","toKey","ScopeDependencyCollector","full","partial","visitedRule","Set","_seenFull","_seenPartial","dep","_extractIncludedScopesInPatterns","baseGrammar","selfGrammar","patterns","repository","_i","patterns_1","pattern","patternRepository","mergeObjects","collectDependencies","collectSpecificDependencies","sharpIndex","includedName","injections","injection","scopesAreMatching","thisScopeName","nameMatcher","identifers","scopes","every","identifier","collectInjections","selector","ruleFactoryHelper","matchers","createMatchers","ruleId","RuleFactory","getCompiledRuleId","matchers_1","matcher","priority","ScopeMetadata","languageId","tokenType","themeData","ScopeMetadataProvider","themeProvider","_initialLanguage","_themeProvider","_cache","Map","_defaultMetaData","getDefaults","_embeddedLanguages","scope","language","escapedScopes","_escapeRegExpCharacters","_embeddedLanguagesRegex","onDidChangeTheme","getDefaultMetadata","getMetadataForScope","_NULL_SCOPE_METADATA","_doGetMetadataForScope","_scopeToLanguage","standardTokenType","_toStandardTokenType","themeMatch","STANDARD_TOKEN_TYPE_REGEXP","_scopeMetadataProvider","_onigLib","_rootId","_lastRuleId","_ruleId2desc","_includedGrammars","_grammarRepository","_grammar","initGrammar","_injections","_tokenTypeMatchers","_a","_b","matchers_2","getInjections","_this","rawInjections","expression","injectionScopeNames","injectionScopeName","injectionGrammar","getExternalGrammar","injectionSelector","i1","i2","registerRule","getRule","patternId","rawIncludedGrammar","lookup","$base","tokenizeLine","prevState","_tokenize","lineTokens","getResult","ruleStack","lineLength","tokenizeLine2","getBinaryResult","emitBinaryTokens","isFirstLine","$self","StackElement","NULL","reset","rawDefaultMetadata","defaultTheme","defaultMetadata","StackElementMetadata","fontStyle","foreground","background","rootScopeName","getName","rawRootMetadata","rootMetadata","ScopeListElement","mergeMetadata","scopeList","onigLineText","LineTokens","nextState","_tokenizeString","disposeOnigString","clone","$vscodeTextmateLocation","handleCaptures","captures","lineTextContent","localStack","maxEnd","captureRule","captureIndex","endPos","produceFromScopes","produce","retokenizeCapturedWithRuleId","nameScopesList","contentNameScopesList","contentName","getContentName","stackClone","onigSubStr","captureRuleScopeName","captureRuleScopesList","LocalStackElement","debugCompiledRuleToString","ruleScanner","debugRegExps","matchRuleOrInjections","linePos","anchorPosition","matchResult","endRule","perfStart","DebugFlags","InDebugMode","scanner","elapsedMillis","debugName","matchedRuleId","injectionResult","bestMatchRuleId","bestMatchRating","MAX_VALUE","bestMatchCaptureIndices","bestMatchResultPriority","generateScopes","matchRating","priorityMatch","matchResultScore","injectionResultScore","checkWhileConditions","STOP","whileCheckResult","beginRuleCapturedEOL","whileRules","node","nodeRule","BeginWhileRule","whileRule","compileWhile","debugWhileRegExp","whileCaptures","scanNext","hasAdvanced","poppedRule","debugEndRegExp","setContentNameScopesList","endCaptures","popped","getAnchorPos","getEnterPos","_rule","beforePush","BeginEndRule","pushedRule","debugBeginRegExp","beginCaptures","endHasBackReferences","setEndRule","getEndWithResolvedBackReferences","hasSameRuleAs","whileHasBackReferences","getWhileWithResolvedBackReferences","matchingRule","debugMatchRegExp","safePop","toBinaryStr","metadata","printMetadata","getLanguageId","getTokenType","getFontStyle","getForeground","getBackground","_languageId","_tokenType","_fontStyle","_foreground","_background","parent","_equals","equals","other","_matchesScope","selectorWithDot","_matches","parentScopes","scopesList","_push","rawMetadata","_generateScopes","resultLen","enterPos","anchorPos","depth","_enterPos","_anchorPos","_structuralEquals","_reset","_writeString","outIndex","tokenTypeOverrides","_emitBinaryTokens","_tokenTypeOverrides","_lineText","_tokens","_binaryTokens","_lastTokenEndIndex","endIndex","toTemporaryType","startIndex","standardType","doClone","something","basename","path","CAPTURING_REGEX_SOURCE","RegexSource","hasCaptures","regexSource","replaceCaptures","captureSource","commandIndex","command","capture","VSCODE_TEXTMATE_DEBUG","__awaiter","thisArg","_arguments","generator","reject","fulfilled","step","rejected","throw","done","__generator","body","sent","trys","ops","verb","return","iterator","op","registry_1","grammarReader","theme_1","grammar_1","Registry","_options","_syncRegistry","SyncRegistry","Theme","createFromRawTheme","theme","colorMap","_ensureGrammarCache","setTheme","getColorMap","loadGrammarWithEmbeddedLanguages","initialScopeName","loadGrammarWithConfiguration","configuration","_loadGrammar","loadGrammar","_doLoadSingleGrammar","addGrammar","_loadSingleGrammar","_collectDependenciesForDep","injections_1","seenFullScopeRequests","seenPartialScopeRequests","deps","q_1","_c","_d","_e","all","request","grammarForScopeName","rawGrammar","INITIAL","parseRawGrammar","onigLibPromise","_theme","_grammars","_rawGrammars","_injectionGrammars","_onigLibPromise","targetScope","extendStatics","__extends","__proto__","__","HAS_BACK_REFERENCES","BACK_REFERENCING_END","CompiledRule","regExps","Rule","$location","_name","_nameIsCapturing","_contentName","_contentNameIsCapturing","location","filename","CaptureRule","_super","collectPatternsRecursive","isFirst","endRegexSource","allowA","allowG","RegExpSource","regExpSource","handleAnchors","lastPushedPos","hasAnchor","nextCh","_anchorCache","_buildAnchorCache","hasBackReferences","setSource","newSource","resolveBackReferences","capturedValues","g1","A0_G0_result","A0_G1_result","A1_G0_result","A1_G1_result","A0_G0","A0_G1","A1_G0","A1_G1","resolveAnchors","RegExpSourceList","_items","_hasAnchors","_cached","_disposeCaches","_resolveAnchors","MatchRule","_match","_cachedCompiledPatterns","IncludeOnlyRule","hasMissingPatterns","applyEndPatternLast","_begin","_end","_while","_cachedCompiledWhilePatterns","createCaptureRule","helper","desc","_compileCaptures","_compilePatterns","while","maximumCaptureId","captureId","numericCaptureId","localIncludedRule","externalGrammarName","externalGrammarInclude","externalGrammar","externalIncludedRule","skipRule","isIdentifier","matchesName","regex","results","tokenizer","parseConjunction","parseOperand","expressionToNegate_1","matcherInput","expressionInParents","some","identifiers_1","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","Item","noop","nextTick","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","plist","json_1","filePath","contents","JSON","parseWithLocation","_parse","locationKeyName","char","advancePosBy","by","advancePosTo","to","skipWhitespace","chCode","advanceIfStartsWith","advanceUntil","nextOccurence","captureUntil","cur","stateStack","objStack","curKey","pushState","newState","newCur","popState","fail","msg","isClosed","dictState","newDict","newArr","arrState","leaveDict","leaveArray","acceptString","acceptReal","isNaN","acceptInteger","acceptDate","acceptData","acceptBool","parseTagValue","m0","peekChCode","parseFloat","doFail","streamState","withMetadata","JSONStreamState","JSONToken","nextJSONToken","toLocation","keyValue","_state","_out","ParsedThemeRule","isValidHexColor","hex","parseTheme","settings","entry","lenJ","segments","resolveParsedThemeRules","parsedThemeRules","_colorMap","strcmp","strArrCmp","defaultFontStyle","defaultForeground","defaultBackground","incomingDefaults","ColorMap","defaults","ThemeTrieElementRule","getId","ThemeTrieElement","insert","_lastColorId","_id2color","_color2id","_isFrozen","color","_root","_defaults","createFromParsedTheme","len1","len2","scopeDepth","cloneArr","acceptOverwrite","mainRule","rulesWithParentScopes","_mainRule","_rulesWithParentScopes","_children","_sortBySpecificity","_cmpBySpecificity","aParentScopes","bParentScopes","aParentScopesLen","bParentScopesLen","aLen","bLen","head","dotIndex","child","_doInsertHere","languages","samplePath","embeddedLangs","FontStyle","ParseOptions","NotSet","trimEndSlash","endsWith","trimStartDot","dirname","groupBy","elements","keyGetter","element","group","createScanner","ignoreTrivia","tokenOffset","lineNumber","lineStartOffset","tokenLineStartOffset","prevTokenLineStartOffset","scanError","scanHexDigits","exact","digits","setPosition","newPosition","scanNumber","isDigit","scanString","isLineBreak","ch3","safeLength","commentClosed","isUnknownContentCharacter","scanNextNonTrivia","getPosition","scan","getToken","getTokenValue","getTokenOffset","getTokenLength","getTokenStartLine","getTokenStartCharacter","getTokenError","parse$1","DEFAULT","currentProperty","currentParent","previousParents","onValue","visitor","onObjectBegin","onObjectProperty","onObjectEnd","onArrayBegin","onArrayEnd","onLiteralValue","onError","visit","_scanner","toNoArgVisit","visitFunction","toOneArgVisit","onSeparator","onComment","disallowComments","allowTrailingComma","handleError","skipUntilAfter","skipUntil","parseString","isValue","parseLiteral","tokenValue","parseProperty","parseValue","parseObject","needsComma","parseArray","allowEmptyContent","isWebWorker","WorkerGlobalScope","isBrowser","window","CDN_ROOT","WASM","setCDN","_onigurumaPromise","getOniguruma","loader","_resolvePath","wasmPath","fs","wasmBin","readFileSync","filepath","isAbsolute","__dirname","_fetchAssets","promises","readFile","_fetchJSONAssets","rawTheme","fetchTheme","themePath","shikiTheme","toShikiTheme","includedTheme","bg","colors","fetchGrammar","repairTheme","fg","getThemeDefaultColors","tokenColors","VSCODE_FALLBACK_EDITOR_FG","light","dark","VSCODE_FALLBACK_EDITOR_BG","_f","globalSetting","find","Resolver","onigLibName","languagesPath","languageMap","scopeToLangMap","_onigLibName","getOnigLibName","getLangRegistration","langIdOrAlias","lang","includes","addLanguage","tokenizeWithTheme","fileContents","actual","final","resultWithScopes","tokensWithScopes","tokensWithScopesIndex","includeExplanation","tokensLength","nextStartIndex","foregroundColor","explanation","tokenWithScopes","tokenWithScopesText","explainThemeScopes","themeMatches","explainThemeScope","matchesOne","selectorPrefix","matches","selectorParentScopes","selectorParentIndex","parentIndex","selectors","setting","rawSelector","rawSelectorPieces","renderToHtml","optionsByLineNumber","lineOptions","option","langId","lineIndex","lineClasses","getLineClasses","cssDeclarations","Italic","Bold","Underline","htmlEscapes","lineOption","lineClass","classes","Registry$1","_resolver","super","themesPath","_resolvedThemes","_resolvedGrammars","getTheme","themes","loadTheme","getLoadedThemes","getGrammar","la","langs","loadLanguage","getLoadedLanguages","resolveLang","resolveOptions","_languages","_themes","getHighlighter","_registry","paths","loadThemes","_defaultTheme","_currentTheme","loadLanguages","COLOR_REPLACEMENTS","fixCssVariablesTheme","codeToThemedTokens","isPlaintext","codeToHtml","arg1","arg2","_lang","getBackgroundColor","getForegroundColor","class","_hoisted_2","_createElementBlock","_hoisted_7","script","__exports__","router","useRouter","resultRef","loading","mdNotSelected","copied","md2Html","mdStr","highlighter","err","innerHTML","entries","customizedStyle","querySelectorAll","elem","maxWidth","selectMdAndConvert","createElement","click","onchange","ev","file","files","reader","FileReader","readAsText","onload","ev_","copy","navigator","clipboard","writeText"],"sourceRoot":""}